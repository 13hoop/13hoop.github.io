<html>
<head>
	
	<title>AutoLayout 的一个重要概念</title>
	<meta name="keywords" content="Hi, boring world!" />

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    
    <!--<link rel="stylesheet" href="/css/main.css">-->
	<link href="/css/main.css?v=2" rel="stylesheet" type="text/css" />
    <!--<link rel="stylesheet" href="/css/style.css">-->
    

    <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Atom feed">

    
	<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2"/>
    

</head>

<body>

<h6 id="autolayout-by-yongsir"><a href="#AutoLayout-by-YongSir&#x1F1E8;&#x1F1F3;&#x1F1E8;&#x1F1F3;" class="headerlink" title="AutoLayout by YongSir&#x1F1E8;&#x1F1F3;&#x1F1E8;&#x1F1F3;"></a>AutoLayout by YongSir&#x1F1E8;&#x1F1F3;&#x1F1E8;&#x1F1F3;</h6><p>&#x5982;&#x679C;&#x4F60;&#x5E38;&#x5E38;&#x4E3A;&#x660E;&#x660E;&#x5199;&#x597D;&#x4E86;&#x81EA;&#x52A8;&#x5E03;&#x5C40;&#x7684;&#x4EE3;&#x7801;&#x800C;&#x5F97;&#x4E0D;&#x5230;&#x60F3;&#x5E94;&#x5F97;&#x6548;&#x679C;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x5728;&#x9700;&#x8981;&#x6309;&#x5185;&#x5BB9;&#x81EA;&#x9002;&#x5E94;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x4F60;&#x9700;&#x8981;&#x77E5;&#x9053;&#x4E00;&#x4E2A;&#x91CD;&#x8981;&#x7684;&#x6982;&#x5FF5;&#x548C;&#x7406;&#x89E3;&#x5404;&#x4E2A;&#x5E03;&#x5C40;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x95EE;&#x9898;</p>
<ul>
<li><p><code>&#x5185;&#x5BB9;&#x7684;&#x538B;&#x7F29;&#x963B;&#x529B;</code>&#x548C;<code>&#x5185;&#x5BB9;&#x5305;&#x88F9;</code></p>
<p>&#x4ECE;StackOverFlow&#x4E0A;&#x7684;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x5F00;&#x59CB;&#xFF0C;&#x8FD8;&#x662F;&#x5EFA;&#x8BAE;&#x5148;&#x770B;&#x539F;&#x6587;&#xFF0C;&#x6BD5;&#x7ADF;&#x597D;&#x591A;&#x8001;&#x5916;&#x7684;&#x8BCD;&#x5E76;&#x4E0D;&#x662F;&#x90A3;&#x4E48;&#x597D;&#x7FFB;&#x8BD1;</p>
<p>what is the content compression  resistance and content hugging of UIView?</p>
<p>Taken from objc.io&#x2019;s excellent Advanced Auto Layout Toolbox article:</p>
<blockquote>
<p><strong>Intrinsic Content Size</strong></p>
<p>The intrinsic content size is the size a view prefers to have for a specific content it displays. For example, UILabel has a preferred height based on the font, and a preferred width based on the font and the text it displays. A UIProgressView only has a preferred height based on its artwork, but no preferred width. A plain UIView has neither a preferred width nor a preferred height.</p>
<p><strong>Compression Resistance and Content Hugging</strong></p>
<p>Each view has content compression resistance priorities and content hugging priorities assigned for both dimensions. These properties only take effect for views which define an intrinsic content size, otherwise there is no content size defined that could resist compression or be hugged.</p>
<p>Behind the scenes, the intrinsic content size and these priority values get translated into constraints. For a label with an intrinsic content size of { 100, 30 }, horizontal/vertical compression resistance priority of 750, and horizontal/vertical content hugging priority of 250, four constraints will be generated:</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">H:[label(&lt;=100@250)]</span><br><span class="line">H:[label(&gt;=100@750)]</span><br><span class="line">V:[label(&lt;=30@250)]</span><br><span class="line">V:[label(&gt;=30@750)]</span><br></pre></td></tr></table></figure>
<p>If you&#x2019;re not familiar with the visual format language for the constraints used above, you can read up about it in Apple&#x2019;s documentation. Keeping in mind that these additional constraints are generated implicitly helps to understand Auto Layout&#x2019;s behavior and to make better sense of its error messages.</p>
<p>Here&#x2019;s another StackOverflow question that addresses the difference between content compression resistance &amp; content hugging: Cocoa Autolayout: content hugging vs content compression resistance priority</p>
<p>Quick summary of the concepts:</p>
<ul>
<li>Hugging =&gt; content does not want to grow</li>
<li>Compression Resistance =&gt; content does not want to shrink</li>
</ul>
<p>and an example:</p>
<p>Say you&#x2019;ve got button like this:</p>
<p>  <code>[      Click Me      ]</code></p>
<p>and you&#x2019;ve pinned the edges to a larger superview with priority 500.</p>
<p>Then, if Hugging priority &gt; 500 it&#x2019;ll look like this:</p>
<p>  <code>[Click Me]</code></p>
<p>If Hugging priority &lt; 500 it&#x2019;ll look like this:</p>
<p>  <code>[      Click Me      ]</code></p>
<p>If superview now shrinks then, if the Compression Resistance priority &gt; 500, it&#x2019;ll look like this</p>
<p>  <code>[Click Me]</code></p>
<p>Else if Compression Resistance priority &lt; 500, it could look like this:</p>
<p>  <code>[Cli..]</code></p>
<p>If it doesn&#x2019;t work like this then you&#x2019;ve probably got some other constraints going on that are messing up your good work!</p>
<p>E.g. you could have it pinned to the superview with priority 1000. Or you could have a width priority. If so, this can be helpful:</p>
<p>Editor &gt; Size to Fit Content</p>
</li>
</ul>
<hr>
<p>&#x5176;&#x5B9E;&#x8BF4;&#x7684;&#x5DF2;&#x7ECF;&#x5F88;&#x8BE6;&#x7EC6;&#x4E86;</p>
<ul>
<li><p><strong>&#x56FA;&#x6709;&#x5185;&#x5BB9;&#x5927;&#x5C0F;</strong></p>
<p>&#x56FA;&#x6709;&#x5185;&#x5BB9;&#x5927;&#x5C0F;&#x662F;&#x6240;&#x663E;&#x793A;&#x5185;&#x5BB9;&#x7684;&#x9996;&#x9009;&#xFF08;&#x6216;&#x8005;&#x4FDD;&#x8BC1;&#x663E;&#x793A;&#x5B8C;&#x6574;&#x7684;&#x6700;&#x5C0F;&#x7A0B;&#x5EA6;&#xFF09;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x6BD4;&#x5982;UILabel&#x7684;&#x56FA;&#x6709;&#x9AD8;&#x5EA6;&#x5C31;&#x662F;&#x5F53;&#x524D;&#x6240;&#x7528;&#x5B57;&#x4F53;&#xFF08;&#x5305;&#x62EC;&#x5B57;&#x578B;&#x548C;&#x5B57;&#x4F53;&#x5927;&#x5C0F;&#xFF09;&#x7684;&#x9996;&#x9009;&#x9AD8;&#x5EA6;&#xFF0C;&#x56FA;&#x6709;&#x5BBD;&#x5EA6;&#x5C31;&#x662F;&#x5F53;&#x524D;&#x5B57;&#x4F53;&#x548C;&#x5185;&#x5BB9;&#x4E00;&#x8D77;&#x51B3;&#x5B9A;&#x7684;&#x9996;&#x9009;&#x5BBD;&#x5EA6;&#x3002;UIProgressView&#x7684;&#x56FA;&#x6709;&#x5185;&#x5BB9;&#x5927;&#x5C0F;&#xFF0C;&#x5C31;&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x9996;&#x9009;&#x7684;&#x4FBF;&#x4E0E;&#x5B8C;&#x6574;&#x663E;&#x793A;&#x8FDB;&#x5EA6;&#x6761;&#x5F62;&#x72B6;&#x7684;&#x56FA;&#x6709;&#x9AD8;&#x5EA6;&#xFF0C;&#x800C;&#x6CA1;&#x6709;&#x4E00;&#x4E2A;&#x9996;&#x9009;&#x7684;&#x5BBD;&#x5EA6;&#x53BB;&#x51B3;&#x5B9A;&#x8981;&#x663E;&#x793A;&#x591A;&#x957F;&#x7684;&#x8FDB;&#x5EA6;&#x3002;&#x4E00;&#x4E2A;&#x4EC0;&#x4E48;&#x90FD;&#x4E0D;&#x663E;&#x793A;&#x7684;&#x7A7A;&#x767D;&#x7684;&#x7B80;&#x6613;&#x7684;view&#x662F;&#x6CA1;&#x6709;&#x9996;&#x9009;&#x5BBD;&#x548C;&#x9AD8;&#x7684;&#x3002;</p>
</li>
<li><p><strong>&#x538B;&#x7F29;&#x963B;&#x529B;</strong> &#x548C; <strong>&#x5185;&#x5BB9;&#x5305;&#x88F9;</strong><br>&#x6BCF;&#x4E00;&#x4E2A;view&#x90FD;&#x5206;&#x914D;&#x597D;&#x7684;&#xFF1A;&#x5185;&#x5BB9;&#x538B;&#x7F29;&#x548C;&#x5185;&#x5BB9;&#x5305;&#x88F9;&#x8FD9;2&#x4E2A;&#x65B9;&#x9762;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;&#x4F18;&#x5148;&#x7EA7;&#x5C5E;&#x6027;&#x4EC5;&#x4EC5;&#x5728;&#x51B3;&#x5B9A;&#x56FA;&#x6709;&#x5927;&#x5C0F;&#x65F6;&#x8D77;&#x4F5C;&#x7528;&#xFF0C;&#x6CA1;&#x6709;&#x5185;&#x5BB9;&#x65F6;&#x662F;&#x4E0D;&#x8D77;&#x4F5C;&#x7528;&#x7684;&#x3002;<br>&#x5728;&#x80CC;&#x540E;&#xFF0C;&#x56FA;&#x6709;&#x5927;&#x5C0F;&#x548C;&#x8FD9;&#x4E24;&#x4E2A;&#x4F18;&#x5148;&#x7EA7;&#x5C5E;&#x6027;&#x503C;&#x4F1A;&#x8F6C;&#x5316;&#x8868;&#x73B0;&#x4E3A;&#x7EA6;&#x675F;&#xFF08;constrains&#xFF09;&#xFF0C;&#x5982;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x663E;&#x793A;&#x7740;&#x56FA;&#x6709;&#x5185;&#x5BB9;&#x5927;&#x5C0F;&#x4E3A;&#xFF5B;100&#xFF0C;30&#xFF5D;&#x7684;UILabel&#x6765;&#x8BF4;&#xFF0C;&#x6C34;&#x5E73;&#x548C;&#x5782;&#x76F4;&#x7684;&#x538B;&#x7F29;&#x963B;&#x529B;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x503C;&#x4E3A;750&#xFF0C;&#x5185;&#x5BB9;&#x5305;&#x88F9;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x4E3A;250&#xFF0C;&#x6240;&#x4EE5;&#x672C;&#x8D28;&#x4E0A;&#x4F1A;&#x8F6C;&#x5316;&#x4E3A;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">H:[label(&lt;=100@250)]</span><br><span class="line">H:[label(&gt;=100@750)]</span><br><span class="line">V:[label(&lt;=30@250)]</span><br><span class="line">V:[label(&gt;=30@750)]</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>&#x5728;&#x5F62;&#x8C61;&#x4E00;&#x4E9B;&#x4E86;&#x89E3;&#x8FD9;&#x4E9B;&#x6982;&#x5FF5;&#xFF1A;</p>
<ul>
<li>&#x5305;&#x88F9;&#xFF08;Hugging&#xFF09; =&gt; &#x5185;&#x5BB9;&#x4E0D;&#x5E0C;&#x671B;&#x518D;&#x589E;&#x5927;</li>
<li>&#x538B;&#x7F29;&#x963B;&#x529B;&#xFF08;Compression Resistance&#xFF09; =&gt; &#x5185;&#x5BB9;&#x4E0D;&#x5E0C;&#x671B;&#x518D;&#x538B;&#x7F29;</li>
</ul>
<p>&#x4E00;&#x4E2A;&#x6709;&#x5F88;&#x5927;&#x7684;&#x7236;&#x89C6;&#x56FE;&#x7684;&#x5C0F;btn&#xFF0C;&#x4E0A;&#x4E0B;&#x5DE6;&#x53F3;&#x8FB9;&#x8DDD;&#x90FD;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x7A7A;&#x9699;&#xFF0C;&#x5E76;&#x4E14;&#x4F18;&#x5148;&#x7EA7;&#x8BBE;&#x4E3A;500</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[       Click Me      ]</span><br></pre></td></tr></table></figure>
<ul>
<li><p>&#x5982;&#x679C;&#x5305;&#x88F9;&#x7684;&#x4F18;&#x5148;&#x7EA7; &gt; 500&#xFF0C;&#x5C31;&#x4F1A;&#x81EA;&#x52A8;&#x5305;&#x88F9;&#xFF0C;&#x53D8;&#x6210;&#x8FD9;&#x6837;:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[Click Me]</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x5982;&#x679C;&#x5305;&#x88F9;&#x7684;&#x4F18;&#x5148;&#x7EA7; &lt; 500&#xFF0C;&#x5C31;&#x4E0D;&#x4F1A;&#x81EA;&#x52A8;&#x5305;&#x88F9;&#xFF0C;&#x7EF4;&#x6301;&#x8FD9;&#x6837;:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[      Click Me      ]</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>&#x5982;&#x679C;&#x7236;&#x89C6;&#x56FE;&#x73B0;&#x5728;&#x538B;&#x7F29;</p>
<ul>
<li><p>&#x5982;&#x679C;&#x538B;&#x7F29;&#x963B;&#x529B;&#x4F18;&#x5148;&#x7EA7; &gt; 500&#xFF0C;&#x4F1A;&#x53D8;&#x6210;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[Click Me]</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x538B;&#x7F29;&#x963B;&#x529B;&#x4F18;&#x5148;&#x7EA7; &lt; 500, it could look like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[Cli..]</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>&#x5982;&#x679C;&#x6CA1;&#x6709;&#x8FD9;&#x4E24;&#x4E2A;&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x5C5E;&#x6027;&#xFF0C;&#x663E;&#x7136;&#x5728;&#x8BBE;&#x7F6E;&#x5E03;&#x5C40;&#x65F6;&#x6211;&#x4EEC;&#x8981;&#x5904;&#x7406;&#x66F4;&#x591A;&#x7684;&#x7EA6;&#x675F;&#xFF01;</p>
<p><strong>&#x6240;&#x4EE5;&#xFF0C;&#x5728;&#x81EA;&#x5DF1;&#x6DFB;&#x52A0;&#x89C6;&#x56FE;&#x7684;&#x7EA6;&#x675F;&#x65F6;&#xFF0C;&#x8981;&#x786E;&#x4FDD;&#x5B50;&#x89C6;&#x56FE;&#x7684;&#x5185;&#x5BB9;&#x538B;&#x7F29;&#x963B;&#x529B;&#x548C;&#x5438;&#x9644;&#x5C5E;&#x6027;&#x7EA6;&#x675F;&#x6CA1;&#x6709;&#x88AB;&#x66F4;&#x9AD8;&#x4F18;&#x5148;&#x7EA7;&#x7684;&#x7EA6;&#x675F;&#x6761;&#x4EF6;&#x8986;&#x76D6;&#x6389;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;&#x5F88;&#x591A;&#x65F6;&#x5019;&#x660E;&#x660E;&#x52A0;&#x4E0A;&#x4E86;&#x7EA6;&#x675F;&#x800C;&#x6CA1;&#x6709;&#x8D77;&#x4F5C;&#x7528;&#x7684;&#x539F;&#x56E0;&#x3002;</strong></p>
<p>E.g. you could have it pinned to the superview with priority 1000. Or you could have a width priority. If so, this can be helpful:<br>Editor &gt; Size to Fit Content</p>


<!--<a href="http://13hoop.github.io/2015/04/13/AutoLayout-的一个重要概念/#disqus_thread" class="article-comment-link">Comments</a>-->
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = '13hoopgithub'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

<div style="display:none">
<script src="http://s4.cnzz.com/stat.php?id=undefined&web_id=undefined" language="JavaScript"></script>script>
</div>







</body>
</html>
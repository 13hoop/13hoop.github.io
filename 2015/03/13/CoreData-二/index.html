<html>
<head>
	
	<title>CoreData(äºŒ)</title>
	<meta name="keywords" content="My Blog, Spider Bitch!" />

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    
    <!--<link rel="stylesheet" href="/css/main.css">-->
	<link href="/css/main.css?v=2" rel="stylesheet" type="text/css" />
    <!--<link rel="stylesheet" href="/css/style.css">-->
    

    <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Atom feed">

    
	<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2"/>
    

</head>

<body>

<h6 id="coredata-and-swift"><a href="#CoreData-and-Swift" class="headerlink" title="CoreData and Swift"></a>CoreData and Swift</h6><p>&#x4E0A;&#x4E00;&#x7BC7;&#x4E2D;&#xFF0C;&#x5DF2;&#x7ECF;&#x4F53;&#x9A8C;&#x4E86;CoreData&#x7684;&#x57FA;&#x672C;&#x4F7F;&#x7528;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;Xcode&#x8BBE;&#x8BA1;&#x6570;&#x636E;&#x6A21;&#x578B;&#xFF0C;&#x53EF;&#x4EE5;&#x5BF9;&#x6570;&#x636E;&#x67E5;&#x8BE2;&#xFF0C;&#x589E;&#x52A0;&#xFF0C;&#x66F4;&#x6539;&#xFF0C;&#x4F46;&#x8FD8;&#x4E0D;&#x77E5;&#x9053;&#x5B83;&#x7684;&#x771F;&#x6B63;&#x5DE5;&#x4F5C;&#x673A;&#x5236;&#xFF0C;&#x800C;&#x8FD9;&#x5C06;&#x662F;&#x8FD9;&#x4E00;&#x7BC7;&#x7684;&#x4E3B;&#x8981;&#x5185;&#x5BB9;</p>
<p>Core Data Stack&#xFF0C;the stack is made up of four Core Data Classes:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* NSManagedObjectModel - &#x6258;&#x7BA1;&#x5BF9;&#x8C61;&#x6A21;&#x578B;</span><br><span class="line">* NSPersistentStore &#xFF0D; &#x6301;&#x4E45;&#x5316;&#x5B58;&#x50A8;</span><br><span class="line">* NSPersistentStoreCoordinator &#xFF0D; &#x6301;&#x4E45;&#x5316;&#x5B58;&#x50A8;&#x534F;&#x8C03;&#x5668;</span><br><span class="line">* NSManagedObjectContext &#xFF0D; &#x6258;&#x7BA1;&#x5BF9;&#x8C61;&#x4E0A;&#x4E0B;&#x6587;</span><br></pre></td></tr></table></figure></p>
<p>&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x548C;&#x4E0A;&#x4E0B;&#x6587;NSManagedObjectContext&#x6253;&#x8FC7;&#x4EA4;&#x9053;&#x4E86;&#xFF0C;&#x53EF;&#x60F3;&#x800C;&#x77E5;&#x5176;&#x4ED6;3&#x4E2A;&#x662F;&#x76F8;&#x5BF9;&#x5E95;&#x5C42;&#x7684;&#x4F9D;&#x8D56;&#x5728;&#x652F;&#x63F4;&#x8005;&#x4E0A;&#x4E0B;&#x6587;&#xFF0C;&#x6240;&#x4EE5;&#x8FD8;&#x662F;&#x8001;&#x89C4;&#x77E9;&#x501F;&#x52A9;&#x4E00;&#x4E2A;Demo&#x5F00;&#x59CB;&#x5427;&#x3002;</p>
<p><strong>what we do later</strong></p>
<p>Rather than rely on the default starter template, you&#x2019;ll build your own Core Data stack: a customizable &#x201C;wrapper&#x201D; around these classes that works as a unit.</p>
<p>&#x4E00;&#x4E2A;&#x540D;&#x53EB;&#x201D;dog-walk&#x201D;&#x7684;&#x5C0F;Demo&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x4FDD;&#x5B58;&#x4F60;&#x905B;&#x72D7;&#x7684;&#x65F6;&#x95F4;&#x65E5;&#x671F;&#x5E76;&#x5C55;&#x793A;&#x5230;tableView&#x3002;&#x4E0D;&#x540C;&#x7684;&#x662F;&#xFF0C;&#x6211;&#x4EEC;&#x4E0D;&#x518D;&#x4F9D;&#x8D56;Xcode&#x7684;&#x81EA;&#x52A8;&#x6A21;&#x7248;&#x3002;</p>
<hr>
<p>&#x4E0D;&#x8FC7;&#x518D;&#x6B21;&#x4E4B;&#x524D;&#xFF0C;&#x5148;&#x8981;&#x9686;&#x91CD;&#x5BC4;&#x51FA;&#x8FD9;4&#x4E2A;<code>&#x5173;&#x952E;&#x7C7B;</code></p>
<ul>
<li><p><strong>the mamaged object model</strong></p>
<p>  NSManagedObjectModel represents each object type in your app&#x2019;s data model, the properties they can have, and the relationship between them. Other parts of the Core Data stack use the model to create objects, store properties and save data.<br>  NSManagedObjectModel&#x8868;&#x5F81;&#x5E94;&#x7528;&#x7684;&#x6570;&#x636E;&#x6A21;&#x578B;&#x4E2D;&#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x4EE5;&#x53CA;&#x5BF9;&#x8C61;&#x5305;&#x542B;&#x7684;&#x5C5E;&#x6027;&#x548C;&#x5404;&#x5BF9;&#x8C61;&#x7684;&#x5173;&#x8054;&#x5173;&#x7CFB;&#xFF0C;CoreData&#x7684;&#x5176;&#x4ED6;&#x90E8;&#x5206;&#x4F7F;&#x7528;model&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#xFF0C;&#x4FDD;&#x5B58;&#x5C5E;&#x6027;&#x548C;&#x6570;&#x636E;&#x3002;</p>
</li>
<li><p><strong>the persistent store</strong></p>
<p>  NSPersistentStore reads and writes data to whichever storage method you&#x2019;ve decided to use. Core Data provides four types of NSPersistentStore out of the box: three atomic and one non-atomic.</p>
<p>  NSPersistentStore&#x8BFB;&#x5199;&#x6570;&#x636E;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;coreData&#x63D0;&#x4F9B;&#x4E86;&#x56DB;&#x79CD;&#x65B9;&#x5F0F;&#xFF1A;</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">NSQLiteStoreType (default + nonatomic,backed by SQLite)</span><br><span class="line">NSXMLStoreType (readable + atomic, blacked by XML File, but have a large memory footprint, so available on OS X)</span><br><span class="line">NSBinaryStoreType (just like XML, large memory cost + atomic,blacked by a binary data file)</span><br><span class="line">NSInMemoryStoreType (in-memory not really persistent, terminate disappears)</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>the persistent store coordinator</strong></p>
<p>  NSPersistentStoreCoordinator is the bridge between the managed object model and the persistent store. It is responsible for using the model and the persistent stores to do most of the hard work in Core Data. It understands the NSManagedObjectModel and knows how to send information to, and fetch information from, the NSPersistentStore.<br>  NSPersistentStoreCoordinator also hides the implementation details of how your persistent store or stores are configured. This is useful for two reasons:</p>
<blockquote>
<p>NSManagedObjectContext (coming next!) doesn&#x2019;t have to know if it&#x2019;s saving to an SQLite database, XML file or even iCloud.<br>If you have multiple persistent stores, the persistent store coordinator presents a unified interface to the managed context. As far as the managed context is concerned, it always interacts with a single, aggregate persistent store.</p>
</blockquote>
<p>  <code>NSPersistentStoreCoordinator</code>&#x8D1F;&#x8D23;&#x6865;&#x63A5;&#x6258;&#x7BA1;&#x5BF9;&#x8C61;&#x6A21;&#x578B;&#x548C;&#x6301;&#x4E45;&#x5316;&#x50A8;&#x5B58;&#xFF0C;&#x8D1F;&#x8D23;model&#x7684;&#x4F7F;&#x7528;&#x548C;&#x56FA;&#x5316;&#x5B58;&#x50A8;&#x7B49;&#x8270;&#x96BE;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x63A8;&#x65AD;&#x51FA;&#x201C;&#x5411;NSPersistentStore&#x53D1;&#x9001;&#x4FE1;&#x606F;&#x201D;&#x6216;&#x8005;&#x201C;&#x4ECE;NSPersistentStore&#x83B7;&#x53D6;&#x4FE1;&#x606F;&#x201D;&#x7B49;&#x884C;&#x4E3A;&#x3002;NSPersistentStoreCoordinator&#x8FD8;&#x9690;&#x85CF;&#x4E86;&#x600E;&#x6837;&#x6301;&#x4E45;&#x5316;&#x5B58;&#x50A8;&#x7684;&#x914D;&#x7F6E;&#x7684;&#x5177;&#x4F53;&#x5B9E;&#x65BD;&#x7EC6;&#x5219;&#x3002;&#x8FD9;&#x6837;&#x4E00;&#x6765;</p>
<blockquote>
<p>&#x4E0A;&#x4E0B;&#x6587;&#x4E0D;&#x9700;&#x8981;&#x5173;&#x5FC3;&#x6570;&#x636E;&#x56FA;&#x5316;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x4E0D;&#x8BBA;&#x662F;SQLite&#xFF0C;XML&#x6216;&#x8005;&#x5176;&#x4ED6;&#x7C7B;&#x578B;<br>&#x5982;&#x679C;&#x662F;&#x591A;&#x79CD;&#x7C7B;&#x578B;&#x6DF7;&#x5408;&#x4F7F;&#x7528;&#xFF0C;&#x534F;&#x8C03;&#x5668;&#x5C31;&#x4E3A;&#x4E0A;&#x4E0B;&#x6587;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x4FBF;&#x4E8E;&#x7BA1;&#x7406;&#x7684;&#x7EDF;&#x4E00;&#x63A5;&#x53E3;</p>
</blockquote>
</li>
<li><p><strong>the managed object context</strong></p>
<p>  <img src="/img/CoreData2_001.png" alt=""></p>
<p>  <code>NSManagedObjectContext</code> is an in-memory &#x2018;scratchpad&#x2019;, do all works within it, and any changes won&#x2019;t affect the underlying data on disk until you call save() on the context.<br>  &#x4E0A;&#x4E0B;&#x6587;&#x662F;&#x4E00;&#x4E2A;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x6682;&#x5B58;&#x5668;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x5DE5;&#x4F5C;&#x90FD;&#x8981;&#x7528;&#x5230;&#x5B83;&#xFF0C;&#x4EFB;&#x4F55;&#x53D8;&#x52A8;&#x5728;save()&#x5230;&#x4E0A;&#x4E0B;&#x6587;&#x4E4B;&#x524D;&#x662F;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x5230;&#x786C;&#x76D8;&#x4E0A;&#x7684;&#x6570;&#x636E;&#x7684;&#x3002;&#x5B83;&#x662F;&#x5982;&#x6B64;&#x7684;&#x91CD;&#x8981;&#x8BF7;&#x52A1;&#x5FC5;&#x6CE8;&#x610F;&#x6240;&#x4EE5;&#x4E0B;&#x7279;&#x6027;&#xFF1A;</p>
<ol>
<li><p>The context manages the lifecycle of the objects that it creates or fetches. This lifecycle management includes powerful features such as faulting, inverse relationship handling and validation.<br>&#x4E0A;&#x4E0B;&#x6587;&#x7BA1;&#x7406;&#x7740;&#x5BF9;&#x8C61;&#x521B;&#x5EFA;&#x548C;&#x83B7;&#x53D6;&#x7684;&#x6574;&#x4E2A;&#x751F;&#x547D;&#x5468;&#x671F; &#xFF0D;&#x5305;&#x542B;&#x4E00;&#x4E9B;&#x5F3A;&#x5927;&#x7684;&#x7279;&#x6027;&#x5982;&#x9519;&#x8BEF;&#xFF0C;&#x9006;&#x5411;&#x5173;&#x7CFB;&#x4EE5;&#x53CA;&#x9A8C;&#x8BC1;&#x3002;</p>
</li>
<li><p>A managed object cannot exist without an associated context. In fact, a managed object and its context are so tightly coupled that every managed object keeps a reference to its context, which can be accessed like so:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> employeeContext = employee.managedObjectContext</span><br></pre></td></tr></table></figure>
<p>&#x6258;&#x7BA1;&#x5BF9;&#x8C61;&#x4E0D;&#x80FD;&#x72EC;&#x7ACB;&#x4E8E;&#x5176;&#x4E0A;&#x4E0B;&#x6587;&#x800C;&#x5355;&#x72EC;&#x5B58;&#x5728;&#xFF0C;&#x4ED6;&#x4EEC;&#x662F;&#x5982;&#x6B64;&#x7D27;&#x5BC6;&#x7684;&#x8026;&#x5408;&#xFF0C;&#x4EE5;&#x81F4;&#x4E8E;&#x6211;&#x4EEC;&#x7EA6;&#x5B9A;&#x4EE5;&#x8FD9;&#x6837;&#x7684;&#x547D;&#x540D;&#x548C;&#x4EE3;&#x7801;&#x6765;&#x83B7;&#x53D6;&#x5B83;&#x3002;</p>
</li>
<li><p>Contexts are very territorial; once a managed object has associated with a particular context, it will remain associated with the same context for the duration of its lifecycle.<br>&#x4E0A;&#x4E0B;&#x6587;&#x662F;&#x975E;&#x5E38;&#x81EA;&#x536B;&#x7684;&#xFF08;&#x9886;&#x571F;&#x7684;&#xFF0C;&#x771F;&#x4E0D;&#x597D;&#x7FFB;&#x8BD1;&#x1F613;&#xFF09;&#xFF0C;&#x4E00;&#x65E6;&#x6258;&#x7BA1;&#x5BF9;&#x8C61;&#x6307;&#x5B9A;&#x4E86;&#x4E00;&#x4E2A;&#x4E0A;&#x4E0B;&#x6587;&#xFF0C;&#x90A3;&#x4E48;&#x5728;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x6574;&#x4E2A;&#x751F;&#x547D;&#x5468;&#x671F;&#x90FD;&#x5C06;&#x548C;&#x5148;&#x524D;&#x6307;&#x5B9A;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x6346;&#x7ED1;&#x5173;&#x8054;&#x3002;</p>
</li>
<li><p>An application can use more than one context&#x2014;most non-trivial Core Data applications fall into this category. Since a context is an in-memory scratch pad for what&#x2019;s on disk, you can actually load the same Core Data object onto two different contexts simultaneously.<br>&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;&#x62E5;&#x6709;&#x4E0D;&#x6B62;&#x4E00;&#x4E2A;&#x4E0A;&#x4E0B;&#x6587;&#xFF0C;&#x8BB8;&#x591A;&#x4F18;&#x79C0;&#x7684;&#x5E94;&#x7528;&#x90FD;&#x4F7F;&#x7528;&#x8FD9;&#x4E00;&#x7279;&#x6027;&#x3002;&#x56E0;&#x4E3A;&#x5B83;&#x4EC5;&#x4EC5;&#x53EA;&#x662F;&#x78C1;&#x76D8;&#x4E0A;&#x5185;&#x5BB9;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x6682;&#x5B58;&#xFF0C;&#x6240;&#x4EE5;&#x4F60;&#x5927;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x901A;&#x8FC7;&#x4E0D;&#x540C;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x52A0;&#x8F7D;&#x540C;&#x4E00;&#x4EFD;CoreData&#x5BF9;&#x8C61;&#x3002;</p>
</li>
<li><p>A context is not thread safe. The same goes for a managed object&#x2014;you can only interact with contexts and managed objects on the same thread in which they were created. Apple has provided many ways to work with contexts in multithreaded applications. You&#x2019;ll read all about different concurrency models in Chapter 10, &#x201C;Multiple Managed Object Contexts.&#x201D;<br>&#x4E0A;&#x4E0B;&#x6587;&#x4E0D;&#x662F;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x7684;&#xFF0C;&#x540C;&#x6837;&#x6258;&#x7BA1;&#x5BF9;&#x8C61;&#x4E5F;&#x4E0D;&#x662F;&#xFF0C;&#x6240;&#x4EE5;&#x4F60;&#x6B63;&#x80FD;&#x5728;&#x521B;&#x5EFA;&#x5B83;&#x4EEC;&#x7684;&#x540C;&#x4E00;&#x7EBF;&#x7A0B;&#x4E2D;&#x4E0E;&#x4ED6;&#x4EEC;&#x4EA4;&#x4E92;&#x3002;Apple&#x4E5F;&#x63D0;&#x4F9B;&#x4E86;&#x5F88;&#x591A;&#x79CD;&#x4E0A;&#x4E0B;&#x6587;&#x5728;&#x4E0D;&#x540C;&#x7EBF;&#x7A0B;&#x5DE5;&#x4F5C;&#x7684;&#x673A;&#x5236;&#xFF0C;&#x540E;&#x9762;&#x4F1A;&#x4ECB;&#x7ECD;&#x5230;&#x3002;</p>
</li>
</ol>
</li>
</ul>
<p><strong>&#x603B;&#x4E4B;NSManagedObjectContext&#x662F;&#x4E00;&#x4E2A;&#x5F3A;&#x5927;&#xFF0C;&#x725B;&#x6C14;&#xFF0C;&#x4E13;&#x4E1A;&#xFF0C;&#x5FE0;&#x8BDA;&#x800C;&#x53C8;&#x8106;&#x5F31;&#x7684;&#x4E00;&#x7247;&#x5185;&#x5B58;&#x6682;&#x5B58;&#x3002;</strong></p>
<hr>
<p>Now it&#x2019;s time to return to Dog Walk and implement your own Core Data stack.</p>
<h4 id="&#x9996;&#x5148;&#x5EFA;&#x7ACB;&#x6A21;&#x578B;&#x548C;lazy-core-data-stack"><a href="#&#x9996;&#x5148;&#xFF0C;&#x5EFA;&#x7ACB;&#x6A21;&#x578B;&#x548C;lazy-Core-Data-Stack" class="headerlink" title="&#x9996;&#x5148;&#xFF0C;&#x5EFA;&#x7ACB;&#x6A21;&#x578B;&#x548C;lazy Core Data Stack"></a>&#x9996;&#x5148;&#xFF0C;&#x5EFA;&#x7ACB;&#x6A21;&#x578B;&#x548C;lazy Core Data Stack</h4><p>3&#x4E2A;&#x4E3B;&#x8981;&#x7684;&#x6B65;&#x9AA4; &#xFF0B; &#x8BBE;&#x7F6E;&#x78C1;&#x76D8;&#x56FA;&#x5316;&#x914D;&#x7F6E;NSPersistentStore&#xFF1A;</p>
<blockquote>
<p>&#x5173;&#x8054;<em> .momd&#xFF08;&#x4E5F;&#x5C31;&#x662F;.xcdatamodeld&#xFF09;</em>&#x6587;&#x4EF6;&#x7684;NSManagedObjectModel<br>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6258;&#x7BA1;&#x5BF9;&#x8C61;&#x7684;&#x534F;&#x8C03;&#x5668;NSPersistentStoreCoordinator<br>&#x521B;&#x5EFA;&#x4E0A;&#x4E0B;&#x6587;NSManagedObjectContext</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> CoreData</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CoreDataStack</span> </span>{</span><br><span class="line">  <span class="comment">// &#x56DB;&#x5927;&#x5173;&#x952E;&#x7C7B;</span></span><br><span class="line">  <span class="keyword">let</span> context: <span class="type">NSManagedObjectContext</span></span><br><span class="line">  <span class="keyword">let</span> psc: <span class="type">NSPersistentStoreCoordinator</span></span><br><span class="line">  <span class="keyword">let</span> model: <span class="type">NSManagedObjectModel</span></span><br><span class="line">  <span class="keyword">let</span> store: <span class="type">NSPersistentStore</span>?</span><br><span class="line"></span><br><span class="line">  <span class="comment">// &#x521D;&#x59CB;&#x5316;&#x548C;&#x914D;&#x7F6E;&#x6BCF;&#x4E2A;&#x7EC4;&#x4EF6;</span></span><br><span class="line">  <span class="keyword">init</span>() {</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1 &#x52A0;&#x8F7D;&#x201C;&#x78C1;&#x76D8;&#x4E0A;&#x7684;&#x88AB;&#x6258;&#x7BA1;&#x5BF9;&#x8C61;&#x7684;&#x6A21;&#x578B;&#xFF08;.momd&#x6587;&#x4EF6;&#xFF09;&#x201D;&#x5230;&#x201C;&#x6258;&#x7BA1;&#x5BF9;&#x8C61;&#x6A21;&#x578B;&#xFF08;NSManagedObjectModel&#xFF09;&#x201D;</span></span><br><span class="line">    <span class="comment">// &#x53EF;&#x4EE5;&#x7B80;&#x5355;&#x7684;&#x6BD4;&#x5BF9;&#x7406;&#x89E3;&#x4E3A;&#x4ECE; &#x201C;.xcdatamodeld&#xFF3B;xib&#xFF3D;&#x201D;&#x8BFB;&#x53D6;&#x201C;model...&#xFF3B;&#x89C6;&#x56FE;&#xFF3D;&#x201C;</span></span><br><span class="line">    <span class="keyword">let</span> bundle = <span class="type">NSBundle</span>.mainBundle()</span><br><span class="line">    <span class="keyword">let</span> modelURL = bundle.<span class="type">URLForResource</span>(<span class="string">&quot;Dog Walk&quot;</span>, withExtension: <span class="string">&quot;momd&quot;</span>)</span><br><span class="line">    model = <span class="type">NSManagedObjectModel</span>(contentsOfURL: modelURL!)!</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2 &#x4F7F;&#x7528;&#x6258;&#x7BA1;&#x5BF9;&#x8C61;&#x6A21;&#x578B;,&#x521B;&#x5EFA;&#x534F;&#x8C03;&#x5668;(NSPersistentStoreCoordinator)</span></span><br><span class="line">    psc = <span class="type">NSPersistentStoreCoordinator</span>(managedObjectModel: model)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3 &#x521B;&#x5EFA;&#x4E0A;&#x4E0B;&#x6587;(NSManagedObjectContext),&#x5173;&#x8054;&#x534F;&#x8C03;&#x5668;</span></span><br><span class="line">    context = <span class="type">NSManagedObjectContext</span>()</span><br><span class="line">    context.persistentStoreCoordinator = psc</span><br><span class="line"></span><br><span class="line">    <span class="comment">//4 &#x521B;&#x5EFA;&#x6301;&#x4E45;&#x5316;&#x65B9;&#x5F0F;&#xFF08;NSPersistentStore&#xFF09;&#xFF0C;&#x5E76;&#x4E0D;&#x662F;&#x76F4;&#x89C2;&#x521D;&#x59CB;&#x5316;&#x800C;&#x662F;&#x501F;&#x52A9;&#x534F;&#x8C03;&#x5668;&#x914D;&#x7F6E; &amp;&amp; &#x9519;&#x8BEF;&#x5904;&#x7406;</span></span><br><span class="line">    <span class="keyword">let</span> documentsURL = <span class="type">CoreDataStack</span>.applicationDocumentsDirectory()</span><br><span class="line">    <span class="keyword">let</span> storeURL = documentsURL.<span class="type">URLByAppendingPathComponent</span>(<span class="string">&quot;Dog Walk&quot;</span>)</span><br><span class="line">    <span class="keyword">let</span> options = [<span class="type">NSMigratePersistentStoresAutomaticallyOption</span>: <span class="literal">true</span>]</span><br><span class="line">    <span class="keyword">do</span> {</span><br><span class="line">      store = <span class="keyword">try</span> psc.addPersistentStoreWithType(<span class="type">NSSQLiteStoreType</span>, configuration:  <span class="literal">nil</span>, <span class="type">URL</span>: storeURL, options: options)</span><br><span class="line">    } <span class="keyword">catch</span> <span class="keyword">let</span> error <span class="keyword">as</span> <span class="type">NSError</span> {</span><br><span class="line">      <span class="built_in">print</span>(<span class="keyword">__FUNCTION__</span>  + <span class="string">&quot;&#x6301;&#x4E45;&#x5316;&#x6570;&#x636E;&#x51FA;&#x9519;<span class="subst">\(error)</span>&quot;</span>)</span><br><span class="line">      abort() <span class="comment">// C &#x5E93;&#x51FD;&#x6570; void abort(void) &#x4E2D;&#x6B62;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#xFF0C;&#x76F4;&#x63A5;&#x4ECE;&#x8C03;&#x7528;&#x7684;&#x5730;&#x65B9;&#x8DF3;&#x51FA;</span></span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="comment">// &#x4FDD;&#x5B58;&#x6DFB;&#x52A0;&#x5230;&#x4E0A;&#x4E0B;&#x6587;&#x7684;&#x66F4;&#x6539;  &amp;&amp; &#x9519;&#x8BEF;&#x5904;&#x7406;</span></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">saveContext</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="keyword">if</span> context.hasChanges {</span><br><span class="line">      <span class="keyword">do</span> {</span><br><span class="line">        <span class="keyword">try</span> context.save()</span><br><span class="line">      } <span class="keyword">catch</span> <span class="keyword">let</span> error <span class="keyword">as</span> <span class="type">NSError</span> {</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;&#x6CA1;&#x80FD;&#x4FDD;&#x5B58;&#xFF01;<span class="subst">\(error)</span>&quot;</span>)</span><br><span class="line">        abort()</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">applicationDocumentsDirectory</span>() -&gt; <span class="title">NSURL</span> </span>{</span><br><span class="line">    <span class="keyword">let</span> fileManager = <span class="type">NSFileManager</span>.defaultManager()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// returns a URL to your application&#x2019;s documents directory</span></span><br><span class="line">    <span class="comment">// &#x8FD4;&#x56DE;App&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x7684;url&#xFF0C;&#x6307;&#x5B9A;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x7684;&#x8DEF;&#x5F84;&#xFF0C;&#x4E0D;&#x7BA1;&#x4F60;&#x662F;&#x5426;&#x8981;&#x4F7F;&#x7528;CoreData&#x90FD;&#x662F;&#x5FC5;&#x987B;&#x7684;</span></span><br><span class="line">    <span class="keyword">let</span> urls = fileManager.<span class="type">URLsForDirectory</span>(<span class="type">NSSearchPathDirectory</span>.<span class="type">DocumentDirectory</span>, inDomains: <span class="type">NSSearchPathDomainMask</span>.<span class="type">UserDomainMask</span>)</span><br><span class="line">    <span class="keyword">return</span> urls[<span class="number">0</span>]</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#xFF0C;&#x5F53;&#x7136;&#x6700;&#x63A8;&#x8350;&#x7684;&#x8FD8;&#x662F;&#x5B98;&#x65B9;&#x6587;&#x6863;&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5BF9;&#x6BD4;&#x53EF;&#x660E;&#x663E;&#x770B;&#x51FA;&#x5B98;&#x65B9;&#x7248;&#x672C;&#x8981;&#x4E25;&#x8C28;&#x5F88;&#x591A;&#xFF0C;&#x751A;&#x81F3;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5957;&#x7528;&#x3002;</p>
<p>&#x7136;&#x540E;&#xFF1A;</p>
<ul>
<li>&#x5728;AppDelegate&#x4E2D;lazy coreData&#xFF0C;&#x7136;&#x540E;&#x83B7;&#x53D6;&#x4E0A;&#x4E0B;&#x6587;&#x4F20;&#x9012;&#x5230;VC&#x4E2D;&#x4EE5;&#x4FBF;&#x4E8E;&#x4F7F;&#x7528;&#x3002;</li>
<li>Xcode&#x521B;&#x5EFA;&#x201C;.xcdatamodeld&#x201D;,&#x6CE8;&#x610F;&#x6587;&#x4EF6;&#x547D;&#x540D;&#x8981;&#x548C;&#x4EE3;&#x7801;&#x4E2D;&#x4E00;&#x81F4;&#x3002;</li>
</ul>
<p>&#x6DFB;&#x52A0;entity&#xFF1A;Dog &#x548C; Walk&#xFF0C;&#x8BBE;&#x7F6E;&#x5C5E;&#x6027;&#x548C;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#xFF0C;It&#x2019;s OK to leave this relationship as a to-one relationship. A dog can have many walks, but a walk can only belong to one dog&#x2014;for the purposes of this app, at least. :]</p>
<p>&#x53E6;&#x5916;&#x53EF;&#x4EE5;&#x5230;graph editor&#x4E2D;&#x53BB;&#x770B;&#x770B;&#xFF0C;like this&#xFF1A;<br><img src="/img/CoreData2_002.png" alt=""></p>
<h4 id="&#x5176;&#x6B21;&#x6DFB;&#x52A0;&#x6A21;&#x578B;&#x5BF9;&#x8C61;&#x5B50;&#x7C7B;"><a href="#&#x5176;&#x6B21;&#xFF0C;&#x6DFB;&#x52A0;&#x6A21;&#x578B;&#x5BF9;&#x8C61;&#x5B50;&#x7C7B;" class="headerlink" title="&#x5176;&#x6B21;&#xFF0C;&#x6DFB;&#x52A0;&#x6A21;&#x578B;&#x5BF9;&#x8C61;&#x5B50;&#x7C7B;"></a>&#x5176;&#x6B21;&#xFF0C;&#x6DFB;&#x52A0;&#x6A21;&#x578B;&#x5BF9;&#x8C61;&#x5B50;&#x7C7B;</h4><p>&#x8FD8;&#x662F;&#x501F;&#x52A9;Xocde&#x5728;&#x4FDD;&#x8BC1;&#x6253;&#x5F00;cordite editor&#x7684;&#x57FA;&#x7840;&#x4E0A;&#xFF0C;&#x9009;&#x62E9;creat NSManagedOject SubClass&#x2026;2&#x4E2A;&#x90FD;&#x9009;&#xFF0C;&#x53D1;&#x73B0;&#x751F;&#x6210;4&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;Dog &#x548C; Dog+CoreDataProperties &#x548C; Walk&#x4E5F;&#x4E00;&#x6837;&#xFF08;Xcode7 &#xFF0B; swift2.0&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x539F;&#x6765;&#x7684;&#x8BDD;&#xFF0C;&#x8FD8;&#x6709;&#x5F88;&#x91CD;&#x8981;&#x7684;&#x4E00;&#x6B65;&#xFF0C;&#x8981;&#x5C06;&#x7C7B;&#x540D;&#x5173;&#x8054;&#xFF0C;&#x5C06;&#x7C7B;&#x540D;&#x5173;&#x8054;&#xFF0C;&#x5C06;&#x7C7B;&#x540D;&#x5173;&#x8054;&#xFF01;<br>&#x4F46;&#x662F;&#x90A3;&#x6837;&#x4F1A;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#xFF0C;<em>&#x56E0;&#x4E3A;Xcode7&#x4F1A;&#x81EA;&#x52A8;&#x5173;&#x8054;&#xFF0C;&#x8FD8;&#x6709;&#x6DFB;&#x52A0;@objc( XXX )&#x4EC0;&#x4E48;&#x7684;&#x4E5F;&#x4E0D;&#x5FC5;&#x4E86;</em></p>
<h4 id="&#x7136;&#x540E;&#x6211;&#x4EEC;&#x5C31;&#x5F00;&#x59CB;&#x6109;&#x5FEB;&#x7684;&#x4F7F;&#x7528;&#x5566;"><a href="#&#x7136;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x5F00;&#x59CB;&#x6109;&#x5FEB;&#x7684;&#x4F7F;&#x7528;&#x5566;" class="headerlink" title="&#x7136;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x5F00;&#x59CB;&#x6109;&#x5FEB;&#x7684;&#x4F7F;&#x7528;&#x5566;"></a>&#x7136;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x5F00;&#x59CB;&#x6109;&#x5FEB;&#x7684;&#x4F7F;&#x7528;&#x5566;</h4><ul>
<li><p>&#x57FA;&#x7840;&#x529F;&#x80FD;&#xFF1A;&#x9996;&#x5148;&#x662F;&#x5728; viewDidLoad() &#x4E2D;InsertDog&#x5B9E;&#x4F53;&#xFF0C;&#x601D;&#x8DEF;&#x5C31;&#x662F;&#x201C; &#x9996;&#x5148;&#x83B7;&#x53D6;&#x6240;&#x6709;&#x53EB;&#x201C;Fido&#x201D;&#x7684;&#x5B9E;&#x4F53;&#xFF0C;&#x5982;&#x679C;&#x5F97;&#x5230;&#x7A7A;&#x6570;&#x7EC4;&#xFF3B;&#xFF3D;&#xFF0C;&#x8868;&#x793A;&#x8FD9;&#x662F;&#x7B2C;&#x4E00;&#x6B21;&#x4F7F;&#x7528;App</p>
<p>&#x9996;&#x6B21;&#x4F7F;&#x7528;&#xFF0C;&#x9700;&#x8981;&#x7528;&#x6237;&#x6DFB;&#x7684;dog&#x547D;&#x540D;&#x4E3A;&#x201C;Fido&#x201D;&#x201D;&#xFF0C;&#x7136;&#x540E;&#x66FF;&#x6362;&#x58F0;&#x660E;currentDog&#x5C5E;&#x6027;&#xFF0C;<br>&#x5728;&#x6DFB;&#x52A0;BTN&#x6309;&#x4E0B;&#x4E4B;&#x540E;&#xFF0C;&#x4E3A;currentDog&#x6DFB;&#x52A0;Walk&#xFF0C;&#x7136;&#x540E;reloadData&#xFF1A;</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* &#x589E;&#x52A0;&#x6E9C;&#x72D7; */</span></span><br><span class="line"><span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(sender: AnyObject)</span></span> {</span><br><span class="line"></span><br><span class="line">   <span class="comment">// &#x6DFB;&#x52A0;Walk&#x5230;CoreData</span></span><br><span class="line">   <span class="keyword">let</span> walkEntity = <span class="type">NSEntityDescription</span>.entityForName(<span class="string">&quot;Walk&quot;</span>, inManagedObjectContext: managedContext)</span><br><span class="line">   <span class="keyword">let</span> walk = <span class="type">Walk</span>(entity: walkEntity!, insertIntoManagedObjectContext: managedContext)</span><br><span class="line">   walk.date = <span class="type">NSDate</span>()</span><br><span class="line"></span><br><span class="line">   <span class="comment">// &#x6DFB;&#x52A0;walk&#x5230;Dog&#x7684;walk&#x96C6;&#x5408;</span></span><br><span class="line">   <span class="keyword">let</span> walks = currentDog.walks?.mutableCopy() <span class="keyword">as</span>! <span class="type">NSMutableOrderedSet</span></span><br><span class="line">   walks.addObject(walk)</span><br><span class="line">   currentDog.walks = walks.copy() <span class="keyword">as</span>? <span class="type">NSOrderedSet</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// &#x4FDD;&#x5B58;&#x4E0A;&#x4E0B;&#x6587;</span></span><br><span class="line">   <span class="keyword">do</span> {</span><br><span class="line">     <span class="keyword">try</span> managedContext.save()</span><br><span class="line">     <span class="built_in">print</span>(<span class="string">&quot;ok&quot;</span>)</span><br><span class="line">   } <span class="keyword">catch</span> <span class="keyword">let</span> error <span class="keyword">as</span> <span class="type">NSError</span> {</span><br><span class="line">     <span class="built_in">print</span>(<span class="string">&quot;&#x6DFB;&#x52A0;walk&#x5931;&#x8D25;<span class="subst">\(error)</span>&quot;</span>)</span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line">   <span class="comment">// &#x5237;&#x65B0;UI</span></span><br><span class="line">   tableView.reloadData()</span><br><span class="line"> }</span><br></pre></td></tr></table></figure>
<p> &#x8FD9;&#x6837;&#x5C31;&#x57FA;&#x672C;&#x5B8C;&#x6210;&#x4E86;App&#x7684;&#x529F;&#x80FD;&#x3002;&#x8FD9;&#x5C31;&#x662F;CoreData&#x5173;&#x8054;&#x5BF9;&#x8C61;&#x5E26;&#x6765;&#x7684;&#x4FBF;&#x5229;&#x4E4B;&#x5904;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x5199;&#x590D;&#x6742;&#x7684;&#x5B57;&#x5178;&#x8F6C;&#x6A21;&#x578B;&#x4E4B;&#x7C7B;&#x7684;&#xFF0C;&#x800C;&#x662F;&#x501F;&#x52A9;&#x7CFB;&#x7EDF;&#x5B8C;&#x6210;</p>
</li>
<li><p>&#x5220;&#x9664;&#x6570;&#x636E;&#x3002;&#x622A;&#x6B62;&#x5230;&#x76EE;&#x524D;&#xFF0C;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x5B8C;&#x6210;&#x201C;&#x589E; &#x67E5; &#x6539;&#x201D;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x800C;&#x5220;&#x9664;&#x529F;&#x80FD;&#x81EA;&#x7136;&#x662F;&#x6CA1;&#x6709;&#x7406;&#x7531;&#x7F3A;&#x5931;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x770B;&#x770B;coreData&#x7684;&#x5220;&#x64CD;&#x4F5C;</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, canEditRowAtIndexPath indexPath: NSIndexPath)</span></span> -&gt; <span class="type">Bool</span> {</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, commitEditingStyle editingStyle: UITableViewCellEditingStyle, forRowAtIndexPath indexPath: NSIndexPath)</span></span> {</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> editingStyle == <span class="type">UITableViewCellEditingStyle</span>.<span class="type">Delete</span> {</span><br><span class="line"></span><br><span class="line">  <span class="comment">// &#x5F85;&#x5220;&#x9664;walk</span></span><br><span class="line">  <span class="keyword">let</span> walkToRemove = currentDog.walks![indexPath.row] <span class="keyword">as</span>! <span class="type">Walk</span>  <span class="comment">// &#x4ECE;&#x4E0A;&#x4E0B;&#x6587;&#x5220;&#x9664;</span></span><br><span class="line">  managedContext.deleteObject(walkToRemove)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// &#x4FDD;&#x5B58;&#x4E0A;&#x4E0B;&#x6587;</span></span><br><span class="line">  <span class="keyword">do</span> {</span><br><span class="line">    <span class="keyword">try</span> managedContext.save()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ok&quot;</span>)</span><br><span class="line">  } <span class="keyword">catch</span> <span class="keyword">let</span> error <span class="keyword">as</span> <span class="type">NSError</span> {</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&#x6DFB;&#x52A0;walk&#x5931;&#x8D25;<span class="subst">\(error)</span>&quot;</span>)</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="comment">// &#x5237;&#x65B0;UI</span></span><br><span class="line">  tableView.deleteRowsAtIndexPaths([indexPath], withRowAnimation: <span class="type">UITableViewRowAnimation</span>.<span class="type">Automatic</span>)</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x501F;&#x7528;tableView&#x7684;&#x5DE6;&#x5212;&#x51FA;delete&#xFF0C;&#x7136;&#x540E;commit&#x65F6;&#x5B8C;&#x6210;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#xFF0C;&#x6838;&#x5FC3;&#x65B9;&#x6CD5;&#x5728;&#x4E8E;    <code>managedContext.deleteObject(walkToRemove)</code>&#x5BF9;&#x4E0A;&#x4E0B;&#x6587;&#x7684;&#x64CD;&#x4F5C;</p>
<p>&#x81F3;&#x6B64; coreData&#x7684;&#x589E;&#x5220;&#x67E5;&#x6539;&#x90FD;&#x5DF2;&#x7ECF;&#x6709;&#x4E86;&#xFF0C;&#x4E0D;&#x7BA1;&#x662F;&#x5229;&#x7528;Xcode&#x8FD8;&#x662F;&#x624B;&#x52A8;&#x521B;&#x5EFA;stack&#x90FD;&#x641E;&#x5B9A;&#x4E86;&#xFF0C;&#x5982;&#x679C;&#x53EA;&#x662F;&#x7B80;&#x5355;&#x7684;&#x4F7F;&#x7528;&#x53EF;&#x4EE5;&#x5230;&#x6B64;&#x5C31;&#x544A;&#x4E00;&#x6BB5;&#x843D;&#x4E86;</p>
</li>
</ul>


<!--<a href="http://13hoop.github.io/2015/03/13/CoreData-äºŒ/#disqus_thread" class="article-comment-link">Comments</a>-->
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = '13hoopgithub'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

<div style="display:none">
<script src="http://s4.cnzz.com/stat.php?id=undefined&web_id=undefined" language="JavaScript"></script>script>
</div>







</body>
</html>
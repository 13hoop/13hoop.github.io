<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>YongSir | 专业程序员伪装者</title>

  
  <meta name="author" content="13hoop">
  

  

  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  

  <meta property="og:site_name" content="YongSir"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="YongSir" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">YongSir</a>
    </h1>
    <p class="site-description">专业程序员伪装者</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">主页</a></li>
      
        <li><a href="/archives">归档</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    
  <article>

  
    
    <h3 class="article-title"><a href="/2017/10/04/小朋友的编程-三/"><span>小朋友的编程-三</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/10/04/小朋友的编程-三/" rel="bookmark">
        <time class="entry-date published" datetime="2017-10-04T01:14:27.000Z">
          2017-10-04
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>&#x4E0A;&#x4E24;&#x6B21;&#x9605;&#x8BFB;&#x90E8;&#x5206;&#x7684;&#x610F;&#x5473;&#x66F4;&#x52A0;&#x6D53;&#x539A;&#x4E00;&#x4E9B;&#xFF0C;&#x90FD;&#x662F;&#x4E9B;&#x5F88;&#x7EC6;&#x5C0F;&#x7684;&#x77E5;&#x8BC6;&#xFF0C;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x6211;&#x4EEC;&#x5C06;&#x8BD5;&#x7740;&#x5C1D;&#x8BD5;&#x4E00;&#x4E9B;&#x66F4;&#x52A0;&#x5B9E;&#x9645;&#x7684;&#x4F53;&#x9A8C;&#xFF0C;&#x53BB;&#x76F4;&#x89C2;&#x611F;&#x53D7;&#x4E00;&#x4E0B;&#x4EC0;&#x4E48;&#x662F;&#x7F16;&#x7A0B;&#xFF0C;&#x5F53;&#x7136;&#x524D;&#x534A;&#x6BB5;&#x4F1A;&#x6709;&#x4E00;&#x90E8;&#x5206;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x53D1;&#x5C55;&#x5386;&#x53F2;&#x7684;&#x4ECB;&#x7ECD;&#xFF0C;&#x8010;&#x5FC3;&#x770B;&#x5B8C;&#x5566;&#x3002;</p>
<p>&#x4F60;&#x5DF2;&#x7ECF;&#x77E5;&#x9053;&#x4E86;&#x7F16;&#x7A0B;&#x5C31;&#x662F;&#x8DDF;&#x673A;&#x5668;&#x4EA4;&#x4E92;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x800C;&#x6211;&#x4EEC;&#x544A;&#x8BC9;&#x673A;&#x5668;&#x8BE5;&#x600E;&#x4E48;&#x505A;&#xFF0C;&#x9760;&#x7684;&#x662F;&#x4E00;&#x79CD;&#x53EB;&#x505A;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x7684;&#x5DE5;&#x5177;&#x3002;&#x4F60;&#x8FD8;&#x77E5;&#x9053;&#x673A;&#x5668;&#x5185;&#x90E8;&#x6240;&#x6709;&#x7684;&#x4FE1;&#x606F;&#x5176;&#x5B9E;&#x90FD;&#x662F;&#x5404;&#x79CD;&#x6570;&#x5B57;&#x7535;&#x8DEF;&#x7684;&#x4FE1;&#x53F7;&#xFF0C;&#x6211;&#x4EEC;&#x4E60;&#x60EF;&#x4F7F;&#x7528;<code>0</code>&#x548C;<code>1</code>&#x6765;&#x4EE3;&#x8868;&#x6570;&#x5B57;&#x4FE1;&#x53F7;&#xFF0C;&#x6362;&#x8A00;&#x4E4B;&#x673A;&#x5668;&#x80FD;&#x8BA4;&#x8BC6;&#x7684;&#x5176;&#x5B9E;&#x53EA;&#x6709;0101&#xFF0C;&#x8FD9;&#x79CD;&#x673A;&#x5668;&#x80FD;<strong>&#x76F4;&#x63A5;_</strong>&#x8BA4;&#x8BC6;&#x548C;&#x6267;&#x884C;&#x7684;&#x7531;&#x4E00;&#x7CFB;&#x5217;01010_&#x7EC4;&#x6210;&#x7684;&#x4E1C;&#x897F;&#x6211;&#x4EEC;&#x79F0;&#x4E4B;&#x4E3A;<code>&#x673A;&#x5668;&#x8BED;&#x8A00;</code>&#x3002;</p>
<p>&#x4E8B;&#x5B9E;&#x4E0A;&#x6700;&#x539F;&#x59CB;&#x7684;&#x7F16;&#x7A0B;&#xFF0C;&#x5C31;&#x662F;&#x79D1;&#x5B66;&#x5BB6;&#x4EEC;&#x5229;&#x7528;0101&#x7684;&#x7EC4;&#x5408;&#x53BB;&#x4E00;&#x6B65;&#x4E00;&#x6B65;&#x6307;&#x793A;&#x673A;&#x5668;&#x53BB;&#x5B8C;&#x6210;&#x529F;&#x80FD;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x53EA;&#x7528;0101&#x53C8;&#x4E00;&#x4E2A;&#x5F88;&#x5927;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x90A3;&#x5C31;&#x662F;&#x867D;&#x7136;&#x673A;&#x5668;&#x660E;&#x767D;&#x4E86;&#xFF0C;&#x4EBA;&#x5374;&#x4E0D;&#x61C2;&#x4E86;&#x3002;&#x5177;&#x4F53;&#x6765;&#x8BF4;&#x5982;&#x79D1;&#x5B66;&#x5BB6;A&#x7F16;&#x7684;&#x7A0B;&#x5E8F;&#x53EF;&#x80FD;&#x53EA;&#x6709;A&#x81EA;&#x5DF1;&#x77E5;&#x9053;&#xFF0C;&#x79D1;&#x5B66;&#x5BB6;B&#x662F;&#x65E0;&#x8BBA;&#x5982;&#x4F55;&#x90FD;&#x770B;&#x4E0D;&#x61C2;&#x7684;&#xFF0C;&#x5C31;&#x7B97;&#x662F;&#x5BF9;A&#x81EA;&#x5DF1;&#xFF0C;&#x8FC7;&#x4E86;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x4E4B;&#x540E;&#x53EF;&#x80FD;&#x4E5F;&#x90FD;&#x5FD8;&#x4E86;&#x5F53;&#x65F6;&#x662F;&#x600E;&#x6837;&#x7F16;&#x7A0B;&#x4E86;&#x7684;&#x3002;&#x5982;&#x679C;&#x90FD;&#x662F;&#x50CF;0101&#x8FD9;&#x822C;&#x4E0D;&#x76F4;&#x89C2;&#x4E0D;&#x53CB;&#x597D;&#x7684;&#x673A;&#x5668;&#x8BED;&#x8A00;&#xFF0C;&#x9879;&#x76EE;&#x5C31;&#x4E0D;&#x53EF;&#x80FD;&#x8BA9;&#x66F4;&#x591A;&#x7684;&#x4EBA;&#x53C2;&#x4E0E;&#xFF0C;&#x673A;&#x5668;&#x6240;&#x80FD;&#x5B8C;&#x6210;&#x7684;&#x5DE5;&#x4F5C;&#x4E5F;&#x5C31;&#x4E0D;&#x53EF;&#x80FD;&#x50CF;&#x6211;&#x4EEC;&#x4ECA;&#x5929;&#x8FD9;&#x6837;&#x591A;&#x59FF;&#x591A;&#x5F69;&#x3002;&#x600E;&#x4E48;&#x529E;&#x5462;&#xFF1F;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x6709;&#x4E00;&#x79CD;&#x4EBA;&#x7C7B;&#x80FD;&#x770B;&#x61C2;&#x800C;&#x673A;&#x5668;&#x53C8;&#x80FD;&#x8BA4;&#x8BC6;&#x7684;&#x8BED;&#x8A00;&#x5C31;&#x597D;&#x4E86;&#xFF0C;&#x53EF;&#x60DC;&#x4E0D;&#x884C;&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x524D;&#x8FB9;&#x63D0;&#x5230;&#x4E86;<strong>&#x673A;&#x5668;&#x80FD;&#x4E5F;&#x53EA;&#x80FD;</strong>&#x8BA4;&#x8BC6;0101&#x8FD9;&#x6837;&#x7684;<code>&#x673A;&#x5668;&#x8BED;&#x8A00;</code>&#xFF0C;&#x4E8E;&#x662F;&#x79D1;&#x5B66;&#x5BB6;&#x4ECE;&#x4EBA;&#x7C7B;&#x7684;&#x5B9E;&#x9645;&#x751F;&#x6D3B;&#x4E2D;&#x53D7;&#x5230;&#x542F;&#x53D1;&#xFF0C;&#x751F;&#x6D3B;&#x4E2D;&#x6BD4;&#x5982;&#x4F60;&#x60F3;&#x8DDF;&#x4E00;&#x4E2A;&#x6CD5;&#x56FD;&#x7684;&#x5C0F;&#x670B;&#x53CB;&#x4EA4;&#x6D41;&#xFF0C;&#x4F60;&#x4F1A;&#x4E2D;&#x6587;&#x800C;&#x5979;&#x53EA;&#x4F1A;&#x6CD5;&#x8BED;&#xFF0C;&#x4F60;&#x5C31;&#x4F1A;&#x60F3;&#x7740;&#x627E;&#x4E2A;&#x7FFB;&#x8BD1;&#x5C31;&#x89E3;&#x51B3;&#x4E86;&#x4F60;&#x4EEC;&#x7684;&#x8BED;&#x8A00;&#x95EE;&#x9898;&#xFF0C;&#x4E8E;&#x662F;&#x79D1;&#x5B66;&#x5BB6;&#x4EEC;&#x5C31;&#x7EA6;&#x5B9A;&#x4E86;&#x4E00;&#x4E2A;&#x603B;&#x4F53;&#x539F;&#x5219;&#xFF0C;&#x90A3;&#x5C31;&#x662F;&#x6240;&#x6709;&#x7684;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x90FD;&#x6700;&#x7EC8;&#x53EF;&#x4EE5;&#x88AB;&#x7FFB;&#x8BD1;&#x6210;&#x673A;&#x5668;&#x80FD;&#x8BA4;&#x8BC6;&#x7684;<code>&#x673A;&#x5668;&#x8BED;&#x8A00;</code>&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x89E3;&#x51B3;&#x4E86;&#x4E0A;&#x8FF0;&#x95EE;&#x9898;&#x3002;</p>
<p>&#x6309;&#x7167;&#x4E0A;&#x8FF0;&#x7684;&#x53D1;&#x5C55;&#x5386;&#x7A0B;&#xFF0C;&#x5728;<code>&#x673A;&#x5668;&#x8BED;&#x8A00;</code>&#x4E4B;&#x4E0A;&#xFF0C;&#x4E00;&#x79CD;&#x66F4;&#x53CB;&#x597D;&#x7684;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x88AB;&#x53D1;&#x660E;&#x51FA;&#x6765;&#xFF0C;&#x90A3;&#x5C31;&#x662F;<code>&#x6C47;&#x7F16;&#x8BED;&#x8A00;</code>&#xFF0C;&#x771F;&#x5B9E;&#x7684;&#x6C47;&#x7F16;&#x8BED;&#x8A00;&#x957F;&#x5F97;&#x662F;&#x8FD9;&#x4E2A;&#x6837;&#x5B50;&#x7684;&#xFF1A;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">.section .data</span><br><span class="line">#&#x6570;&#x636E;&#x6BB5;&#xFF0C;&#x5B9A;&#x4E49;&#x4EE5;ascii&#x7F16;&#x7801;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x201C;hello, xiao ze qiu!\n&#x201D;,&#x5E76;&#x4EE5;output&#x6765;&#x8868;&#x793A;&#x5185;&#x5B58;&#x7684;&#x8D77;&#x59CB;&#x5730;&#x5740;</span><br><span class="line">    output:</span><br><span class="line">        .ascii &quot;hello, xiao ze qiu!\n&quot;</span><br><span class="line">.section .text</span><br><span class="line">.global _start</span><br><span class="line">#&#x7A0B;&#x5E8F;&#x4EE5;_start:&#x5F00;&#x59CB;&#x8FD0;&#x884C;</span><br><span class="line">_start:</span><br><span class="line">#&#x8C03;&#x7528;write&#x7CFB;&#x7EDF;&#xFF0C;eax&#x4E3A;4&#x8868;&#x793A;write&#xFF0C;ebx&#x8868;&#x793A;&#x8981;&#x5199;&#x5165;&#x7684;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#xFF0C;</span><br><span class="line">#1&#x8868;&#x793A;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x7EC8;&#x7AEF;&#xFF0C;ecx&#x8868;&#x793A;&#x5B57;&#x7B26;&#x4E32;&#x5F00;&#x5934;&#x7684;&#x5185;&#x5B58;&#x5730;&#x5740;&#xFF0C;edx&#x8868;&#x793A;&#x957F;&#x5EA6;</span><br><span class="line">    movl $4,%eax</span><br><span class="line">    movl $1,%ebx</span><br><span class="line">    movl $output,%ecx</span><br><span class="line">    movl $12,%edx</span><br><span class="line">    int $0x80</span><br><span class="line">#&#x8C03;&#x7528;&#x9000;&#x51FA;&#x7CFB;&#x7EDF;&#xFF0C;1&#x8868;&#x793A;&#x9000;&#x51FA;&#xFF0C;0&#x4E3A;&#x6B63;&#x5E38;&#x9000;&#x51FA;&#xFF0C;&#x8FD9;&#x91CC;&#x548C;c&#x8BED;&#x8A00;main&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x5E94;&#x8BE5;&#x662F;&#x4E00;&#x4E2A;&#x610F;&#x601D;</span><br><span class="line">    movl $1,%eax</span><br><span class="line">    movl $0,%ebx</span><br><span class="line">    int $0x80</span><br></pre></td></tr></table></figure></p>
<p>&#x4F60;&#x662F;&#x4E0D;&#x662F;&#x6709;&#x4E9B;&#x8499;&#x4E86;&#xFF0C;&#x770B;&#x8D77;&#x6765;&#x597D;&#x96BE;&#x597D;&#x590D;&#x6742;&#x7684;&#x6837;&#x5B50;&#x554A;&#xFF01;&#x5176;&#x5B9E;&#x4E0A;&#x8FF0;&#x7A0B;&#x5E8F;&#x5E72;&#x7684;&#x4E8B;&#x60C5;&#x5F88;&#x7B80;&#x7B54;&#xFF0C;&#x53EA;&#x662F;&#x5728;&#x5C4F;&#x5E55;&#x4E0A;&#x8DDF;&#x4F60;&#x6253;&#x4E2A;&#x62DB;&#x547C;&#x800C;&#x5DF2; &#x2013; &#x201C;hello, xiao ze qiu!&#x201D;&#xFF0C;&#x4F46;&#x662F;&#x5199;&#x8D77;&#x6765;&#x5374;&#x8981;&#x90A3;&#x4E48;&#x957F;&#x4E00;&#x4E32;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x8FD9;&#x91CC;&#x8981;&#x5FC3;&#x75BC;&#x4E00;&#x4E0B;&#x65E9;&#x7F16;&#x7A0B;&#x7684;&#x524D;&#x8F88;&#x4EEC;&#xFFFD;&#xFFFD;&#xFF0C;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x5C31;&#x66B4;&#x6F0F;&#x4E86;<code>&#x6C47;&#x7F16;&#x8BED;&#x8A00;</code>&#x7684;&#x5F31;&#x70B9;&#xFF0C;&#x90A3;&#x5C31;&#x662F;&#x867D;&#x7136;&#x603B;&#x7B97;&#x6BD4;0101&#x6709;&#x597D;&#x4E00;&#x4E9B;&#xFF0C;&#x4F46;&#x5B9E;&#x5728;&#x662F;&#x592A;&#x9EBB;&#x70E6;&#x4E86;&#xFF0C;&#x96BE;&#x9053;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x5C31;&#x4E0D;&#x80FD;&#x50CF;&#x6211;&#x4EEC;&#x5E73;&#x65F6;&#x8BF4;&#x8BDD;&#x90A3;&#x6837;&#xFF0C;&#x8868;&#x8FBE;&#x660E;&#x786E;&#x53C8;&#x7B80;&#x5355;&#x5417;&#xFF1F;</p>
<p>&#x5176;&#x5B9E;&#x662F;&#x53EF;&#x4EE5;&#x7684;&#xFF0C;&#x90A3;&#x5C31;&#x662F;&#x4EBA;&#x4EEC;&#x7EC8;&#x4E8E;&#x5728;&#x53D7;&#x4E0D;&#x4E86;&#x6C47;&#x7F16;&#x4E4B;&#x540E;&#xFF0C;&#x53C8;&#x53D1;&#x660E;&#x4E86;&#x5F88;&#x591A;&#x79CD;&#x66F4;&#x63A5;&#x8FD1;&#x4EBA;&#x7C7B;&#x8BED;&#x8A00;&#x7684;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#xFF0C;&#x6211;&#x4EEC;&#x7EDF;&#x79F0;&#x5B83;&#x4EEC;&#x4E3A;<code>&#x9AD8;&#x7EA7;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;</code>&#xFF0C;&#x5B83;&#x4EEC;&#x6709;&#x5F88;&#x591A;&#x5F88;&#x591A;&#xFF0C;&#x636E;&#x7EDF;&#x8BA1;&#x6709;250&#x591A;&#x79CD;&#x5E76;&#x4E14;&#x8FD8;&#x5728;&#x4E0D;&#x65AD;&#x7684;&#x88AB;&#x53D1;&#x660E;&#x51FA;&#x6765;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4EEC;&#x5404;&#x81EA;&#x8981;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#x548C;&#x4F7F;&#x7528;&#x9886;&#x57DF;&#x7684;&#x4E0D;&#x540C;&#xFF0C;&#x6839;&#x636E;&#x4E0D;&#x7528;&#x7684;&#x8BBE;&#x8BA1;&#x7406;&#x5FF5;&#x5C31;&#x6709;&#x4E86;&#x5982;&#x6B64;&#x591A;&#x7684;&#x6570;&#x91CF;&#xFF0C;&#x4F46;&#x80AF;&#x5B9A;&#x90FD;&#x6BD4;&#x6C47;&#x7F16;&#x7B80;&#x5355;&#x592A;&#x591A;&#x592A;&#x591A;&#xFF0C;&#x6BD4;&#x5982;&#x4E0A;&#x8FF0;&#x6253;&#x62DB;&#x547C;&#x5982;&#x679C;&#x7528;<code>C&#x8BED;&#x8A00;</code>&#x6765;&#x5B9E;&#x73B0;&#x5C31;&#x662F;&#xFF1A;<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;hello, xiao ze qiu!&quot;</span>); <span class="comment">// print &#x5C31;&#x662F;&#x6253;&#x5370;&#x7684;&#x610F;&#x601D;&#xFF0C;printf&#x6307;&#x7684;&#x662F;&#x6253;&#x5370;&#x4E4B;&#x540E;&#x81EA;&#x52A8;&#x6362;&#x884C;&#x800C;&#x5DF2;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<p>&#x662F;&#x4E0D;&#x662F;&#x7B80;&#x5355;&#x4E86;&#x5F88;&#x591A;&#x4E5F;&#x597D;&#x61C2;&#x4E86;&#x5F88;&#x591A;:-)&#xFF0C; &#x5176;&#x5B9E;&#x8FD8;&#x6709;&#x66F4;&#x7B80;&#x5355;&#x6BD4;&#x5982;&#x6709;&#x4E00;&#x95E8;&#x53EB;<code>JavaScript</code>&#x7684;&#x8BED;&#x8A00;&#x4E2D;&#x53EA;&#x9700;&#x8981;&#x4E00;&#x53E5;&#x8BDD;&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;hello, xiao ze qiu!&quot;</span>) <span class="comment">// console &#x5C31;&#x662F;&#x63A7;&#x5236;&#x53F0;&#xFF0C;&#x5C31;&#x662F;windows&#x7CFB;&#x7EDF;&#x4E0A;&#x90A3;&#x4E2A;&#x547D;&#x4EE4;&#x884C;&#x7684;&#x9ED1;&#x6846;&#x6846;&#x7684;&#x4E1C;&#x897F;&#xFF0C;&#x4F60;&#x81EA;&#x5DF1;&#x5148;&#x5728;&#x7535;&#x8111;&#x4E0A;&#x8BD5;&#x8BD5;&#xFF0C;&#x770B;&#x80FD;&#x4E0D;&#x80FD;&#x627E;&#x5230;</span></span><br></pre></td></tr></table></figure></p>
<p>&#x5982;&#x679C;&#x8FD8;&#x662F;&#x89C9;&#x5F97;&#x9EBB;&#x70E6;&#xFF0C;&#x8FD8;&#x6709;&#x6700;&#x7B80;&#x5355;&#x7684;&#xFF0C;&#x6BD4;&#x5982;&#x5728;&#x4E00;&#x95E8;&#x53EB;<code>Python</code>&#x7684;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x4E2D;&#x5C31;&#x662F;&#xFF1A;<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&quot;hello, xiao ze qiu!&quot;</span>)</span><br></pre></td></tr></table></figure></p>
<p>&#x662F;&#x4E0D;&#x662F;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x5BF9;&#x4EBA;&#x53CB;&#x597D;&#x7684;<code>&#x9AD8;&#x7EA7;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;</code>&#x5F88;&#x63A5;&#x8FD1;&#x4E8E;&#x6211;&#x4EEC;&#x65E5;&#x5E38;&#x4F7F;&#x7528;&#x7684;&#x8BED;&#x8A00;&#xFF0C;&#x4E8E;&#x662F;&#x8DDF;&#x673A;&#x5668;&#x4EA4;&#x6D41;&#x5C31;&#x53D8;&#x5F97;&#x5BB9;&#x6613;&#x591A;&#x4E86;&#xFF0C;&#x8FD9;&#x624D;&#x4FC3;&#x8FDB;&#x4E86;&#x6574;&#x4E2A;&#x8BA1;&#x7B97;&#x673A;&#x79D1;&#x5B66;&#x7684;&#x53D1;&#x5C55;&#x3002;</p>
<p>&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x7A0D;&#x7A0D;&#x603B;&#x7ED3;&#x4E00;&#x4E0B;&#xFF0C;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x7684;&#x53D1;&#x5C55;&#x57FA;&#x672C;&#x4E0A;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A; <code>&#x673A;&#x5668;&#x8BED;&#x8A00;</code> ~&gt; <code>&#x6C47;&#x7F16;&#x8BED;&#x8A00;</code> ~&gt; <code>&#x9AD8;&#x7EA7;&#x8BED;&#x8A00;</code>&#xFF0C; &#x6211;&#x4EEC;&#x901A;&#x5E38;&#x610F;&#x4E49;&#x7684;&#x7F16;&#x7A0B;&#x5C31;&#x662F;&#xFF0C;&#x5229;&#x7528;&#x63A5;&#x8FD1;&#x4EBA;&#x7C7B;&#x81EA;&#x7136;&#x8BED;&#x8A00;&#x7684;<code>&#x9AD8;&#x7EA7;&#x8BED;&#x8A00;</code>&#x7ED9;&#x673A;&#x5668;&#x89C4;&#x5B9A;&#x52A8;&#x4F5C;&#x3002;</p>
<hr>
<p>&#x4E0B;&#x9762;&#x5C31;&#x5F00;&#x59CB;&#x601D;&#x8003;&#x4E00;&#x4E2A;&#x4E2A;&#x5177;&#x4F53;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x5BF9;&#x751F;&#x6D3B;&#x4E2D;&#x4E60;&#x4EE5;&#x4E3A;&#x5E38;&#x7684;&#x903B;&#x8F91;&#x884C;&#x4E3A;&#x505A;&#x4E00;&#x4E9B;&#x5177;&#x4F53;&#x7684;&#x4ED4;&#x7EC6;&#x7684;&#x6574;&#x7406;&#x3002;<br>&#x4E0D;&#x9632;&#x5C31;&#x4ECE;&#x5BF9;&#x73B0;&#x5B9E;&#x751F;&#x6D3B;&#x4E2D;&#x6A21;&#x4EFF;&#x5F00;&#x59CB;&#xFF0C;&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x5468;&#x4E00;&#x5230;&#x5468;&#x4E94;&#x662F;&#x4E0A;&#x8BFE;&#x65F6;&#x95F4;&#xFF0C;&#x800C;&#x5468;&#x516D;&#x65E5;&#x662F;&#x4F11;&#x606F;&#x4E0D;&#x4E0A;&#x8BFE;&#x7684;&#xFF0C;&#x5C31;&#x8FD9;&#x6837;&#x7B80;&#x5355;&#x7684;&#x4E00;&#x53E5;&#x8BDD;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x8BD5;&#x7740;&#x628A;&#x6BCF;&#x4E2A;&#x8FC7;&#x7A0B;&#x8BF4;&#x6E05;&#x695A;&#xFF0C;&#x7528;&#x4EE3;&#x7801;&#x7684;&#x65B9;&#x5F0F;&#x5C31;&#x50CF;&#x662F;&#x8FD9;&#x6837;&#xFF1A;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x9996;&#x5148;&#x662F;&#x4E00;&#x4E2A;&#x65E5;&#x671F;</span><br><span class="line">&#x7136;&#x540E;&#x628A;&#x5B83;&#x8F6C;&#x5316;&#x6210;&#x661F;&#x671F;</span><br><span class="line">&#x5982;&#x679C;&#x662F;&#x5728;&#x5468;&#x4E00;&#x5230;&#x5468;&#x4E94;&#xFF0C;&#x90A3;&#x4E48;&#x6B63;&#x5E38;&#x4E0A;&#x8BFE;</span><br><span class="line">&#x5982;&#x679C;&#x662F;&#x5468;&#x516D;&#x6216;&#x8005;&#x5468;&#x65E5;&#xFF0C;&#x90A3;&#x4E48;&#x4E0D;&#x7528;&#x4E0A;&#x8BFE;</span><br></pre></td></tr></table></figure></p>
<p>&#x8FD9;&#x91CC;&#x8FB9;&#x8574;&#x542B;&#x7740;&#x4E00;&#x79CD;<strong>&#x9009;&#x62E9;&#x7ED3;&#x6784;</strong>&#xFF0C;&#x5982;&#x679C;&#x628A;&#x5B83;&#x753B;&#x6210;&#x903B;&#x8F91;&#x6D41;&#x7A0B;&#x56FE;&#xFF0C;&#x4F1A;&#x66F4;&#x76F4;&#x89C2;&#x4E00;&#x4E9B;&#xFF1A;<br><img src="http://wx3.sinaimg.cn/mw1024/006mou3Bgy1fk8hcqy9yuj30m80py0v8.jpg" alt=""></p>
<p>&#x751F;&#x6D3B;&#x4E2D;&#x8FD8;&#x6709;&#x5176;&#x4ED6;&#x7684;&#x903B;&#x8F91;&#x6D41;&#x7A0B;&#xFF0C;&#x6BD4;&#x5982;&#x518D;&#x8003;&#x8651;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x8003;&#x8BD5;&#x7684;&#x65F6;&#x5019;&#x4F60;&#x9700;&#x8981;&#x628A;&#x5168;&#x90E8;&#x7684;&#x9898;&#x505A;&#x5B8C;&#x624D;&#x80FD;&#x4EA4;&#x5377;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x903B;&#x8F91;&#x56FE;&#x662F;&#x600E;&#x6837;&#x7684;&#x5462;&#xFF1F;&#x6211;&#x53EF;&#x4EE5;&#x753B;&#x51FA;&#x6765;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A;<br><img src="http://wx1.sinaimg.cn/mw1024/006mou3Bgy1fk8if79yy7j30s40sqwhk.jpg" alt=""><br>&#x6839;&#x7B2C;&#x4E00;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x662F;&#x8FD9;&#x91CC;&#x8FB9;&#x4E0D;&#x5149;&#x6709;<strong>&#x9009;&#x62E9;&#x7ED3;&#x6784;</strong>&#x8FD8;&#x9644;&#x5E26;&#x7684;&#x6709;<strong>&#x5FAA;&#x73AF;&#x7ED3;&#x6784;</strong>&#x7684;&#x903B;&#x8F91;&#xFF0C;&#x6240;&#x8C13;&#x5FAA;&#x73AF;&#x903B;&#x8F91;&#x5C31;&#x662F;&#x76F4;&#x5230;&#x6EE1;&#x8DB3;&#x4E00;&#x5B9A;&#x7684;&#x6761;&#x4EF6;&#x624D;&#x4F1A;&#x9000;&#x51FA;&#x5FAA;&#x73AF;&#xFF0C;&#x5426;&#x5219;&#x5C31;&#x4F1A;&#x4E00;&#x79CD;&#x6267;&#x884C;</p>
<p>&#x4E8B;&#x5B9E;&#x4E0A;&#x8FD8;&#x6709;&#x4E00;&#x79CD;<strong>&#x987A;&#x5E8F;&#x7ED3;&#x6784;</strong>&#x5C31;&#x662F;&#x6309;&#x987A;&#x5E8F;&#x4E00;&#x6B65;&#x4E00;&#x6B65;&#x6765;&#xFF0C;&#x4E0A;&#x8FF0;&#x7684;&#x6BCF;&#x4E2A;&#x7BAD;&#x5934;&#x90FD;&#x4EE3;&#x8868;&#x4ECE;&#x8FD9;&#x4E00;&#x6B65;&#x5230;&#x4E0B;&#x4E00;&#x6B65;&#x7684;&#x987A;&#x5E8F;&#x6267;&#x884C;&#xFF0C;&#x5B83;&#x662F;&#x6700;&#x7B26;&#x5408;&#x6211;&#x4EEC;&#x4EBA;&#x7C7B;&#x76F4;&#x89C9;&#x6700;&#x81EA;&#x7136;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x5FC5;&#x989D;&#x5916;&#x63D0;&#x51FA;&#x6765;&#x3002;</p>
<p>&#x73B0;&#x5728;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x80FD;&#x4ED4;&#x7EC6;&#x5728;&#x601D;&#x8003;&#x4E00;&#x4E0B;&#xFF0C;&#x5C31;&#x4F1A;&#x53D1;&#x73B0;&#x8FD9;&#x4E2A;&#x4E16;&#x754C;&#x4E0A;&#x6240;&#x6709;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x90FD;&#x6700;&#x7EC8;&#x53EF;&#x4EE5;&#x7528;&#x4E0A;&#x8FB9;&#x8FD9;3&#x79CD;&#x57FA;&#x672C;&#x903B;&#x8F91;&#x7ED3;&#x6784;&#x901A;&#x8FC7;&#x7EC4;&#x5408;&#x6765;&#x5B9E;&#x73B0;&#xFF0C;&#x6709;&#x7684;&#x662F;&#x9009;&#x62E9;&#x5206;&#x652F;&#x591A;&#x4E00;&#x4E9B;&#xFF0C;&#x6709;&#x7684;&#x662F;&#x5FAA;&#x73AF;&#x591A;&#x4E00;&#x4E9B;&#xFF0C;&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x8BA9;&#x4E0A;&#x8FB9;&#x8003;&#x8BD5;&#x7684;&#x4F8B;&#x5B50;&#x5728;&#x5177;&#x4F53;&#x4E00;&#x4E9B;&#xFF0C;&#x90A3;&#x5C31;&#x52A0;&#x4E0A;&#x8003;&#x8BD5;&#x662F;&#x6709;&#x65F6;&#x95F4;&#x7684;&#x56E0;&#x7D20;&#xFF0C;&#x4E00;&#x4E2A;&#x8003;&#x8BD5;&#x7684;&#x5B8C;&#x6574;&#x6D41;&#x7A0B;&#x53EF;&#x80FD;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF0C;&#x5148;&#x8BF4;&#x4EE3;&#x7801;&#xFF1A;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x5F00;&#x59CB;</span><br><span class="line">&#x5F00;&#x59CB;&#x505A;&#x9898;&#xFF0C;&#x5E76;&#x5F00;&#x59CB;&#x8BA1;&#x65F6;</span><br><span class="line">&#x5982;&#x679C;&#x65F6;&#x95F4;&#x5230;&#x4E86;&#x5C31;&#x5FC5;&#x987B;&#x4EA4;&#x5377;&#xFF0C;&#x9000;&#x51FA;</span><br><span class="line">&#x5982;&#x679C;&#x65F6;&#x95F4;&#x6CA1;&#x5230;&#xFF0C;&#x5C31;&#x628A;&#x6240;&#x6709;&#x9898;&#x505A;&#x5B8C;&#xFF0C;&#x9000;&#x51FA;</span><br></pre></td></tr></table></figure></p>
<p>&#x8FD9;&#x91CC;&#x8FB9;&#x7684;&#x65F6;&#x95F4;&#x903B;&#x8F91;&#x662F;&#x6700;&#x4E3B;&#x8981;&#x7684;&#xFF0C;&#x53EA;&#x8981;&#x65F6;&#x95F4;&#x5230;&#x4E86;&#x5C31;&#x5FC5;&#x987B;&#x4EA4;&#x5377;&#xFF0C;&#x4E0D;&#x7BA1;&#x505A;&#x6CA1;&#x6709;&#x505A;&#x5B8C;&#xFF0C;&#x8FD8;&#x6709;&#x53E6;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#x662F;&#x65F6;&#x95F4;&#x6CA1;&#x8D70;&#x5B8C;&#x4F46;&#x505A;&#x5B8C;&#x4E86;&#x4E5F;&#x53EF;&#x4EE5;&#x4EA4;&#x5377;&#xFF0C;&#x6587;&#x5B57;&#x4E0D;&#x5BB9;&#x6613;&#x8BF4;&#x660E;&#xFF0C;&#x4E0D;&#x9632;&#x4E5F;&#x5316;&#x6210;&#x903B;&#x8F91;&#x6D41;&#x7A0B;&#x56FE;&#xFF1A;<br><img src="http://wx1.sinaimg.cn/mw1024/006mou3Bgy1fk8kdl1zv1j30o00sm77l.jpg" alt=""><br>&#x6CE8;&#x610F;&#x56FE;&#x4E2D;&#x6709;2&#x6761;&#x4E0D;&#x4E00;&#x6837;&#x7684;&#x7EBF;&#xFF0C;&#x7EA2;&#x8272;&#x7684;&#x8868;&#x793A;&#x540C;&#x65F6;&#x8FDB;&#x884C;&#xFF0C;&#x56E0;&#x4E3A;&#x4E00;&#x5F00;&#x59CB;&#x8BA1;&#x65F6;&#x5C31;&#x4EE3;&#x8868;&#x7740;&#x53EF;&#x4EE5;&#x5F00;&#x59CB;&#x505A;&#x9898;&#xFF1B;&#x53E6;&#x5916;&#x4E00;&#x6761;&#x84DD;&#x8272;&#x7684;&#x7EBF;&#xFF0C;&#x4EE3;&#x8868;&#x6BCF;&#x6B21;&#x505A;&#x9898;&#x90FD;&#x4F1A;&#x53BB;&#x68C0;&#x6D4B;&#x65F6;&#x95F4;&#x662F;&#x5426;&#x5230;&#x4E86;&#xFF0C;&#x5982;&#x679C;&#x5230;&#x4E86;&#x5C31;&#x9A6C;&#x4E0A;&#x4EA4;&#x5377;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x5230;&#x5C31;&#x7EE7;&#x7EED;&#x8BA1;&#x65F6;&#x548C;&#x505A;&#x9898;&#xFF0C;&#x57FA;&#x672C;&#x5C31;&#x662F;2&#x4E2A;&#x5E76;&#x884C;&#x5206;&#x652F;&#x4E00;&#x4E2A;&#x8BA1;&#x65F6;&#xFF0C;&#x4E00;&#x4E2A;&#x68C0;&#x6D4B;&#x662F;&#x5426;&#x505A;&#x5B8C;&#xFF0C;&#x5728;&#x6BCF;&#x4E2A;&#x5206;&#x652F;&#x5185;&#x90E8;&#x53C8;&#x662F;&#x9009;&#x62E9;&#x548C;&#x5FAA;&#x73AF;&#x7684;&#x7EC4;&#x5408;&#x3002;&#x6240;&#x4EE5;&#x8FD9;&#x5C31;&#x662F;&#x7F16;&#x7A0B;&#x5168;&#x90E8;&#x79D8;&#x5BC6;&#xFF0C;&#x7F16;&#x7A0B;&#x5C31;&#x662F;<strong>&#x5C06;&#x67D0;&#x4E2A;&#x529F;&#x80FD;&#xFF0C;&#x6309;&#x7167;&#x57FA;&#x672C;&#x6B65;&#x9AA4;&#x8FDB;&#x884C;&#x903B;&#x8F91;&#x5212;&#x5206;&#xFF0C;&#x62C6;&#x6210;&#x4E00;&#x4E2A;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;<code>&#x987A;&#x5E8F;</code>&#x6216;&#x8005;<code>&#x9009;&#x62E9;</code>&#x6216;&#x8005;<code>&#x5FAA;&#x73AF;</code>&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x4ECE;&#x800C;&#x6700;&#x7EC8;&#x8FBE;&#x5230;&#x67D0;&#x79CD;&#x786E;&#x5B9A;&#x7684;&#x7ED3;&#x679C;</strong>&#x3002;</p>
<p>&#x5F53;&#x7136;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x662F;&#x901A;&#x8FC7;&#x6587;&#x5B57;&#x548C;&#x6D41;&#x7A0B;&#x56FE;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x5B9E;&#x9645;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#x7F16;&#x7A0B;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x8981;&#x628A;&#x4E0A;&#x8FF0;&#xFF0C;&#x6539;&#x4E3A;&#x4F7F;&#x7528;&#x8BA1;&#x7B97;&#x673A;&#x80FD;&#x7406;&#x89E3;&#x7684;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x5B9E;&#x73B0;&#x4E86;&#x800C;&#x5DF2;&#xFF0C;&#x6240;&#x4EE5;&#x53EA;&#x8981;&#x4F60;&#x5B66;&#x4F1A;&#x4E86;&#x5C06;&#x4E00;&#x4E2A;&#x590D;&#x6742;&#x8FC7;&#x7A0B;&#x4E00;&#x6B65;&#x4E00;&#x6B65;&#x7684;&#x903B;&#x8F91;&#x5206;&#x89E3;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x8BF4;&#x5DF2;&#x7ECF;&#x5B66;&#x4F1A;&#x4E86;&#x7F16;&#x7A0B;&#xFF0C;&#x8FD9;&#x4E48;&#x4E00;&#x770B;&#xFF0C;&#x5176;&#x5B9E;&#x4F60;&#x5DF2;&#x7ECF;&#x65E0;&#x610F;&#x8BC6;&#x7684;&#x4F7F;&#x7528;&#x4E86;&#x5F88;&#x591A;&#x5E74;&#x7684;&#x7F16;&#x7A0B;&#xFF0C;&#x53EA;&#x662F;&#x4F60;&#x4E0D;&#x77E5;&#x9053;&#x7F62;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x7F16;&#x7A0B;&#x4E0D;&#x662F;&#x4EC0;&#x4E48;&#x795E;&#x79D8;&#x7684;&#x4E8B;&#xFF0C;&#x76F8;&#x53CD;&#x5B83;&#x4E4B;&#x975E;&#x5E38;&#x5E73;&#x5E38;&#x3002;</p>
<p>&#x90A3;&#x5177;&#x4F53;&#x662F;&#x600E;&#x6837;&#x628A;&#x8FD9;&#x4E9B;&#x903B;&#x8F91;&#x901A;&#x8FC7;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x6765;&#x5B9E;&#x73B0;&#x5462;&#xFF1F;&#x5176;&#x5B9E;&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x8981;&#x501F;&#x52A9;&#x4E00;&#x70B9;&#x70B9;&#x6570;&#x5B66;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#xFF0C;&#x6BD4;&#x5982;&#x6211;&#x4E0B;&#x8FB9;&#x7B80;&#x5355;&#x7684;&#x5217;&#x4E3E;&#x51E0;&#x4E2A;&#xFF0C;&#x770B;&#x770B;&#x4F60;&#x81EA;&#x5DF1;&#x80FD;&#x4E0D;&#x80FD;&#x770B;&#x51FA;&#x6765;&#x5B83;&#x662F;&#x5C5E;&#x4E8E;&#x4EC0;&#x4E48;&#x7ED3;&#x6784;&#x7684;&#xFF1A;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x4E00;&#x4E2A; = &#x5C31;&#x662F;&#x666E;&#x901A;&#x7684;&#x7B49;&#x53F7;&#xFF0C;&quot; == &quot; &#x8FD9;&#x4E2A;&#x624D;&#x8868;&#x793A; &#x6BD4;&#x8F83;&#x6570;&#x503C;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// -------------- 1 --------------</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">0</span>       <span class="comment">// &#x4E0D;&#x8981;&#x7BA1;&#x524D;&#x8FB9;&#x7684;var&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x628A;x&#x5F53;&#x6210;&#x65B9;&#x7A0B;&#x4E2D;&#x7684;&#x81EA;&#x53D8;&#x91CF;&#x4E00;&#x6837;&#xFF0C;&#x4E0B;&#x8FB9;&#x8FD8;&#x6709;&#x51E0;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x5355;&#x8BCD;&#xFF0C;&#x4F60;&#x5E94;&#x8BE5;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x67E5;&#x5230;&#x7684;&#xFF0C;&#x8BD5;&#x8BD5;&#x5427;</span></span><br><span class="line"><span class="keyword">if</span> (x == <span class="number">0</span>) {</span><br><span class="line">	<span class="comment">// &#x60C5;&#x51B5;1&#x4E4B;&#x4E0B;&#x505A;&#x70B9;&#x513F;&#x4EC0;&#x4E48;	</span></span><br><span class="line">}<span class="keyword">else</span> {</span><br><span class="line">	<span class="comment">// &#x60C5;&#x51B5;2&#x4E4B;&#x4E0B;&#x505A;&#x70B9;&#x513F;&#x4EC0;&#x4E48;	</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// -------------- 2 --------------</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">10</span></span><br><span class="line"><span class="keyword">while</span>(x &gt; <span class="number">5</span>) { <span class="comment">// while &#x5355;&#x8BCD;&#x8868;&#x793A; &#x5F53;&#x4EC0;&#x4E48;&#x4EC0;&#x4E48;&#x65F6;&#x5019;</span></span><br><span class="line">	<span class="comment">// &#x505A;&#x70B9;&#x513F;&#x4EC0;&#x4E48;&#xFF0C;&#x6BD4;&#x5982;&#x8F93;&#x51FA;x</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot; &gt;&gt; &quot;</span> + x)</span><br><span class="line">	x = x - <span class="number">1</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// -------------- 3 --------------</span></span><br><span class="line"><span class="comment">// x-- &#x662F; x = x-1 &#x7684;&#x4E00;&#x79CD;&#x7B80;&#x5199;</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> x = <span class="number">10</span>; x &gt; <span class="number">5</span>; x--) {</span><br><span class="line">	<span class="comment">// &#x505A;&#x70B9;&#x513F;&#x4EC0;&#x4E48;,&#x6BD4;&#x5982;&#x8F93;&#x51FA;x</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot; -- &quot;</span> + x)</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>1&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x5C31;&#x662F;&#x4E2A;&#x53EA;&#x6709;2&#x4E2A;&#x5206;&#x652F;&#x7684;&#x9009;&#x62E9;&#x7ED3;&#x6784;,&#x6211;&#x4EEC;&#x79F0;&#x4E4B;&#x4E3A; <code>if-else&#x8BED;&#x53E5;</code><br>2&#x901A;&#x8FC7;&#x5355;&#x8BCD;&#x4E5F;&#x80FD;&#x5927;&#x6982;&#x731C;&#x5230;&#x662F;&#x4E2A;&#x5FAA;&#x73AF;&#x7ED3;&#x6784;&#xFF0C;&#x6211;&#x4EEC;&#x79F0;&#x4E4B;&#x4E3A; <code>while&#x8BED;&#x53E5;</code><br>3&#x5462;&#xFF0C;&#x5176;&#x5B9E;3&#x4E5F;&#x662F;&#x4E00;&#x79CD;&#x5FAA;&#x73AF;&#x7ED3;&#x6784;&#xFF0C;&#x8FD9;&#x79CD;&#x8BED;&#x53E5;&#x5728;&#x7F16;&#x7A0B;&#x4E2D;&#x79F0;&#x4E4B;&#x4E3A; <code>for&#x8BED;&#x53E5;</code>&#xFF0C; &#x5B83;&#x53EA;&#x662F;&#x6BD4;2&#x4E2D;&#x7684; <code>while&#x8BED;&#x53E5;</code> &#x5199;&#x8D77;&#x6765;&#x66F4;&#x7B80;&#x5355;&#x4E00;&#x4E9B;&#x7F62;&#x4E86;, 2&#x548C;3&#x90FD;&#x8868;&#x793A;&#x4E00;&#x79CD;&#x5FAA;&#x73AF;&#x7ED3;&#x6784;&#xFF0C;&#x5B83;&#x4EEC;&#x7684;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x5982;&#x56FE;<br><img src="http://wx3.sinaimg.cn/large/006mou3Bgy1fk8m7ig8fdj31kw0ftq7z.jpg" alt=""></p>
<p>&#x597D;&#x4E86;&#xFF0C;&#x8FD9;&#x6B21;&#x53EA;&#x662F;&#x8BA9;&#x4F60;&#x7B80;&#x5355;&#x7684;&#x8BA4;&#x8BC6;&#x4E00;&#x4E0B;&#x7F16;&#x7A0B;&#xFF0C;&#x81F3;&#x4E8E;&#x5404;&#x79CD;&#x8BED;&#x53E5;&#x5E94;&#x8BE5;&#x600E;&#x4E48;&#x5199;&#xFF0C;&#x5C06;&#x5728;&#x540E;&#x7EED;&#x6162;&#x6162;&#x53BB;&#x4E86;&#x89E3;&#xFF0C;&#x73B0;&#x5728;&#x4F60;&#x53EA;&#x8981;&#x80FD;&#x591F;&#x77E5;&#x9053;&#x987A;&#x5E8F;/&#x9009;&#x62E9;/&#x5FAA;&#x73AF;&#x8FD9;3&#x79CD;&#x7ED3;&#x6784;&#xFF0C;&#x5E76;&#x5B66;&#x4F1A;&#x628A;&#x751F;&#x6D3B;&#x4E2D;&#x7684;&#x4E8B;&#x60C5;&#x5206;&#x89E3;&#x6210;&#x4E00;&#x6B65;&#x4E00;&#x6B65;&#x7684;&#x4E0A;&#x8FF0;3&#x79CD;&#x7ED3;&#x6784;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/09/18/小朋友的编程-二/"><span>小朋友的编程二</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/09/18/小朋友的编程-二/" rel="bookmark">
        <time class="entry-date published" datetime="2017-09-18T01:39:27.000Z">
          2017-09-18
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h3 id="&#x4E00;&#x5207;&#x90FD;&#x662F;&#x6570;&#x5B57;&#x548C;&#x7535;&#x8DEF;"><a href="#&#x4E00;&#x5207;&#x90FD;&#x662F;&#x6570;&#x5B57;&#x548C;&#x7535;&#x8DEF;" class="headerlink" title="&#x4E00;&#x5207;&#x90FD;&#x662F;&#x6570;&#x5B57;&#x548C;&#x7535;&#x8DEF;"></a>&#x4E00;&#x5207;&#x90FD;&#x662F;&#x6570;&#x5B57;&#x548C;&#x7535;&#x8DEF;</h3><p>&#x6211;&#x4EEC;&#x4E0A;&#x4E00;&#x6B21;&#x5927;&#x81F4;&#x5BF9;&#x7535;&#x8111;&#x4EE5;&#x53CA;&#x7F16;&#x7A0B;&#x7684;&#x6982;&#x5FF5;&#x6709;&#x4E86;&#x4E00;&#x4E9B;&#x4E86;&#x89E3;&#xFF0C;&#x7F16;&#x7A0B;&#x5C31;&#x50CF;&#x662F;&#x8DDF;&#x673A;&#x5668;&#x8BF4;&#x8BDD;&#xFF0C;&#x544A;&#x8BC9;&#x673A;&#x5668;&#x6309;&#x7167;&#x6211;&#x4EEC;&#x8BBE;&#x8BA1;&#x7684;&#x6D41;&#x7A0B;&#x53BB;&#x5B8C;&#x6210;&#x5DE5;&#x4F5C;&#xFF0C;&#x800C;&#x7535;&#x8111; = &#x7535;&#x5B50;&#x5143;&#x4EF6; + &#x7A0B;&#x5E8F; = &#x786C;&#x4EF6; + &#x8F6F;&#x4EF6;&#x3002; &#x8FD9;&#x4E00;&#x8282;&#x5C31;&#x5728;&#x5177;&#x4F53;&#x8BF4;&#x8BF4;&#x4E3A;&#x4EC0;&#x4E48;&#x7535;&#x8111;&#x9664;&#x4E86;&#x9700;&#x8981;&#x786C;&#x4EF6;&#x4E4B;&#x5916;&#x8FD8;&#x9700;&#x8981;&#x8F6F;&#x4EF6;&#x3002;</p>
<p>&#x8FD9;&#x8FD8;&#x5F97;&#x4ECE;&#x7535;&#x8DEF;&#x5F00;&#x59CB;&#x8BF4;&#x8D77;&#xFF0C;&#x6211;&#x8DDF;&#x4F60;&#x63D0;&#x5230;&#x8FC7;&#x7535;&#x8DEF;&#x53EF;&#x4EE5;&#x5206;&#x4E3A;2&#x7C7B;&#x3002;&#x4E00;&#x79CD;&#x53EB;<code>&#x6570;&#x5B57;&#x7535;&#x8DEF;</code>,&#x5B83;&#x51FA;&#x73B0;&#x7684;&#x6BD4;&#x8F83;&#x665A;&#x662F;&#x4E2A;&#x5C0F;&#x5F1F;&#xFF0C;&#x5B83;&#x7684;&#x5927;&#x54E5;&#x662F;&#x4E00;&#x4E2A;&#x53EB;<code>&#x6A21;&#x62DF;&#x7535;&#x8DEF;</code>&#x7684;&#x5BB6;&#x4F19;&#xFF0C;&#x8FD9;&#x5BB6;&#x4F19;&#x4ECE;&#x4EBA;&#x7C7B;&#x8BA4;&#x8BC6;&#x548C;&#x4F7F;&#x7528;&#x7535;&#x4EE5;&#x6765;&#xFF0C;&#x57FA;&#x672C;&#x90FD;&#x662F;&#x5B83;&#xFF0C;&#x6BD4;&#x5982;&#x4F5C;&#x4E3A;&#x80FD;&#x6E90;&#x4F9B;&#x5E94;&#x9A71;&#x52A8;&#x7535;&#x673A;&#xFF0C;&#x706F;&#x6CE1;&#x7B49;&#x7B49;&#x3002;</p>
<p>&#x6211;&#x8FD8;&#x63D0;&#x5230;&#x8FC7;&#xFF0C;&#x7535;&#x4E0D;&#x5149;&#x662F;&#x4E00;&#x79CD;&#x80FD;&#x91CF;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x79CD;&#x4FE1;&#x606F;&#xFF0C;&#x6240;&#x4EE5;&#x6A21;&#x62DF;&#x7535;&#x8DEF;&#x548C;&#x6570;&#x5B57;&#x7535;&#x8DEF;&#x7684;&#x533A;&#x522B;&#xFF0C;&#x6700;&#x6839;&#x672C;&#x7684;&#x6765;&#x8BF4;&#x5C31;&#x662F;2&#x8005;&#x7535;&#x8DEF;&#x4E2D;&#x7684;&#x4FE1;&#x53F7;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x4E00;&#x4E2A;&#x7535;&#x8DEF;&#x677F;&#x5982;&#x679C;&#x5B83;&#x91CC;&#x9762;&#x7684;&#x4FE1;&#x53F7;&#x662F;&#x6570;&#x5B57;&#x4FE1;&#x53F7;&#xFF0C;&#x90A3;&#x5B83;&#x5C31;&#x662F;&#x6570;&#x5B57;&#x7535;&#x8DEF;&#xFF0C;&#x5426;&#x5219;&#x5C31;&#x662F;&#x6A21;&#x62DF;&#x7535;&#x8DEF;&#x3002;</p>
<p>&#x7B80;&#x5355;&#x7684;&#x6765;&#x8BF4;&#xFF0C;&#x968F;&#x5904;&#x53EF;&#x89C1;&#x7684;&#x81EA;&#x7136;&#x4FE1;&#x53F7;&#x90FD;&#x6A21;&#x62DF;&#x4FE1;&#x53F7;&#xFF0C;&#x6BD4;&#x5982;&#x58F0;&#x97F3;&#x4FE1;&#x53F7;&#xFF0C;&#x706F;&#x5149;&#x7B49;&#x7B49;&#xFF0C;&#x6A21;&#x62DF;&#x4FE1;&#x53F7;&#x7684;&#x7279;&#x70B9;&#x5C31;&#x662F;&#x5728;&#x65F6;&#x95F4;&#x4E0A;&#x548C;&#x53D6;&#x503C;&#x4E0A;&#x90FD;&#x662F;&#x8FDE;&#x7EED;&#x7684;&#x4E0D;&#x95F4;&#x65AD;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x4F60;&#x5B66;&#x8FC7;&#x7684;&#x6570;&#x8F74;&#x4E0A;&#xFF0C;&#x968F;&#x610F;&#x753B;&#x51FA;&#x6765;&#x5C31;&#x662F;&#x4E00;&#x6761;&#x8FDE;&#x7EED;&#x4E0D;&#x95F4;&#x65AD;&#x7684;&#x66F2;&#x7EBF;&#xFF0C;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x5178;&#x578B;&#x800C;&#x81EA;&#x7136;&#x7684;&#x6A21;&#x62DF;&#x4FE1;&#x53F7;&#x3002;</p>
<p>&#x6570;&#x5B57;&#x4FE1;&#x53F7;&#x5C31;&#x4E0D;&#x4E00;&#x6837;&#x4E86;&#xFF0C;&#x5728;&#x65F6;&#x95F4;&#x4E0A;&#x548C;&#x53D6;&#x503C;&#x4E0A;&#x90FD;&#x662F;&#x4E0D;&#x8FDE;&#x7EED;&#x7684;&#x3002;&#x8FD9;&#x4E9B;&#x8BF4;&#x8D77;&#x6765;&#x6709;&#x4E9B;&#x96BE;&#x4EE5;&#x7406;&#x89E3;&#xFF0C;&#x4F46;&#x662F;&#x901A;&#x8FC7;&#x56FE;&#x5C31;&#x770B;&#x51FA;&#x6765;&#x7684;&#xFF1A;<br><img src="http://wx3.sinaimg.cn/mw1024/006mou3Bgy1fjtkw1x0w0g30b607xdfq.gif" alt=""></p>
<p>&#x8FD9;&#x662F;&#x5F88;&#x7B80;&#x5355;&#x7684;&#x56FE;&#xFF0C;&#x8FD8;&#x6709;&#x66F4;&#x590D;&#x6742;&#x4E00;&#x4E9B;&#x7684;&#xFF0C;&#x4F60;&#x80FD;&#x4E0D;&#x80FD;&#x5224;&#x65AD;&#x90A3;&#x4E9B;&#x662F;&#x6A21;&#x62DF;&#x7684;&#x90A3;&#x4E9B;&#x662F;&#x6570;&#x5B57;&#x7684;&#x5462;&#xFF1F;<br><img src="http://wx1.sinaimg.cn/mw1024/006mou3Bgy1fjtlemadohj31040ywq7n.jpg" alt=""></p>
<p>&#x5176;&#x5B9E;&#x5173;&#x952E;&#x5C31;&#x662F;&#x770B;&#x4FE1;&#x53F7;&#x56FE;&#x662F;&#x5426;&#x8FDE;&#x7EED;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x95F4;&#x65AD;&#x90A3;&#x5C31;&#x662F;&#x6A21;&#x62DF;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x4E00;&#x4E2A;&#x4E00;&#x4E2A;&#x67F1;&#x5B50;&#x4E00;&#x6837;&#x7684;&#x4E1C;&#x897F;&#x90A3;&#x5C31;&#x662F;&#x6570;&#x5B57;&#x7684;&#x3002;</p>
<p>&#x65E2;&#x7136;&#x6A21;&#x62DF;&#x4FE1;&#x53F7;&#x53C8;&#x81EA;&#x7136;&#x5E94;&#x7528;&#x7684;&#x53C8;&#x65E9;&#xFF0C;&#x90A3;&#x4E3A;&#x4EC0;&#x4E48;&#x73B0;&#x5728;&#x4E3B;&#x6D41;&#x90FD;&#x662F;&#x6570;&#x5B57;&#x4FE1;&#x53F7;&#x5462;&#xFF1F;</p>
<p>&#x5176;&#x5B9E;&#xFF0C;&#x518D;&#x4E0A;&#x56FE;&#x4E2D;&#x4F60;&#x5C31;&#x80FD;&#x731C;&#x51FA;&#x4E00;&#x4E9B;&#xFF0C;&#x539F;&#x56E0;&#x5F88;&#x591A;&#xFF0C;&#x4F46;&#x6700;&#x5173;&#x952E;&#x7684;&#x662F;&#x6570;&#x5B57;&#x4FE1;&#x53F7;&#x7B80;&#x5355;&#xFF0C;&#x89C4;&#x5F8B;&#x6027;&#x5F3A;&#xFF0C;&#x7B80;&#x5355;&#x5C31;&#x610F;&#x5473;&#x7740;&#x7528;&#x7535;&#x91CF;&#x5C11;&#xFF0C;&#x6709;&#x89C4;&#x5F8B;&#x5C31;&#x610F;&#x5473;&#x7740;&#x5904;&#x7406;&#x5F88;&#x4F20;&#x8F93;&#x65B9;&#x4FBF;&#xFF0C;&#x6240;&#x4EE5;&#x6570;&#x5B57;&#x7535;&#x8DEF;&#x53EF;&#x4EE5;&#x505A;&#x5230;&#x5F88;&#x5C0F;&#x5F88;&#x5F3A;&#xFF0C;&#x6211;&#x4EEC;&#x63A5;&#x7740;&#x56FE;&#xFF1A;</p>
<p><img src="http://wx2.sinaimg.cn/mw1024/006mou3Bgy1fjtluehv9pj30ri0drgnh.jpg" alt=""><br>&#x4E0A;&#x56FE;&#x5DE6;&#x4FA7;&#x662F;&#x65E9;&#x671F;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#xFF0C;&#x786C;&#x4EF6;&#x4E3B;&#x8981;&#x90FD;&#x662F;&#x6A21;&#x62DF;&#x7535;&#x8DEF;&#xFF0C;&#x800C;&#x53F3;&#x4FA7;&#x4F60;&#x5C31;&#x5F88;&#x719F;&#x6089;&#x4E86;&#xFF0C;&#x5C31;&#x662F;&#x666E;&#x901A;&#x7684;&#x5BB6;&#x7528;&#x7535;&#x8111;&#xFF0C;&#x524D;&#x8005;&#x6709;&#x51E0;&#x4E2A;&#x5C4B;&#x5B50;&#x5927;&#x5C0F;&#x800C;&#x540E;&#x8005;&#x684C;&#x4E0A;&#x5C31;&#x80FD;&#x653E;&#xFF0C;&#x76F8;&#x5BF9;&#x4E8E;&#x4F53;&#x79EF;&#x5DEE;&#x5F02;&#x5B83;&#x4EEC;&#x7684;&#x529F;&#x80FD;&#x5F3A;&#x5F31;&#x624D;&#x662F;&#x66F4;&#x8BA9;&#x4EBA;&#x60CA;&#x5947;&#x7684;&#xFF0C;&#x540E;&#x8005;&#x8BA1;&#x7B97;&#x80FD;&#x529B;&#x6BD4;&#x524D;&#x8005;&#x8981;&#x5F3A;<strong>&#x597D;&#x51E0;&#x767E;&#x4E07;&#x500D;</strong>&#x90FD;&#x4E0D;&#x6B62;&#xFF0C;&#x5373;&#x4FBF;&#x4F60;&#x7684;&#x624B;&#x673A;&#x7684;&#x5904;&#x7406;&#x80FD;&#x529B;&#xFF0C;&#x4E5F;&#x8981;&#x6BD4;&#x5C4B;&#x5B50;&#x4E00;&#x6837;&#x7684;&#x8001;&#x7535;&#x8111;&#x5F3A;&#x5F88;&#x591A;&#x5F88;&#x591A;&#x3002;&#x8FD9;&#x5C31;&#x662F;&#x4E3A;&#x4EC0;&#x4E48;&#x73B0;&#x5728;&#x6570;&#x5B57;&#x7535;&#x8DEF;&#x88AB;&#x5E7F;&#x6CDB;&#x7684;&#x4F7F;&#x7528;&#x5728;&#x5404;&#x4E2A;&#x9886;&#x57DF;&#xFF0C;&#x7535;&#x8111;&#x5C31;&#x662F;&#x5176;&#x4E2D;&#x6700;&#x5178;&#x578B;&#x7684;&#x5B58;&#x5728;&#x3002;</p>
<hr>
<p>&#x4E86;&#x89E3;&#x4E86;&#x8FD9;&#x4E9B;&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x518D;&#x56DE;&#x5230;&#x4E3B;&#x9898;&#xFF0C;&#x7535;&#x8111; = &#x786C;&#x4EF6; + &#x8F6F;&#x4EF6;&#xFF0C;&#x5176;&#x4E2D;&#x786C;&#x4EF6;&#x6307;&#x7684;&#x662F;&#x6570;&#x5B57;&#x7535;&#x8DEF;&#xFF0C;&#x90A3;&#x4E48;&#x8F6F;&#x4EF6;&#x5462;&#xFF1F;</p>
<p>&#x5176;&#x5B9E;&#x8FD8;&#x662F;&#x597D;&#x56DE;&#x5230;&#x6570;&#x5B57;&#x4E5F;&#x662F;&#x4FE1;&#x606F;&#x7684;&#x90A3;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x56DE;&#x987E;&#x4E00;&#x4E0B;&#x5427;&#xFF1A;<br>&#x6BD4;&#x5982;&#x6211;&#x7ED9;&#x5B9A;&#x4E00;&#x4E2A;&#x6807;&#x51C6;&#x7535;&#x538B;5v&#xFF0C;&#x5982;&#x679C;&#x6BD4;5&#x5C0F;&#x7684;&#x7535;&#x538B;&#x6211;&#x4EEC;&#x79F0;&#x4E4B;&#x4E3A;&#x4F4E;&#x7535;&#x538B;&#xFF0C;&#x6211;&#x4EEC;&#x7528;0&#x8868;&#x793A;&#xFF0C;&#x6BD4;&#x5B83;&#x9AD8;&#x5C31;&#x662F;&#x9AD8;&#x7535;&#x538B;&#xFF0C;&#x6211;&#x4EEC;&#x7528;1&#x8868;&#x793A;&#x3002;&#x540C;&#x65F6;&#x6211;&#x4EEC;&#x8FD8;&#x89C4;&#x5B9A;&#xFF0C;&#x5982;&#x679C;&#x9AD8;&#x7535;&#x538B;&#x5C31;&#x4EE3;&#x8868;&#x5929;&#x6C14;&#x6674;&#x6717;&#x9002;&#x5408;&#x51FA;&#x95E8;&#x73A9;&#xFF0C;&#x4F4E;&#x7535;&#x538B;&#x4E3A;&#x96E8;&#x5929;&#x4E0D;&#x80FD;&#x51FA;&#x95E8;&#xFF0C;&#x6587;&#x5B57;&#x63CF;&#x8FF0;&#x5BF9;&#x5E94;&#x5230;&#x8868;&#x683C;&#x5C31;&#x662F;&#xFF1A;</p>
<table>
<thead>
<tr>
<th style="text-align:center">&#x5927;&#x4E8E;5V</th>
<th style="text-align:center">1</th>
<th style="text-align:center">&#x5929;&#x6C14;&#x6674;&#x6717;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">&#x5C0F;&#x4E8E;5V</td>
<td style="text-align:center">0</td>
<td style="text-align:center">&#x9634;&#x96E8;&#x5929;&#x6C14;</td>
</tr>
</tbody>
</table>
<p>&#x90A3;&#x4E48;&#x5982;&#x679C;&#x7ED9;&#x51FA;&#x7684;&#x662F;<code>1</code>&#xFF0C;&#x4F60;&#x4E00;&#x770B;&#x81EA;&#x7136;&#x5C31;&#x77E5;&#x9053;&#x4E86;&#xFF1A;&#x5662;&#xFF0C;&#x4ECA;&#x5929;&#x5929;&#x6E05;&#x6C14;&#x6717;&#xFF0C;&#x662F;&#x53EF;&#x4EE5;&#x51FA;&#x53BB;&#x6E38;&#x73A9;&#xFF0C;<code>0</code>&#x7684;&#x8BDD;&#x5C31;&#x6B63;&#x597D;&#x76F8;&#x53CD;&#x3002;&#x4E0A;&#x8FF0;&#x5C31;&#x901A;&#x8FC7;&#x628A;<code>&#x7535;&#x538B;</code>&#x8F6C;&#x5316;&#x6210;&#x4E86;&#x6570;&#x5B57;&#x4FE1;&#x53F7;<code>0&#x6216;1</code>&#xFF08;&#x8FD9;&#x4E00;&#x6B65;&#x662F;&#x786C;&#x4EF6;&#x5728;&#x53D1;&#x6325;&#x4F5C;&#x7528;&#xFF09;&#xFF0C;&#x4ECE;&#x800C;&#x6765;0&#x8868;&#x793A;&#x9634;&#x96E8;&#x5E76;&#x8BA9;1&#x8868;&#x793A;&#x6674;&#x5929;&#xFF08;&#x8FD9;&#x4E2A;&#x89C4;&#x5B9A;&#x8C01;&#x4EE3;&#x8868;&#x8C01;&#x5C31;&#x5C5E;&#x4E8E;&#x8F6F;&#x4EF6;&#x7684;&#x5DE5;&#x4F5C;&#xFF09;&#xFF0C;&#x4ED6;&#x4EEC;&#x5171;&#x540C;&#x4F5C;&#x7528;&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#x8868;&#x793A;&#x5929;&#x6C14;&#x7684;&#x597D;&#x574F;&#x7684;&#x529F;&#x80FD;&#x3002;</p>
<p>&#x8BA9;&#x6211;&#x4EEC;&#x5728;&#x6269;&#x5C55;&#x4E00;&#x4E0B;&#xFF0C;&#x5982;&#x679C;&#x79D1;&#x5B66;&#x5BB6;&#x53D1;&#x73B0;&#x4E86;&#x4E00;&#x79CD;&#x6750;&#x6599;&#xFF0C;&#x5B83;&#x505A;&#x6210;&#x7684;&#x7535;&#x8DEF;&#x80FD;&#x6839;&#x636E;&#x5929;&#x6C14;&#x7684;&#x597D;&#x574F;&#x800C;&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x96E8;&#x5929;&#x4F4E;&#x4E8E;5v&#xFF0C;&#x6674;&#x5929;&#x5C31;&#x9AD8;&#x4E8E;5v&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x628A;&#x8FD9;&#x79CD;&#x6750;&#x6599;&#x505A;&#x7684;&#x7535;&#x8DEF;&#x653E;&#x5230;&#x9662;&#x5B50;&#x91CC;&#xFF0C;&#x4F60;&#x53EA;&#x7528;&#x5728;&#x5C4F;&#x5E55;&#x524D;&#x53BB;&#x770B;&#x663E;&#x793A;0&#x6216;&#x8005;1&#xFF0C;&#x5C31;&#x77E5;&#x9053;&#x4E86;&#x5929;&#x6C14;&#xFF0C;&#x4E0D;&#x7528;&#x81EA;&#x5DF1;&#x51FA;&#x53BB;&#x770B;&#xFF0C;&#x5E76;&#x4E14;&#x6574;&#x4E2A;&#x8FC7;&#x7A0B;&#x662F;&#x81EA;&#x52A8;&#x5316;&#x7684;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x4E00;&#x65E6;&#x5DF2;&#x4F60;&#x7B2C;&#x4E00;&#x6B21;&#x5E03;&#x7F6E;&#x597D;&#x4E86;&#x4E4B;&#x540E;&#xFF0C;&#x5C31;&#x518D;&#x4E5F;&#x4E0D;&#x7528;&#x53BB;&#x5E72;&#x9884;&#x4E86;&#xFF0C;&#x4F60;&#x5C31;&#x62E5;&#x6709;&#x4E86;&#x4E00;&#x4E2A;&#x80FD;&#x81EA;&#x52A8;&#x544A;&#x8BC9;&#x4F60;&#x5929;&#x6C14;&#x7684;&#x667A;&#x80FD;&#x8BBE;&#x5907;&#x4E86;&#x3002;</p>
<p>&#x8FD9;&#x5C31;&#x662F;&#x8F6F;&#x4EF6;+&#x786C;&#x4EF6;&#x4E4B;&#x6240;&#x4EE5;&#x5389;&#x5BB3;&#x7684;&#x539F;&#x56E0;&#xFF0C;&#x5B83;&#x4EEC;&#x914D;&#x5408;&#x8D77;&#x6765;&#x5C31;&#x662F;&#x81EA;&#x52A8;&#x7684;&#xFF0C;&#x667A;&#x80FD;&#x7684;&#x3002;</p>
<p>&#x770B;&#x8D77;&#x6765;&#x4E5F;&#x4E0D;&#x662F;&#x592A;&#x96BE;&#xFF0C;&#x662F;&#x5427;</p>
<p>&#x603B;&#x7ED3;&#x4E00;&#x4E0B;&#xFF0C;&#x901A;&#x8FC7;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#xFF0C;&#x4F60;&#x5BF9;&#x8F6F;&#x4EF6;&#x548C;&#x786C;&#x4EF6;&#x591A;&#x4E86;&#x89E3;&#x4E86;&#x4E00;&#x4E9B;&#xFF1A;</p>
<ul>
<li>&#x7535;&#x8111;&#x91CC;&#x7684;&#x786C;&#x4EF6;&#x57FA;&#x672C;&#x90FD;&#x662F;&#x6570;&#x5B57;&#x7535;&#x8DEF;&#xFF0C;&#x5B83;&#x4EEC;&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x6570;&#x5B57;&#x4FE1;&#x53F7;</li>
<li>&#x6570;&#x5B57;&#x4FE1;&#x53F7;&#x4E0D;&#x662F;0&#x5C31;&#x662F;1&#xFF0C;&#x7535;&#x8111;&#x4E2D;&#x7684;&#x4E00;&#x5207;&#x672C;&#x8D28;&#x4E0A;&#x90FD;&#x662F;0&#x548C;1&#xFF0C;&#x4E0D;&#x7BA1;&#x662F;&#x56FE;&#x7247;&#x89C6;&#x5C4F;&#x8FD8;&#x662F;&#x6E38;&#x620F;</li>
<li>&#x8F6F;&#x4EF6;&#x7684;&#x4F5C;&#x7528;&#x5C31;&#x662F;&#x4E3A;&#x4E86;&#x652F;&#x6301;&#x548C;&#x89E3;&#x91CA;&#x786C;&#x4EF6;&#x7684;&#xFF0C;&#x5B83;&#x89C4;&#x5B9A;01&#x4EE3;&#x8868;&#x4E86;&#x4EC0;&#x4E48;</li>
</ul>
<p>&#x8FD9;&#x8FD8;&#x662F;&#x4E00;&#x7BC7;&#x6982;&#x5FF5;&#x6027;&#x7684;&#x6750;&#x6599;&#xFF0C;&#x770B;&#x8FC7;&#x6709;&#x4E2A;&#x5370;&#x8C61;&#x5C31;&#x884C;&#x4E86;&#xFF0C;&#x80FD;&#x4E86;&#x89E3;&#x5230;&#x7535;&#x8111;&#x4E2D;&#x7684;&#x4E00;&#x5207;&#x90FD;&#x662F;0101&#x5F88;&#x91CD;&#x8981;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x5C31;&#x662F;&#x7535;&#x8111;&#x5DE5;&#x4F5C;&#x7684;&#x57FA;&#x672C;&#x673A;&#x5236;&#x3002;&#x9884;&#x544A;&#x4E00;&#x4E0B;&#xFF1A;&#x4E0B;&#x5468;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x8981;&#x5F00;&#x59CB;&#x8BD5;&#x8BD5;&#x6700;&#x7B80;&#x5355;&#x7684;&#x7F16;&#x7A0B;&#x4E86;&#x3002;</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/09/16/小朋友的编程-一/"><span>小朋友的编程(一)</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/09/16/小朋友的编程-一/" rel="bookmark">
        <time class="entry-date published" datetime="2017-09-16T09:56:27.000Z">
          2017-09-16
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="&#x7B2C;0&#x7AE0;-&#x5F15;&#x5B50;"><a href="#&#x7B2C;0&#x7AE0;-&#x5F15;&#x5B50;" class="headerlink" title="&#x7B2C;0&#x7AE0; &#x5F15;&#x5B50;"></a>&#x7B2C;0&#x7AE0; &#x5F15;&#x5B50;</h2><p>&#x4F60;&#x4E00;&#x5B9A;&#x5BF9;&#x7535;&#x8111;&#x548C;&#x624B;&#x673A;&#x7684;&#x4F7F;&#x7528;&#x975E;&#x5E38;&#x719F;&#x6089;&#xFF0C;&#x8FD9;&#x4E9B;&#x4E8B;&#x60C5;&#x4F60;&#x51E0;&#x4E4E;&#x5929;&#x5929;&#x5728;&#x505A;&#xFF1A;</p>
<ul>
<li>&#x6253;&#x5F00;&#x7535;&#x8111;&#xFF0C;&#x5C4F;&#x5E55;&#x4EAE;&#x8D77;&#xFF0C;&#x7B49;&#x5F85;&#x4E00;&#x5C0F;&#x6BB5;&#x65F6;&#x95F4;&#xFF08;&#x6216;&#x8BB8;&#x4F60;&#x77E5;&#x9053;&#x8FD9;&#x662F;&#x5728;&#x542F;&#x52A8;&#x7CFB;&#x7EDF;&#xFF09;&#xFF0C;&#x76F4;&#x5230;&#x51FA;&#x73B0;&#x684C;&#x9762;</li>
<li>&#x70B9;&#x51FB;&#x6E38;&#x620F;&#x56FE;&#x6807;&#xFF0C;&#x8FDB;&#x5165;&#x6E38;&#x620F;&#x5C31;&#x53EF;&#x4EE5;&#x5F00;&#x5FC3;&#x7684;&#x73A9;&#x6E38;&#x620F;&#x4E86;</li>
<li>&#x70B9;&#x51FB;QQ&#xFF0C;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#x548C;&#x8D26;&#x53F7;&#xFF0C;&#x70B9;&#x51FB;&#x597D;&#x53CB;&#x56FE;&#x50CF;&#xFF0C;&#x5C31;&#x80FD;&#x5728;&#x5F39;&#x51FA;&#x7684;&#x5BF9;&#x8BDD;&#x6846;&#x4E2D;&#x901A;&#x8FC7;&#x6253;&#x5B57;&#x3001;&#x8BED;&#x97F3;&#x6216;&#x8005;&#x89C6;&#x5C4F;&#x8DDF;&#x597D;&#x53CB;&#x804A;&#x5929;&#x4E86;</li>
<li>&#x5230;&#x8D85;&#x5E02;&#x4E70;&#x4E1C;&#x897F;&#xFF0C;&#x6253;&#x5F00;&#x624B;&#x673A;&#x626B;&#x4E00;&#x626B;&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#x4ED8;&#x6B3E;</li>
<li>&#x518D;&#x56DE;&#x5FC6;&#x4E00;&#x4E2A;&#x627E;&#x52A8;&#x753B;&#x7247;&#x7684;&#x4F8B;&#x5B50;&#xFF1A; &#x6253;&#x5F00;&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x8F93;&#x5165;www.baidu.com&#x5C31;&#x5230;&#x4E86;&#x767E;&#x5EA6;&#x7684;&#x9996;&#x9875;&#xFF0C;&#x901A;&#x8FC7;&#x767E;&#x5EA6;&#x627E;&#x5230;&#x81EA;&#x5DF1;&#x559C;&#x6B22;&#x7684;&#x52A8;&#x753B;&#x7247;&#xFF0C;&#x6BD4;&#x5982;&#x201C;&#x706B;&#x5F71;&#x5FCD;&#x8005;&#x201D;&#xFF0C;&#x5728;&#x641C;&#x7D22;&#x7ED3;&#x679C;&#x4E2D;&#x627E;&#x5230;&#x571F;&#x8C46;&#x7F51;&#xFF0C;&#x70B9;&#x51FB;&#x5B83;&#xFF0C;&#x7B49;&#x9875;&#x9762;&#x52A0;&#x8F7D;&#x7ED3;&#x675F;&#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x52A8;&#x753B;&#x7247;&#x4E86;   </li>
</ul>
<p>&#x4E0A;&#x8FF0;&#x4F60;&#x4E00;&#x5B9A;&#x975E;&#x5E38;&#x719F;&#x7EC3;&#xFF0C;&#x5BF9;&#x5427;</p>
<p>&#x4F46;&#x662F;&#x4F60;&#x6CA1;&#x6709;&#x597D;&#x5947;&#x8FC7;&#x8FD9;&#x4E00;&#x5207;&#x662F;&#x600E;&#x4E48;&#x53D1;&#x751F;&#x7684;&#xFF0C;&#x5B83;&#x4EEC;&#x80CC;&#x540E;&#x7684;&#x539F;&#x7406;&#x662F;&#x4EC0;&#x4E48;&#x5462;&#xFF1F;&#x7535;&#x8111;&#x7A76;&#x7ADF;&#x6709;&#x4EC0;&#x4E48;&#x9B54;&#x529B;&#x8BA9;&#x5B83;&#x80FD;&#x5E2E;&#x4F60;&#x627E;&#x5230;&#x81EA;&#x5DF1;&#x60F3;&#x8981;&#x7684;&#x4FE1;&#x606F;&#xFF1F;&#x5982;&#x679C;&#x4F60;&#x5B66;&#x4F1A;&#x4E86;&#x80CC;&#x540E;&#x7684;&#x4E1C;&#x897F;&#xFF0C;&#x662F;&#x4E0D;&#x662F;&#x5C31;&#x80FD;&#x81EA;&#x5DF1;&#x53BB;&#x505A;&#x81EA;&#x5DF1;&#x7684;&#x6E38;&#x620F;&#xFF0C;&#x81EA;&#x5DF1;&#x7684;QQ&#x5462;&#xFF1F;</p>
<p>&#x5176;&#x5B9E;&#x662F;&#x53EF;&#x4EE5;&#x7684;&#xFF0C;&#x5728;&#x4F60;&#x8F7B;&#x63CF;&#x6DE1;&#x5199;&#x7684;&#x52A8;&#x52A8;&#x9F20;&#x6807;&#x5C31;&#x5B8C;&#x6210;&#x7684;&#x80CC;&#x540E;&#xFF0C;&#x662F;&#x7531;&#x5927;&#x91CF;&#x6770;&#x51FA;&#x7684;&#x79D1;&#x5B66;&#x5BB6;&#x548C;&#x5DE5;&#x7A0B;&#x5E08;&#x4EEC;&#x7684;&#x8F9B;&#x52E4;&#x5DE5;&#x4F5C;&#x7684;&#x6210;&#x679C;&#xFF0C;&#x5B83;&#x4EEC;&#x5229;&#x7528;&#x7535;&#x5B50;&#x6280;&#x672F;&#x3001;&#x4FE1;&#x606F;&#x7F51;&#x7EDC;&#x6280;&#x672F;&#x548C;&#x8F6F;&#x4EF6;&#x5DE5;&#x7A0B;&#x8BA9;&#x8FD9;&#x4E00;&#x5207;&#x53D8;&#x5F97;&#x5982;&#x6B64;&#x6613;&#x7528;&#x548C;&#x666E;&#x901A;&#x3002;</p>
<hr>
<p>&#x90A3;&#x4E48;&#x4E00;&#x5F00;&#x59CB;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x5148;&#x804A;&#x804A;&#x7535;&#x8111;&#xFF0C;&#x4F60;&#x8BA4;&#x4E3A;&#x7535;&#x8111;&#x662F;&#x4EC0;&#x4E48;&#x5462;&#xFF1F;&#x4EC0;&#x4E48;&#x624D;&#x7B97;&#x662F;&#x7535;&#x8111;&#x5462;&#xFF1F;&#x770B;&#x770B;&#x4E0B;&#x8FB9;&#x51E0;&#x5F20;&#x56FE;&#x5427;&#xFF0C;&#x4F60;&#x731C;&#x731C;&#x56FE;&#x4E2D;&#x54EA;&#x4E9B;&#x662F;&#x7535;&#x8111;&#xFF1A;</p>
<p><img src="http://wx3.sinaimg.cn/mw1024/006mou3Bly1fjlldwt2hfj30ia0iajud.jpg" alt="&#x731C;&#x731C;&#x770B;&#x8FD9;&#x91CC;&#x8FB9;&#x90A3;&#x4E9B;&#x662F;&#x7535;&#x8111;&#xFF1F;"></p>
<p>&#x5176;&#x5B9E;&#x4E0A;&#x8FB9;&#x7684;&#x90FD;&#x662F;&#x7535;&#x8111;&#xFF0C;&#x5BB6;&#x7528;&#x53F0;&#x5F0F;&#x673A;&#x548C;&#x7B14;&#x8BB0;&#x672C;&#x5F88;&#x5E38;&#x89C1;&#xFF0C;&#x4F46;&#x7B2C;&#x4E00;&#x56FE;&#x7684;&#x5DE5;&#x4E1A;&#x5C0F;&#x578B;&#x673A;&#x548C;&#x7B2C;&#x56DB;&#x56FE;&#x7684;&#x8D85;&#x7EA7;&#x8BA1;&#x7B97;&#x673A;&#x5C31;&#x4E0D;&#x5E38;&#x89C1;&#x4E86;&#xFF0C;&#x5176;&#x5B9E;&#x8FDC;&#x8FDC;&#x4E0D;&#x6B62;&#x8FD9;&#x4E9B;&#xFF0C;&#x7535;&#x8111;&#x7684;&#x8303;&#x56F4;&#x6BD4;&#x4F60;&#x60F3;&#x8C61;&#x7684;&#x8FD8;&#x8981;&#x5E7F;&#x6CDB;&#xFF0C;&#x6BD4;&#x5982;&#x4F60;&#x7528;&#x7684;&#x624B;&#x673A;&#xFF0C;&#x6BCF;&#x8F86;&#x6C7D;&#x8F66;&#x4E0A;&#x90FD;&#x6709;&#x7BA1;&#x7406;&#x5239;&#x8F66;&#x548C;&#x7A7A;&#x8C03;&#x7684;&#x6C7D;&#x8F66;&#x7535;&#x8111;&#xFF0C;&#x53BB;&#x94F6;&#x884C;&#x53D6;&#x94B1;&#x7528;&#x5230;&#x7684;ATM&#xFF0C;&#x53BB;&#x8D85;&#x5E02;&#x4ED8;&#x6B3E;&#x65F6;&#x6536;&#x94F6;&#x5458;&#x64CD;&#x4F5C;&#x7684;&#x6536;&#x94F6;&#x673A;&#xFF0C;&#x751A;&#x81F3;&#x5C0F;&#x5230;&#x4F60;&#x73A9;&#x7684;&#x9065;&#x63A7;&#x73A9;&#x5177;&#x8F66;&#xFF0C;&#x53A8;&#x623F;&#x91CC;&#x7684;&#x7535;&#x78C1;&#x7089;&#x5FAE;&#x6CE2;&#x7089;&#x7B49;&#x7B49;&#x90FD;&#x53EF;&#x4EE5;&#x79F0;&#x4E4B;&#x4E3A;&#x7535;&#x8111;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x7EA6;&#x5B9A;&#x4E00;&#x4E0B;&#xFF0C;&#x6211;&#x4EEC;&#x6240;&#x8BF4;&#x7684;&#x7535;&#x8111;&#x662F;&#x8FD9;&#x6837;&#x4E00;&#x79CD;&#x673A;&#x5668;&#xFF1A;<strong>&#x80FD;&#x591F;<code>&#x81EA;&#x52A8;&#x5316;</code>&#x7684;&#x5B9E;&#x73B0;&#x67D0;&#x79CD;&#x6216;&#x591A;&#x79CD;&#x529F;&#x80FD;&#x7684;<code>&#x7535;&#x5B50;&#x8BBE;&#x5907;</code></strong>&#xFF0C;&#x5B83;&#x4EEC;&#x90FD;&#x53EF;&#x4EE5;&#x79F0;&#x4E3A;&#x7535;&#x5B50;&#x8BA1;&#x7B97;&#x673A;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x53E3;&#x8BED;&#x5316;&#x7684;&#x7535;&#x8111;&#x3002;</p>
<p>&#x662F;&#x4E0D;&#x662F;&#x6CA1;&#x60F3;&#x5230;&#x539F;&#x6765;&#x7535;&#x8111;&#x6709;&#x90A3;&#x4E48;&#x591A;&#x5C0F;&#x5144;&#x5F1F;&#xFF0C;&#x4F60;&#x7684;&#x5468;&#x56F4;&#x9664;&#x4E86;&#x90A3;&#x4E2A;&#x56DB;&#x56DB;&#x65B9;&#x65B9;&#x7684;&#x5E26;&#x6709;&#x5C4F;&#x5E55;&#x7684;&#x673A;&#x5668;&#x5916;&#xFF0C;&#x8FD8;&#x6709;&#x90A3;&#x4E48;&#x591A;&#x8BBE;&#x5907;&#x5176;&#x5B9E;&#x90FD;&#x662F;&#x7535;&#x8111;&#xFF0C;&#x90A3;&#x4F60;&#x5728;&#x60F3;&#x60F3;&#xFF0C;&#x9664;&#x4E86;&#x4E0A;&#x8FB9;&#x6211;&#x63D0;&#x5230;&#x7684;&#x4E4B;&#x5916;&#xFF0C;&#x8FD8;&#x6709;&#x6CA1;&#x6709;&#x5176;&#x4ED6;&#x7684;&#x4E1C;&#x897F;&#x4E5F;&#x53EF;&#x53EB;&#x505A;&#x7535;&#x8111;&#x5462;&#xFF1F;&#x4F60;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x6211;&#x4EEC;&#x521A;&#x624D;&#x7EA6;&#x5B9A;&#x7684;&#x90A3;&#x4E2A;&#x5B9A;&#x4E49;&#x53BB;&#x4F30;&#x8BA1;&#xFF0C;&#x8BD5;&#x4E00;&#x8BD5;&#x5427;</p>
<p>&#x7136;&#x540E;&#x6211;&#x4EEC;&#x5728;&#x5C06;&#x6CE8;&#x610F;&#x529B;&#x653E;&#x5230;&#x521A;&#x521A;&#x7684;&#x5B9A;&#x4E49;&#x4E0A;&#xFF0C;&#x5B9A;&#x4E49;&#x91CC;&#x6709;2&#x4E2A;&#x5173;&#x952E;&#x5B57;&#xFF0C;&#x4E00;&#x4E2A;&#x662F;<code>&#x7535;&#x5B50;&#x8BBE;&#x5907;</code>,&#x4E00;&#x4E2A;&#x662F;<code>&#x81EA;&#x52A8;&#x5316;</code>&#x3002;&#x600E;&#x6837;&#x7406;&#x89E3;&#x5462;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x628A;&#x7535;&#x8111;&#x60F3;&#x8C61;&#x6210;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x5065;&#x5EB7;&#x7684;&#x4EBA;&#xFF0C;&#x4E00;&#x4E2A;&#x4EBA;&#x9996;&#x5148;&#x662F;&#x6709;&#x8089;&#x4F53;&#x8EAF;&#x5E72;&#x7684;&#xFF0C;&#x5176;&#x6B21;&#x4ED6;&#x8FD8;&#x662F;&#x6709;&#x601D;&#x60F3;&#x6709;&#x667A;&#x529B;&#x7684;&#xFF0C;&#x7C7B;&#x4F3C;&#x7684;&#xFF0C;&#x7EC4;&#x6210;&#x7535;&#x8111;&#x7684;&#x5404;&#x79CD;&#x7535;&#x5B50;&#x5668;&#x4EF6;&#x5C31;&#x76F8;&#x5F53;&#x4E8E;&#x8089;&#x4F53;&#x8EAF;&#x5E72;&#xFF0C;&#x800C;&#x8F6F;&#x4EF6;&#x5C31;&#x662F;&#x7535;&#x8111;&#x7684;&#x601D;&#x60F3;&#x667A;&#x529B;&#xFF0C;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x4EBA;&#x53EA;&#x6709;&#x8EAF;&#x5E72;&#x6CA1;&#x6709;&#x610F;&#x8BC6;&#xFF0C;&#x90A3;&#x4ED6;&#x5C31;&#x662F;&#x690D;&#x7269;&#x4EBA;&#xFF0C;&#x5BF9;&#x7535;&#x8111;&#x4E5F;&#x662F;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x4E00;&#x5806;&#x6CA1;&#x6709;&#x8F6F;&#x4EF6;&#x8C03;&#x63A7;&#x7684;&#x786C;&#x4EF6;&#xFF0C;&#x4E5F;&#x4E0D;&#x80FD;&#x5B8C;&#x6210;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7684;&#x529F;&#x80FD;&#x3002;&#x6240;&#x4EE5;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7684;&#x7535;&#x5B50;&#x8BA1;&#x7B97;&#x673A;&#xFF08;&#x5065;&#x5EB7;&#x7684;&#x4EBA;&#xFF09; =  &#x7535;&#x5B50;&#x5143;&#x4EF6;&#xFF08;&#x8089;&#x4F53;&#xFF09; + &#x7A0B;&#x5E8F;&#xFF08;&#x601D;&#x60F3;&#x610F;&#x8BC6;&#xFF09;&#xFF0C;&#x66F4;&#x901A;&#x4FD7;&#x4E00;&#x4E9B;&#x7684;&#x8BF4;&#x6CD5;&#x662F;&#x7535;&#x8111; = &#x786C;&#x4EF6; + &#x8F6F;&#x4EF6;</p>
<p>&#x6240;&#x8C13;&#x7F16;&#x7A0B;&#x5C31;&#x662F;&#x7F16;&#x5199;&#x8F6F;&#x4EF6;&#x7684;&#x884C;&#x4E3A;&#xFF0C;&#x662F;&#x4E00;&#x79CD;&#x7ED9;&#x5668;&#x4EF6;&#x8D4B;&#x4E88;&#x7075;&#x9B42;&#xFF0C;&#x8BA9;&#x786C;&#x4EF6;&#x7EC4;&#x7EC7;&#x8D77;&#x6765;&#x5171;&#x540C;&#x5B8C;&#x6210;&#x67D0;&#x79CD;&#x529F;&#x80FD;&#x7684;&#x884C;&#x4E3A;&#x3002;&#x6362;&#x4E00;&#x4E2A;&#x89D2;&#x5EA6;&#x8BF4;&#x6765;&#xFF0C;&#x6216;&#x8BB8;&#x66F4;&#x5BB9;&#x6613;&#x7406;&#x89E3;&#x4E00;&#x4E9B;&#xFF1A;&#x6211;&#x4EEC;&#x8BF4;&#x8BDD;&#x7528;&#x7684;&#x662F;&#x666E;&#x901A;&#x8BDD;&#xFF0C;&#x4F60;&#x8DDF;&#x4F60;&#x59E5;&#x59E5;&#x8BF4;&#x8BDD;&#x7528;&#x7684;&#x662F;&#x5C71;&#x4E1C;&#x8BDD;&#xFF0C;&#x4F60;&#x5C0F;&#x59E8;&#x8DDF;&#x5979;&#x7684;&#x5B66;&#x751F;&#x4EA4;&#x6D41;&#x9700;&#x8981;&#x82F1;&#x8BED;&#xFF0C;&#x6211;&#x4EEC;&#x4EBA;&#x7C7B;&#x4E4B;&#x95F4;&#x7684;&#x4EA4;&#x6D41;&#x662F;&#x9700;&#x8981;&#x8BED;&#x8A00;&#x4EA4;&#x6D41;&#x7684;&#xFF0C;&#x540C;&#x6837;&#x7684;&#x9053;&#x7406;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x8BA9;&#x90A3;&#x4E00;&#x5806;&#x51B0;&#x51B7;&#x7684;&#x7535;&#x5B50;&#x5668;&#x4EF6;&#x4E00;&#x8D77;&#x5E72;&#x4E00;&#x4EF6;&#x4EC0;&#x4E48;&#x4EF6;&#x4E8B;&#x7684;&#x8BDD;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x8DDF;&#x673A;&#x5668;&#x4EA4;&#x6D41;&#x3002;&#x8DDF;&#x673A;&#x5668;&#x4EA4;&#x6D41;&#x5C31;&#x662F;<code>&#x7F16;&#x7A0B;</code>&#xFF0C;&#x6211;&#x4EEC;&#x7528;&#x6765;&#x8DDF;&#x673A;&#x5668;&#x4EA4;&#x6D41;&#x7684;&#x8BED;&#x8A00;&#x5C31;&#x662F;<code>&#x7F16;&#x7A0B;&#x8BED;&#x8A00;</code>&#x3002;&#x6240;&#x4EE5;&#x672C;&#x8D28;&#x4E0A;&#x7F16;&#x7A0B;&#x5C31;&#x662F;<code>&#x901A;&#x8FC7;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#xFF0C;&#x7F16;&#x5199;&#x51FA;&#x673A;&#x5668;&#x80FD;&#x8BC6;&#x522B;&#x548C;&#x6267;&#x884C;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x8BA9;&#x673A;&#x5668;&#x9075;&#x7167;&#x5148;&#x524D;&#x7F16;&#x5199;&#x597D;&#x4E86;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x8FBE;&#x5230;&#x5B8C;&#x6210;&#x67D0;&#x79CD;&#x529F;&#x80FD;&#x7684;&#x8FC7;&#x7A0B;</code>&#x3002;</p>
<p>&#x6240;&#x4EE5;&#x7B80;&#x5355;&#x7684;&#x8BF4;&#x7F16;&#x7A0B;&#x5C31;&#x662F;&#x544A;&#x8BC9;&#x673A;&#x5668;&#x53BB;&#x5E72;&#x4EC0;&#x4E48;&#x7684;&#x8FC7;&#x7A0B;</p>
<p>&#x5E0C;&#x671B;&#x4F60;&#x901A;&#x8FC7;&#x4E0A;&#x9762;&#x7684;&#x6587;&#x5B57;&#xFF0C;&#x80FD;&#x5BF9;&#x8F6F;&#x4EF6;&#xFF0C;&#x786C;&#x4EF6;&#xFF0C;&#x7F16;&#x7A0B;&#x7684;&#x6982;&#x5FF5;&#x6709;&#x4E00;&#x4E2A;&#x5927;&#x6982;&#x7684;&#x5370;&#x8C61;&#xFF0C;&#x5E76;&#x4E14;&#x80FD;&#x5BF9;&#x7535;&#x8111;&#x7684;&#x8BA4;&#x8BC6;&#x6709;&#x6240;&#x6269;&#x5C55;&#x4E00;&#x4E9B;&#x5C31;&#x7B97;&#x8FBE;&#x5230;&#x76EE;&#x7684;&#x4E86;</p>
<p>&#x7ED9;&#x4F60;&#x7559;&#x4E00;&#x4E2A;&#x53EF;&#x9009;&#x7684;&#x5C0F;&#x4EFB;&#x52A1;&#xFF1A;&#x4E0A;&#x8FB9;&#x7684;&#x56FE;&#x7247;&#x4E2D;&#x6709;&#x4E2A;&#x53EB;<code>&#x795E;&#x5A01;</code>&#x7684;&#x5BB6;&#x4F19;&#xFF0C;&#x770B;&#x8D77;&#x6765;&#x5F88;&#x9738;&#x6C14;&#xFF0C;&#x4F60;&#x80FD;&#x4E0D;&#x80FD;&#x81EA;&#x5DF1;&#x52A8;&#x624B;&#x67E5;&#x4E00;&#x67E5;&#x5B83;&#x7A76;&#x7ADF;&#x6709;&#x4F55;&#x7279;&#x6B8A;&#x4E4B;&#x5904;&#x5462;&#xFF1F;</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/08/29/我的机器学习之概述/"><span>我的机器学习之概述</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/08/29/我的机器学习之概述/" rel="bookmark">
        <time class="entry-date published" datetime="2017-08-29T04:52:15.000Z">
          2017-08-29
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="&#x6982;&#x8FF0;"><a href="#&#x6982;&#x8FF0;" class="headerlink" title="&#x6982;&#x8FF0;"></a>&#x6982;&#x8FF0;</h2><ul>
<li>&#x662F;&#x4EC0;&#x4E48;&#xFF1F;<br>&#x901A;&#x4FD7;&#x6765;&#x8BB2;&#x5C31;&#x662F;&#x5229;&#x7528;&#x5DF2;&#x6709;&#x6570;&#x636E;&#xFF0C;&#x5F97;&#x5230;&#x67D0;&#x79CD;&#x6A21;&#x578B;&#xFF0C;&#x5E76;&#x5229;&#x7528;&#x5176;&#x9884;&#x6D4B;&#x672A;&#x6765;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#x65B9;&#x6CD5;,&#x8DDF;&#x6A21;&#x5F0F;&#x8BC6;&#x522B;&#xFF0C;&#x7EDF;&#x8BA1;&#x5B66;&#x4E60;&#xFF0C;&#x6570;&#x636E;&#x6316;&#x6398;&#xFF0C;&#x8BA1;&#x7B97;&#x673A;&#x89C6;&#x89C9;&#xFF0C;&#x8BED;&#x97F3;&#x8BC6;&#x522B;&#xFF0C;&#x548C;NPL&#x7B49;&#x9886;&#x7565;&#x606F;&#x606F;&#x76F8;&#x5173;&#xFF0C;&#x662F;&#x4E00;&#x95E8;&#x4EA4;&#x53C9;&#x5B66;&#x79D1;&#x3002;&#x4E00;&#x822C;&#x53EF;&#x8BA4;&#x4E3A;&#x6570;&#x636E;&#x6316;&#x6398;&#x7B49;&#x540C;&#x4E8E;&#x673A;&#x5668;&#x5B66;&#x4E60;&#xFF0C;&#x53EA;&#x662F;&#x5176;&#x6570;&#x636E;&#x6765;&#x6E90;&#x4E0D;&#x4EC5;&#x4EC5;&#x6765;&#x6E90;&#x4E8E;&#x7ED3;&#x6784;&#x5316;&#x6570;&#x636E;&#xFF0C;&#x8FD8;&#x5305;&#x62EC;&#x56FE;&#x50CF;&#xFF0C;&#x97F3;&#x9891;&#x7B49;&#x3002;&#x4E0B;&#x9762;&#x7684;&#x8BF4;&#x6CD5;&#x4E5F;&#x5E38;&#x5E38;&#x88AB;&#x9ED8;&#x8BB8;&#xFF1A;<br>&#x6A21;&#x5F0F;&#x8BC6;&#x522B;&#x6700;&#x521D;&#x6765;&#x6E90;&#x4E8E;&#x6765;&#x6E90;&#x4E8E;&#x5DE5;&#x4E1A;&#x754C;&#xFF0C;&#x540E;&#x6765;&#x6269;&#x5C55;&#x5230;&#x8BED;&#x8A00;&#xFF0C;&#x56FE;&#x50CF;&#x7B49;&#x7B49;<br>&#x6570;&#x636E;&#x6316;&#x6398; = &#x673A;&#x5668;&#x5B66;&#x4E60; + &#x6570;&#x636E;&#x5E93;<br>&#x81EA;&#x7136;&#x8BED;&#x8A00;&#x5904;&#x7406; = &#x6587;&#x672C;&#x5904;&#x7406;+&#x673A;&#x5668;&#x5B66;&#x4E60;<br>&#x8BA1;&#x7B97;&#x673A;&#x89C6;&#x89C9;=&#x56FE;&#x50CF;&#x5904;&#x7406;+&#x673A;&#x5668;&#x5B66;&#x4E60;<br>&#x8BED;&#x97F3;&#x8BC6;&#x522B;=&#x8BED;&#x97F3;&#x5904;&#x7406;+&#x673A;&#x5668;&#x5B66;&#x4E60;</li>
</ul>
<p>&#x6838;&#x5FC3;&#x7684;&#x5B66;&#x4E60;&#x95EE;&#x9898;&#x7684;&#x5B9A;&#x4E49;&#xFF1A;&#x9488;&#x5BF9;&#x67D0;&#x7C7B;&#x4EFB;&#x52A1;T&#x7684;,&#x53EF;&#x4EE5;&#x7528;P&#x6765;&#x8861;&#x91CF;&#x6027;&#x80FD;&#xFF0C;&#x5982;&#x679C;P&#x53EF;&#x6839;&#x636E;&#x7ECF;&#x9A8C;E&#x6765;&#x81EA;&#x6211;&#x5B8C;&#x5584;,&#x5219;&#x79F0;&#x4E4B;&#x4E3A;&#x8BE5;&#x8BA1;&#x7B97;&#x673A;&#x7A0B;&#x5E8F;&#x4ECE;&#x7ECF;&#x9A8C;E&#x4E2D;&#x5B66;&#x4E60;&#x3002; &#x800C;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x8FD9;&#x4E48;&#x5B66;&#x79D1;&#x5C31;&#x662F;&#x8BA9;&#x673A;&#x5668;&#x8FDB;&#x884C;&#x5B66;&#x4E60;&#x7684;&#x5B66;&#x79D1;,&#x5176;&#x6700;&#x539F;&#x59CB;&#x7684;&#x5B9A;&#x4E49;&#x7531;Tom Mitchell&#x7B49;&#x63D0;&#x51FA;&#xFF1A;<br>&#x4ECE;&#x6837;&#x672C;&#x96C6;<code>S(z, {xkk, y, ykk})</code>&#x5B66;&#x4E60;/&#x4F30;&#x8BA1;&#x4E00;&#x4E2A;&#x5047;&#x8BBE;<code>f(x)</code>&#xFF0C;&#x4F7F;&#x5F97;<code>f(x)</code>&#x662F;&#x95EE;&#x9898;&#x4E16;&#x754C;&#x6A21;&#x578B;<code>F(x)</code>&#x7684;&#x4E00;&#x4E2A;&#x8FD1;&#x4F3C;</p>
<ul>
<li>&#x5E38;&#x89C1;&#x672F;&#x8BED;&#x7F57;&#x5217;&#xFF0C;&#x57FA;&#x672C;&#x5F88;&#x5BB9;&#x6613;&#x7406;&#x89E3;<br><code>f = aX + bY + cZ + ...</code></li>
</ul>
<p>&#x6570;&#x636E;&#x96C6;: &#x6240;&#x6709;&#x53EF;&#x80FD;&#x53D6;&#x5230;&#x7684;&#x53D8;&#x91CF;<br>&#x793A;&#x4F8B;/&#x6837;&#x672C;<br>&#x5C5E;&#x6027;/&#x7279;&#x5F81;: a,b,c&#x7B49;<br>&#x5C5E;&#x6027;&#x7A7A;&#x95F4;/&#x6837;&#x672C;&#x7A7A;&#x95F4;/&#x8F93;&#x5165;&#x7A7A;&#x95F4;X&#xFF1A;&#x7531;&#x5168;&#x90E8;&#x5C5E;&#x6027;&#x800C;&#x6210;&#x7684;&#x7A7A;&#x95F4;,&#x5982;&#x4E0A;&#x8FF0;a&#xFF0C;b&#xFF0C;c&#x4E3A;&#x5750;&#x6807;&#x8F74;&#x5F62;&#x6210;&#x7684;&#x7A7A;&#x95F4;,&#x6BCF;&#x4E2A;&#x70B9;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;&#x6837;&#x672C;<br>&#x7279;&#x5F81;&#x5411;&#x91CF;: &#x5C5E;&#x6027;&#x7A7A;&#x95F4;&#x4E2D;&#x7684;&#x5750;&#x6807;&#x5411;&#x91CF;<br>&#x8BAD;&#x7EC3;&#x96C6;<br>&#x8BAD;&#x7EC3;&#x6837;&#x672C;<br>&#x5047;&#x8BBE;<br>&#x6807;&#x8BB0;&#xFF1A;&#x5173;&#x4E8E;&#x793A;&#x4F8B;&#x7ED3;&#x679C;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x5E74;&#x9F84;20&#xFF5E;35&#x79F0;&#x4E4B;&#x4E3A;&#x9002;&#x9F84;&#x9752;&#x5E74;&#xFF0C;&#x9002;&#x9F84;&#x9752;&#x5E74;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x6807;&#x8BB0;<br>&#x6837;&#x4F8B;&#xFF1A;&#x62E5;&#x6709;&#x6807;&#x8BB0;&#x7684;&#x793A;&#x4F8B;&#xFF0C;&#x4F1A;&#x7EC4;&#x6210;&#x6807;&#x8BB0;&#x7A7A;&#x95F4;/&#x8F93;&#x51FA;&#x7A7A;&#x95F4;<br>&#x5206;&#x7C7B;&#xFF1A;&#x5BF9;&#x4E8E;&#x79BB;&#x6563;&#x578B;&#x4EFB;&#x52A1;&#x7684;&#x522B;&#x79F0;<br>&#x56DE;&#x5F52;&#xFF1A;&#x9884;&#x6D4B;&#x7ED3;&#x679C;&#x662F;&#x8FDE;&#x7EED;&#x503C;&#x7684;&#x95EE;&#x9898;&#x7684;&#x7EDF;&#x79F0;<br>&#x7279;&#x5F81;&#x6E05;&#x6D17;&#x76F8;&#x5173;&#xFF1A; &#x91C7;&#x6837;&#xFF0C;&#x5F52;&#x4E00;/&#x79BB;&#x6563;&#x5316;&#xFF0C;&#x964D;&#x7EF4;&#xFF0C;&#x7279;&#x5F81;&#x63D0;&#x53D6;&#x7B49;<br>&#x635F;&#x5931;&#x51FD;&#x6570;&#xFF1A; &#x7528;&#x4EE5;&#x5EA6;&#x91CF;&#x7ED3;&#x679C;&#x548C;&#x9884;&#x671F;&#x7684;&#x4E0D;&#x540C;</p>
<ul>
<li>&#x9002;&#x7528;&#x9886;&#x57DF;</li>
</ul>
<p>&#x6536;&#x96C6;&#x6570;&#x636E; -&gt; </p>
<ul>
<li>&#x673A;&#x5668;&#x5B66;&#x4E60;&#x7B97;&#x6CD5;&#x5206;&#x7C7B;</li>
</ul>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/04/26/js组件化演进探讨-Commom-js-AMD-CMD规范/"><span>js组件化演进探讨-Commom.js/AMD/CMD规范</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/04/26/js组件化演进探讨-Commom-js-AMD-CMD规范/" rel="bookmark">
        <time class="entry-date published" datetime="2017-04-26T09:45:15.000Z">
          2017-04-26
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h3 id="&#x5F15;&#x5B50;"><a href="#&#x5F15;&#x5B50;" class="headerlink" title="&#x5F15;&#x5B50;"></a>&#x5F15;&#x5B50;</h3><p>&#x5728;&#x65E9;&#x5148;&#x5728;&#x7684;&#x7EC4;&#x4EF6;&#x5316;&#x6F14;&#x5316;&#x4E00;&#x6587;&#x4E2D;&#xFF0C;&#x901A;&#x8FC7;&#x5BF9;&#x7EC4;&#x4EF6;&#x5C01;&#x88C5;&#x7684;&#x4E00;&#x6B65;&#x4E00;&#x6B65;&#x63A8;&#x6F14;&#xFF0C;&#x6700;&#x7EC8;&#x5F97;&#x5230;&#x4E86;&#x4E00;&#x4E2A;&#x96C6;API&#x6743;&#x9650;&#x7BA1;&#x7406;&#xFF0C;&#x8282;&#x7701;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#xFF0C;&#x4EE5;&#x53CA;&#x8C03;&#x7528;&#x65B9;&#x4FBF;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x4F46;&#x4ECD;&#x7136;&#x6CA1;&#x6709;&#x89E3;&#x51B3;&#x6240;&#x6709;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x6BD4;&#x5982;&#x6A21;&#x5757;&#x4F9D;&#x8D56;&#x7BA1;&#x7406;&#xFF0C;&#x800C;&#x8FD9;&#x662F;&#x6A21;&#x5757;&#x5316;&#x6F14;&#x8FDB;&#x5230;&#x53EF;&#x7528;&#x7EA7;&#x522B;&#x7684;&#x5FC5;&#x8981;&#x6761;&#x4EF6;</p>
<p>&#x5982;&#x679C;&#x4E0D;&#x662F;&#x628A;&#x5DE5;&#x4F5C;&#x91CD;&#x70B9;&#x8F6C;&#x79FB;&#x5230;&#x516C;&#x53F8;&#x524D;&#x7AEF;&#x7684;&#x5DE5;&#x4F5C;&#x4E0A;&#xFF0C;&#x65E0;&#x8BBA;&#x5982;&#x4F55;&#x90FD;&#x4E0D;&#x4F1A;&#x60F3;&#x5230;&#x524D;&#x7AEF;&#x4E3A;&#x4E86;&#x5904;&#x7406;<code>&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x51B2;&#x7A81;+&#x7EC4;&#x4EF6;&#x52A0;&#x8F7D;&#x53CA;&#x4F9D;&#x8D56;&#x7BA1;&#x63A7;+API&#x63A5;&#x53E3;&#x6743;&#x9650;&#x7BA1;&#x7406;</code>&#xFF0C;&#x8FD9;&#x79CD;&#x7EDD;&#x5927;&#x591A;&#x6570;&#x8BED;&#x8A00;&#x51E0;&#x4E4E;&#x5929;&#x7136;&#x62E5;&#x6709;&#x7684;&#x80FD;&#x529B;&#xFF0C;&#x800C;&#x4E3A;&#x6B64;&#x4ED8;&#x51FA;&#x4E86;&#x591A;&#x5C11;&#xFF0C;&#x5728;Java&#x4E00;&#x4E2A;package&#xFF0C;C++&#x4E2D;&#x4E00;&#x4E2A;import module &#x5728;&#x524D;&#x7AEF;&#x7684;&#x5DE5;&#x4F5C;&#x4E2D;&#x786E;&#x5B9E;&#x5728;&#x662F;&#x5927;&#x8D39;&#x5468;&#x6298;&#xFF0C;&#x672C;&#x8D28;&#x539F;&#x56E0;&#x5C31;&#x662F;js&#x539F;&#x672C;&#x662F;&#x88AB;&#x8BBE;&#x8BA1;&#x6210;&#x4E00;&#x95E8;&#x811A;&#x672C;&#x8BED;&#x8A00;&#xFF0C;&#x8BBE;&#x8BA1;&#x8005;&#x4E5F;&#x6CA1;&#x6709;&#x6599;&#x5230;web&#x4F1A;&#x53D1;&#x5C55;&#x6210;&#x4ECA;&#x5929;&#x8FD9;&#x6837;&#x590D;&#x6742;&#x548C;&#x591A;&#x6837;&#xFF0C;&#x800C;&#x53EA;&#x662F;&#x4EE5;&#x51FD;&#x6570;&#x4F5C;&#x4E3A;&#x4F5C;&#x7528;&#x57DF;&#x6807;&#x51C6;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x52A0;&#x5904;&#x7406;&#x9879;&#x76EE;&#x7A0D;&#x5927;&#xFF0C;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x7684;&#x7BA1;&#x7406;&#x548C;&#x7EC4;&#x4EF6;&#x7684;&#x4F9D;&#x8D56;&#x5C31;&#x662F;&#x707E;&#x96BE;&#x7EA7;&#x522B;&#x7684;&#xFF0C;&#x6240;&#x4EE5;modeul&#x5316;&#x662F;&#x5FC5;&#x7136;&#x5E76;&#x8FD8;&#x5C06;&#x7EE7;&#x7EED;&#x53D1;&#x5C55;&#xFF0C;&#x6B63;&#x5982;&#xFF1A;</p>
<blockquote>
<p>&#x89C4;&#x8303;&#x5F62;&#x6210;&#x7684;&#x8FC7;&#x7A0B;&#x662F;&#x75DB;&#x82E6;&#x7684;&#xFF0C;&#x524D;&#x7AEF;&#x7684;&#x5148;&#x9A71;&#x5728;&#x5200;&#x8015;&#x706B;&#x79CD;&#x3001;&#x8339;&#x6BDB;&#x996E;&#x8840;&#x7684;&#x9636;&#x6BB5;&#x5F00;&#x59CB;&#xFF0C;&#x53D1;&#x5C55;&#x5230;&#x73B0;&#x5728;&#x521D;&#x5177;&#x89C4;&#x6A21;</p>
</blockquote>
<h3 id="&#x6A21;&#x5757;&#x5316;"><a href="#&#x6A21;&#x5757;&#x5316;&#xFF1F;" class="headerlink" title="&#x6A21;&#x5757;&#x5316;&#xFF1F;"></a>&#x6A21;&#x5757;&#x5316;&#xFF1F;</h3><p>&#x9053;&#x7406;&#x90FD;&#x8BF4;&#x4E86;&#xFF0C;&#x90A3;&#x5C31;&#x4ECE;&#x4EE3;&#x7801;&#x6765;&#x76F4;&#x89C2;&#x7684;&#x5C55;&#x793A;&#x4E00;&#x4E0B;&#x6A21;&#x5757;&#x5316;&#x7684;&#x5386;&#x7A0B;&#xFF0C;&#x4EE5;&#x4E0B;&#x6BCF;&#x4E00;&#x4E2A;<code>&#x1F51C;</code>&#x8868;&#x793A;&#x4E00;&#x79CD;&#x6F14;&#x8FDB;&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo1</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo2</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x1F51C; &#x51FD;&#x6570; =&gt; &#x7C7B;</span></span><br><span class="line"><span class="keyword">var</span> Module = {</span><br><span class="line">    var1: <span class="number">1</span>,</span><br><span class="line">    var2: <span class="number">2</span>,</span><br><span class="line">    foo1: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{  <span class="comment">/* do something */</span> },</span><br><span class="line">    foo2: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{  <span class="comment">/* do something */</span> }</span><br><span class="line">}</span><br><span class="line">Module.foo2(); </span><br><span class="line">Module.var2 = <span class="number">100</span>; <span class="comment">// &#x65E0;&#x6743;&#x9650;&#x63A7;&#x5236;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x1F51C; &#x7C7B; =&gt; &#x501F;&#x52A9;&#x7ACB;&#x5373;&#x6267;&#x884C;&#x51FD;&#x6570;</span></span><br><span class="line"><span class="keyword">var</span> myModule = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="keyword">var</span> var1 = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> var2 = <span class="number">2</span>;</span><br><span class="line">    foo1: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{ <span class="comment">/* do something */</span> },</span><br><span class="line">    foo2: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{ <span class="comment">/* do something */</span> }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> {</span><br><span class="line">        fn1: foo1,</span><br><span class="line">        fn2: foo2</span><br><span class="line">    };</span><br><span class="line">})();</span><br><span class="line">myModule.foo1()</span><br></pre></td></tr></table></figure></p>
<p>&#x5F88;&#x5BB9;&#x6613;&#x770B;&#x51FA;&#x5229;&#x7528;&#x7ACB;&#x5373;&#x6267;&#x884C;&#x51FD;&#x6570;&#x7684;&#x597D;&#x5904;&#xFF0C;&#x5728;&#x4EE5;&#x4E0A;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x968F;&#x7740;&#x670D;&#x52A1;&#x5668;&#x7AEF;NodeJS&#x7684;&#x5174;&#x8D77;&#xFF0C;&#x7EC8;&#x4E8E;&#x63A8;&#x51FA;&#x4E86;&#x7B2C;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#x5316;&#x7684;js&#x89C4;&#x8303; &#x2013; <code>CommonJS</code></p>
<h3 id="&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x7684;commonjs"><a href="#&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x7684;CommonJS" class="headerlink" title="&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x7684;CommonJS"></a>&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x7684;CommonJS</h3><p>&#x5177;&#x4F53;&#x6765;&#x8BF4;&#x5C31;&#x662F;3&#x4E2A;&#x57FA;&#x672C;&#x89C4;&#x8303;&#xFF1A;<br>1 &#x4F5C;&#x7528;&#x57DF;&#xFF1A;&#x5355;&#x72EC;&#x6587;&#x4EF6;&#xFF0C;&#x5355;&#x72EC;&#x4F5C;&#x7528;&#x57DF;&#xFF0C;&#x9664;&#x975E;&#x662F;Global&#x7684;<br>2 &#x8F93;&#x51FA;&#xFF1A;&#x6307;&#x5B9A;<code>module.exports</code>&#x4E3A;&#x552F;&#x4E00;&#x51FA;&#x53E3;<br>3 &#x4F9D;&#x8D56;&#xFF1A;&#x901A;&#x8FC7;<code>require</code>&#x52A0;&#x8F7D;&#x6A21;&#x5757;<br>&#x4E8E;&#x662F;&#x4E0A;&#x8FF0;demo&#x5957;&#x7528;&#x8FD9;&#x4E2A;&#x89C4;&#x8303;&#x4EE5;&#x540E;&#x5C31;&#x662F;&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// --- Tony.js&#x4E2D; ---</span></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">&apos;Tony Stark&apos;</span></span><br><span class="line">fucntion sayName() {</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&apos;Iron man is&apos;</span> + name)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = {</span><br><span class="line">    run: sayName</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// --- Other file ---</span></span><br><span class="line"><span class="keyword">var</span> tonyModule = <span class="built_in">require</span>(<span class="string">&apos;./Tony.js&apos;</span>) <span class="comment">// &#x540C;&#x6B65;&#xFF0C;&#x5E76;&#x4E14;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#x65F6;js&#x9700;&#x7701;&#x7565;</span></span><br><span class="line">tonyModule.sayName()</span><br></pre></td></tr></table></figure></p>
<p>&#x5982;&#x679C;&#x5B8C;&#x5168;&#x5C06;<code>CommonJS</code>&#x79FB;&#x690D;&#x5230;&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x90A3;&#x4E48;<code>require</code>&#x540C;&#x6B65;&#x52A0;&#x8F7D;&#x52BF;&#x5FC5;&#x4F1A;&#x5F71;&#x54CD;&#x4F53;&#x9A8C;&#xFF0C;&#x4F46;&#x4E0D;&#x540C;&#x6B65;&#x5462;&#x4F9D;&#x8D56;&#x4EF6;&#x7684;&#x7BA1;&#x7406;&#x5C31;&#x4E0D;&#x90A3;&#x4E48;&#x5BB9;&#x6613;&#x4E86;&#xFF0C;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x504F;&#x5411;&#x7684;&#x4E0D;&#x540C;&#x5BFC;&#x81F4;&#x4E86;2&#x4E2D;&#x6D4F;&#x89C8;&#x5668;&#x7AEF;&#x7684;&#x6A21;&#x5757;&#x5316;&#x6807;&#x51C6;&#xFF1A;<code>AMD</code>&#x548C;<code>CMD</code></p>
<h3 id="amd-&#x548C;-cmd"><a href="#AMD-&#x548C;-CMD" class="headerlink" title="AMD &#x548C; CMD"></a>AMD &#x548C; CMD</h3><p>&#x4F46;&#x662F;&#x4E07;&#x53D8;&#x4E0D;&#x79BB;&#x5176;&#x5B97;&#xFF0C;&#x4E0D;&#x7BA1;&#x662F;&#x8C01;&#x90FD;&#x9700;&#x8981;&#x89E3;&#x51B3;<code>&#x6A21;&#x5757;&#x5B9A;&#x4E49;&#xFF0C;&#x8F93;&#x51FA;&#x548C;&#x8F93;&#x5165;&#xFF08;&#x52A0;&#x8F7D;)</code>&#x8FD9;3&#x4E2A;&#x95EE;&#x9898;</p>
<ul>
<li><code>AMD&#xFF08;Asynchronous Module Definition)</code>: &#x901A;&#x8FC7;<code>RequireJS</code>&#x5E93;&#xFF0C;&#x5B9E;&#x73B0;&#x4E86;&#x6D4F;&#x89C8;&#x5668;&#x7AEF;&#x5F02;&#x6B65;&#x6A21;&#x5757;&#x5B9A;&#x4E49;&#xFF0C;&#x5177;&#x4F53;&#x6765;&#x8BF4;&#xFF1A;</li>
</ul>
<p>1 &#x6A21;&#x5757;&#x5B9A;&#x4E49;&#x548C;&#x8F93;&#x51FA;&#xFF1A;&#x4F7F;&#x7528;&#x5168;&#x5C40;&#x51FD;&#x6570;<code>define(id?, dependencies?, factory&#xFF0F;exportValue)</code>&#x5B9A;&#x4E49;&#x6A21;&#x5757;&#xFF0C;&#x5176;&#x4E2D;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x53C2;&#x6570;<code>factory&#xFF0F;exportValue</code>&#x4E3A;&#x8F93;&#x51FA;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x503C;&#xFF0C;&#x66F4;&#x591A;&#x7684;&#x662F;&#x521D;&#x59CB;&#x5316;&#x5DE5;&#x5382;&#x65B9;&#x6CD5;<br>2 &#x5F02;&#x6B65;&#x8F93;&#x5165;&#xFF0F;&#x52A0;&#x8F7D;&#xFF1A; <code>require([dependency, ...], function() {})</code>&#x51FD;&#x6570;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#x4F9D;&#x8D56;&#x9879;&#xFF0C;&#x76F4;&#x5230;&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#x624D;&#x6267;&#x884C;&#x5BF9;&#x5E94;&#x64CD;&#x4F5C;</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">data-main</span>=<span class="string">&quot;js/app.js&quot;</span> <span class="attr">src</span>=<span class="string">&quot;lib/require.js&quot;</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>&#x9875;&#x9762;&#x4E0A;&#x53EA;&#x51FA;&#x73B0;&#x4E00;&#x4E2A;<code>&lt;script data-main=&quot;js/app.js&quot; src=&quot;js/require.js&quot;&gt;&lt;/script&gt;</code>&#x5373;&#x53EF;&#xFF0C;&#x8FD9;&#x91CC;&#x7684;<code>data-main</code>&#x662F;require&#x7684;&#x5165;&#x53E3;&#x8DEF;&#x5F84;&#x6709;&#x7684;&#x7C7B;&#x4F3C;&#x4E8E;<code>main()</code>&#x51FD;&#x6570;&#x4E00;&#x6837;&#xFF0C;requirejs&#x4F7F;&#x7528;&#x5B83;&#x6765;&#x542F;&#x52A8;&#x811A;&#x672C;&#x7684;&#x81EA;&#x52A8;&#x52A0;&#x8F7D;&#x8FC7;&#x7A0B;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x7EC4;&#x7EC7;&#x4E00;&#x4E2A;&#x5178;&#x578B;&#x7684;&#x9875;&#x9762;&#x7ED3;&#x6784;&#xFF1A;<br><img src="\img\js&#x7EC4;&#x4EF6;001.png" alt="Site&#x9875;&#x9762;&#x7EC4;&#x7EC7;&#x7ED3;&#x6784;"></p>
<p>&#x7136;&#x540E;&#x4F7F;&#x7528;&#x65F6;&#x501F;&#x52A9;<code>require([dependency, ...], function() {})</code>&#x51FD;&#x6570;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">requirejs.config({</span><br><span class="line">    baseUrl: <span class="string">&apos;js/lib&apos;</span>,</span><br><span class="line">    paths: {</span><br><span class="line">        app: <span class="string">&apos;../app&apos;</span></span><br><span class="line">    }</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line">requirejs([<span class="string">&apos;jquery&apos;</span>, <span class="string">&apos;canvas&apos;</span>, <span class="string">&apos;app/sub&apos;</span>], <span class="function"><span class="keyword">function</span> (<span class="params">$, canvas, sub</span>) </span>{</span><br><span class="line">    <span class="comment">//using jQuery, canvas and the app/sub here</span></span><br><span class="line">});</span><br></pre></td></tr></table></figure></p>
<p>&#x8FD9;&#x5C31;&#x662F;<code>AMD</code>&#x89C4;&#x5219;</p>
<ul>
<li><code>CMD(Common Module Definition)</code>: &#x4EE5;<code>SeaJS</code>&#x4E3A;&#x57FA;&#x7840;&#xFF0C;&#x56FD;&#x5185;&#x53D1;&#x5C55;&#x51FA;&#x6765;&#x7684;&#x901A;&#x7528;&#x6A21;&#x5757;&#x52A0;&#x8F7D;&#x89C4;&#x5219;,&#x5176;&#x5B9A;&#x4E49;&#x548C;&#x8F93;&#x5165;&#x8F93;&#x51FA;&#x5982;&#x4E0B;<code>define(id?, [dependency...], function(require, exports, module) { });</code>&#xFF0C;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4F8B;&#x5B50;&#xFF1A;<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Tony.js</span></span><br><span class="line">define(<span class="function"><span class="keyword">function</span>(<span class="params">require, exports, modules</span>)) </span>{</span><br><span class="line">    <span class="keyword">var</span> $ = <span class="built_in">require</span>(<span class="string">&apos;jQurey.2.1.js&apos;</span>) <span class="comment">// &#x5047;&#x8BBE;tony&#x9700;&#x8981;&#x4F7F;&#x7528;jQurey</span></span><br><span class="line">    <span class="keyword">var</span> name = <span class="string">&apos;Tony Stark&apos;</span></span><br><span class="line">    fucntion sayName() {</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&apos;Iron man is&apos;</span> + name)</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="built_in">module</span>.exports = sayName <span class="comment">// &#x8F93;&#x51FA;</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// ----- Other file ------</span></span><br><span class="line"><span class="keyword">var</span> sayName = <span class="built_in">require</span>(<span class="string">&apos;lib/Tony.js&apos;</span>)</span><br><span class="line"><span class="keyword">var</span> ironMan = <span class="keyword">new</span> Tony()</span><br><span class="line">ironMan.sayName()</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>&#x53EF;&#x770B;&#x51FA;&#x66F4;commondJS&#x66F4;&#x76F8;&#x4F3C;&#xFF0C;&#x63A8;&#x5D07;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#xFF0C;&#x63A8;&#x5D07;&#x5C31;&#x8FD1;&#x52A0;&#x8F7D;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x7528;&#x5230;&#x5C31;&#x53BB;&#x52A0;&#x8F7D;</p>
<p>&#x5173;&#x4E8E;&#x8FD9;&#x4E24;&#x4E2A;&#x7684;&#x533A;&#x522B;&#x7F51;&#x4E0A;&#x53EF;&#x4EE5;&#x641C;&#x51FA;&#x4E00;&#x5806;&#x6587;&#x7AE0;&#xFF0C;&#x7B80;&#x5355;&#x603B;&#x7ED3;&#x4E00;&#x4E0B;</p>
<ul>
<li>&#x6700;&#x660E;&#x663E;&#x5C31;&#x662F;&#xFF1A;&#x5728;&#x6A21;&#x5757;&#x5B9A;&#x4E49;&#x65F6;&#xFF0C;&#x5BF9;&#x4F9D;&#x8D56;&#x6A21;&#x5757;&#x7684;&#x6267;&#x884C;&#x65F6;&#x673A;&#x5904;&#x7406;&#x4E0D;&#x540C;&#xFF08;&#x6CE8;&#x610F;&#x4E0D;&#x662F;&#x52A0;&#x8F7D;&#x7684;&#x65F6;&#x673A;&#x6216;&#x8005;&#x65B9;&#x5F0F;&#x4E0D;&#x540C;&#xFF09;<blockquote>
<p>AMD&#x63A8;&#x5D07;&#x4F9D;&#x8D56;&#x524D;&#x7F6E;&#xFF0C;&#x5728;&#x5B9A;&#x4E49;&#x6A21;&#x5757;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x8981;&#x58F0;&#x660E;&#x5176;&#x4F9D;&#x8D56;&#x7684;&#x6A21;&#x5757;<br>CMD&#x63A8;&#x5D07;&#x5C31;&#x8FD1;&#x4F9D;&#x8D56;&#xFF0C;&#x53EA;&#x6709;&#x5728;&#x7528;&#x5230;&#x67D0;&#x4E2A;&#x6A21;&#x5757;&#x7684;&#x65F6;&#x5019;&#x518D;&#x53BB;require<br>&#x8FD9;&#x79CD;&#x533A;&#x522B;&#x5404;&#x6709;&#x4F18;&#x52A3;&#xFF0C;&#x53EA;&#x662F;&#x8BED;&#x6CD5;&#x4E0A;&#x7684;&#x5DEE;&#x8DDD;&#xFF0C;&#x800C;&#x4E14;&#x5C31;&#x73B0;&#x5728;&#x9636;&#x6BB5;&#x6765;&#x8BF4;&#xFF0C;requireJS&#x548C;SeaJS&#x90FD;&#x652F;&#x6301;&#x5BF9;&#x65B9;&#x7684;&#x5199;&#x6CD5;&#xFF0C;&#x6240;&#x4EE5;&#x5199;&#x6CD5;&#x7684;&#x5DEE;&#x8DDD;&#x90FD;&#x4E0D;&#x5728;&#x5177;&#x6709;&#x533A;&#x5206;&#x5EA6;</p>
</blockquote>
</li>
</ul>
<p>&#x5F88;&#x591A;&#x4EBA;&#x8BF4;requireJS&#x662F;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#x6A21;&#x5757;&#xFF0C;SeaJS&#x662F;&#x540C;&#x6B65;&#x52A0;&#x8F7D;&#x6A21;&#x5757;&#xFF0C;&#x8FD9;&#x4E48;&#x7406;&#x89E3;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x4E0D;&#x51C6;&#x786E;&#x7684;&#xFF0C;&#x5176;&#x5B9E;&#x52A0;&#x8F7D;&#x6A21;&#x5757;&#x90FD;&#x662F;&#x5F02;&#x6B65;&#x7684;&#xFF0C;&#x53EA;&#x4E0D;&#x8FC7;AMD&#x4F9D;&#x8D56;&#x524D;&#x7F6E;&#xFF0C;js&#x53EF;&#x4EE5;&#x65B9;&#x4FBF;&#x77E5;&#x9053;&#x4F9D;&#x8D56;&#x6A21;&#x5757;&#x662F;&#x8C01;&#xFF0C;&#x7ACB;&#x5373;&#x52A0;&#x8F7D;&#xFF0C;&#x800C;CMD&#x5C31;&#x8FD1;&#x4F9D;&#x8D56;&#xFF0C;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x628A;&#x6A21;&#x5757;&#x53D8;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;&#x89E3;&#x6790;&#x4E00;&#x904D;&#x624D;&#x77E5;&#x9053;&#x4F9D;&#x8D56;&#x4E86;&#x90A3;&#x4E9B;&#x6A21;&#x5757;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;&#x5F88;&#x591A;&#x4EBA;&#x8BDF;&#x75C5;CMD&#x7684;&#x4E00;&#x70B9;&#xFF0C;&#x727A;&#x7272;&#x6027;&#x80FD;&#x6765;&#x5E26;&#x6765;&#x5F00;&#x53D1;&#x7684;&#x4FBF;&#x5229;&#x6027;&#xFF0C;&#x4F46;&#x5B9E;&#x9645;&#x4E0A;&#x89E3;&#x6790;&#x6A21;&#x5757;&#x7528;&#x7684;&#x65F6;&#x95F4;&#x77ED;&#x5230;&#x53EF;&#x4EE5;&#x5FFD;&#x7565;</p>
<p>&#x540C;&#x6837;&#x90FD;&#x662F;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#x6A21;&#x5757;&#xFF0C;AMD&#x5728;&#x52A0;&#x8F7D;&#x6A21;&#x5757;&#x5B8C;&#x6210;&#x540E;&#x5C31;&#x4F1A;&#x6267;&#x884C;&#x8BE5;&#x6A21;&#x5757;&#xFF0C;&#x6240;&#x6709;&#x6A21;&#x5757;&#x90FD;&#x52A0;&#x8F7D;&#x6267;&#x884C;&#x5B8C;&#x540E;&#x4F1A;&#x8FDB;&#x5165;require&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;&#x6267;&#x884C;&#x4E3B;&#x903B;&#x8F91;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x6548;&#x679C;&#x5C31;&#x662F;&#x4F9D;&#x8D56;&#x6A21;&#x5757;&#x7684;&#x6267;&#x884C;&#x987A;&#x5E8F;&#x548C;&#x4E66;&#x5199;&#x987A;&#x5E8F;&#x4E0D;&#x4E00;&#x5B9A;&#x4E00;&#x81F4;&#xFF0C;&#x770B;&#x7F51;&#x7EDC;&#x901F;&#x5EA6;&#xFF0C;<code>&#x54EA;&#x4E2A;&#x5148;&#x4E0B;&#x8F7D;&#x4E0B;&#x6765;&#xFF0C;&#x54EA;&#x4E2A;&#x5148;&#x6267;&#x884C;&#xFF0C;&#x4F46;&#x662F;&#x4E3B;&#x903B;&#x8F91;&#x4E00;&#x5B9A;&#x5728;&#x6240;&#x6709;&#x4F9D;&#x8D56;&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#x540E;&#x624D;&#x6267;&#x884C;</code><br>CMD&#x52A0;&#x8F7D;&#x5B8C;&#x67D0;&#x4E2A;&#x4F9D;&#x8D56;&#x6A21;&#x5757;&#x540E;&#x5E76;&#x4E0D;&#x6267;&#x884C;&#xFF0C;&#x53EA;&#x662F;&#x4E0B;&#x8F7D;&#x800C;&#x5DF2;&#xFF0C;&#x5728;&#x6240;&#x6709;&#x4F9D;&#x8D56;&#x6A21;&#x5757;&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#x540E;&#x8FDB;&#x5165;&#x4E3B;&#x903B;&#x8F91;&#xFF0C;&#x9047;&#x5230;require&#x8BED;&#x53E5;&#x7684;&#x65F6;&#x5019;&#x624D;&#x6267;&#x884C;&#x5BF9;&#x5E94;&#x7684;&#x6A21;&#x5757;&#xFF0C;&#x8FD9;&#x6837;<code>&#x6A21;&#x5757;&#x7684;&#x6267;&#x884C;&#x987A;&#x5E8F;&#x548C;&#x4E66;&#x5199;&#x987A;&#x5E8F;&#x662F;&#x5B8C;&#x5168;&#x4E00;&#x81F4;&#x7684;</code></p>
<h3 id="&#x7EC4;&#x5408;&#x517C;&#x5BB9;&#x5F0F;"><a href="#&#x7EC4;&#x5408;&#x517C;&#x5BB9;&#x5F0F;" class="headerlink" title="&#x7EC4;&#x5408;&#x517C;&#x5BB9;&#x5F0F;"></a>&#x7EC4;&#x5408;&#x517C;&#x5BB9;&#x5F0F;</h3><p>CMD &#x548C; AMD &#x6700;&#x521D;&#x4ECE;&#x5728;&#x5199;&#x6CD5;&#x4E0A;&#x5C31;&#x80FD;&#x533A;&#x5206;&#xFF0C;&#x4F46;&#x662F;&#x73B0;&#x5728;&#x9010;&#x6E10;&#x90FD;&#x517C;&#x5BB9;&#x5BF9;&#x65B9;&#x7684;&#x5199;&#x6CD5;&#xFF0C;&#x867D;&#x7136;&#x5BF9;&#x4E8E;&#x5B66;&#x4E60;&#x6765;&#x8BF4;&#x4E0D;&#x514D;&#x4F1A;&#x5E26;&#x6765;&#x4E00;&#x4E9B;&#x56F0;&#x60D1;&#xFF0C;&#x4F46;&#x5BF9;&#x4E8E;&#x5B9E;&#x9645;&#x9879;&#x76EE;&#x7684;&#x4FBF;&#x5229;&#x6027;&#x786E;&#x662F;&#x5B9E;&#x5B9E;&#x5728;&#x5728;&#x7684;&#xFF0C;&#x5176;&#x5B9E;&#x517C;&#x5BB9;&#x8D77;&#x6765;&#x5F88;&#x5BB9;&#x6613;&#xFF0C;&#x5BF9;&#x4E8E;AMD/CMD&#x68C0;&#x6D4B;<code>define</code>&#xFF0C;&#x5BF9;&#x4E8E;CommonJS&#x68C0;&#x67E5;<code>module.export</code>&#xFF0C;&#x5B9E;&#x73B0;&#x8D77;&#x6765;&#x5927;&#x81F4;&#x5982;&#x4E0B;&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">name, definition, context</span>) </span>{</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">module</span> != <span class="string">&apos;undefined&apos;</span> &amp;&amp; <span class="built_in">module</span>.exports) {</span><br><span class="line">        <span class="comment">// &#x5728; CMD &#x89C4;&#x8303;&#x4E0B; (node)</span></span><br><span class="line">        <span class="built_in">module</span>.exports = definition();</span><br><span class="line">    } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> context[<span class="string">&apos;define&apos;</span>] == <span class="string">&apos;function&apos;</span> &amp;&amp; (context[<span class="string">&apos;define&apos;</span>][<span class="string">&apos;amd&apos;</span>] || context[<span class="string">&apos;define&apos;</span>][<span class="string">&apos;cmd&apos;</span>])  ) {</span><br><span class="line">        <span class="comment">//&#x5728; AMD &#x89C4;&#x8303;&#x4E0B;(RequireJS) &#x6216;&#x8005; CMD &#x89C4;&#x8303;&#x4E0B;(SeaJS)</span></span><br><span class="line">        define(definition);</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        <span class="comment">//&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x73AF;&#x5883;&#x4E0B;</span></span><br><span class="line">        context[name] = definition();</span><br><span class="line">    }</span><br><span class="line">})(<span class="string">&apos;sample&apos;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> sample = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line"><span class="meta">        &quot;use strict&quot;</span>;</span><br><span class="line">        <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">inc</span>(<span class="params"></span>)</span>{</span><br><span class="line">            a++;</span><br><span class="line">        }</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">get</span>(<span class="params"></span>)</span>{</span><br><span class="line">            <span class="keyword">return</span> a;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> {</span><br><span class="line">            inc: inc,</span><br><span class="line">            get: get</span><br><span class="line">        }</span><br><span class="line">    })();</span><br><span class="line">    <span class="keyword">return</span> sample;</span><br><span class="line">}, <span class="keyword">this</span>);</span><br></pre></td></tr></table></figure></p>
<p>&#x8FD9;&#x6837;&#x5C31;&#x5B9E;&#x73B0;&#x4E86;&#x5199;&#x6CD5;&#x517C;&#x5BB9;&#xFF0C;&#x60F3;&#x600E;&#x4E48;&#x5199;&#x90FD;&#x884C;&#x4E86;</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/04/16/js拾遗之面向对象/"><span>js拾遗之面向对象</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/04/16/js拾遗之面向对象/" rel="bookmark">
        <time class="entry-date published" datetime="2017-04-16T07:46:43.000Z">
          2017-04-16
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>js&#x4F5C;&#x4E3A;&#x4E00;&#x95E8;&#x677E;&#x6563;&#x7684;&#x8BED;&#x8A00;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x4E25;&#x683C;<code>class_base</code>&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x8BED;&#x8A00;&#x7684;&#x7ECF;&#x9A8C;&#xFF0C;&#x5982;java&#xFF0C;C#&#x7684;&#xFF0C;&#x7ECF;&#x5E38;&#x4F1A;&#x6709;WTF&#x7684;&#x611F;&#x53D7;&#xFF0C;&#x4E0D;&#x662F;&#x8BF4;&#x597D;&#x4E86;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x5417;&#xFF0C;&#x600E;&#x4E48;&#x7C7B;&#x4E0D;&#x662F;&#x7C7B;&#xFF0C;&#x7EE7;&#x627F;&#x4E0D;&#x597D;&#x597D;&#x7EE7;&#x627F;&#xFF0C;&#x591A;&#x6001;&#x5230;&#x6DF7;&#x4E71;&#x7684;&#x611F;&#x89C9;&#xFF0C;&#x4E5F;&#x5199;&#x4E86;&#x4E0D;&#x77ED;&#x65F6;&#x95F4;&#x7684;js&#xFF0C;&#x6700;&#x611F;&#x6168;&#x7684;&#x5C31;&#x662F;&#xFF1A;<code>&#x524D;&#x7AEF;&#x7A0B;&#x5E8F;&#x5458;&#x4EEC;&#xFF0C;&#x7ADF;&#x7136;&#x4F7F;&#x7528;&#x4E00;&#x95E8;&#x5982;&#x6B64;&#x7B80;&#x964B;&#x7684;&#x8BED;&#x8A00;&#x521B;&#x9020;&#x4E86;&#x5982;&#x6B64;&#x5F02;&#x5F69;&#x7EB7;&#x5448;&#x7684;&#x4E92;&#x8054;&#x7F51;&#x4E16;&#x754C;</code>,&#x8FD9;&#x6BD4;js&#x672C;&#x8EAB;&#x66F4;WTF&#xFF0C;&#x4E0D;&#x4FE1;&#x53BB;&#x90A3;&#x4E2A;&#x8457;&#x540D;&#x7684;&#x8BE1;&#x5F02;js&#x7684;&#x7F51;&#x7AD9;&#x6D4B;&#x6D4B;&#xFF0C;&#x770B;&#x80FD;&#x505A;&#x5BF9;&#x51E0;&#x4E2A;&#x9898;&#x1F494;&#x3002;&#x597D;&#x4E86;&#x4E0D;&#x5728;&#x5410;&#x69FD;&#x5F15;&#x6218;&#x4E86;,&#x672C;&#x7BC7;&#x5C31;&#x6765;&#x5F7B;&#x5E95;&#x8BF4;&#x8BF4;js&#x4E2D;&#x7684;&#x9762;&#x5411;&#x5BF9;&#x8C61;</p>
<p>&#x5728;&#x8BF4;&#x660E;&#x4E4B;&#x524D;&#xFF0C;&#x7279;&#x522B;&#x9700;&#x8981;&#x6307;&#x51FA;&#x7684;&#x662F;&#xFF0C;&#x4E0D;&#x8981;&#x56E0;&#x4E3A;&#x5BF9;js&#x8FD9;&#x79CD;<code>prototype_base</code>&#x4E0D;&#x4E86;&#x89E3;&#xFF0C;&#x5C31;&#x6309;&#x7167;java&#x7B49;&#x7684;&#x6807;&#x51C6;&#x53BB;&#x6709;&#x8272;&#x7684;&#x53BB;&#x770B;js&#xFF0C;&#x6B8A;&#x4E0D;&#x77E5;&#x4ECE;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x8FD9;&#x4E2A;&#x5C42;&#x9762;&#x4E0A;&#x6765;&#x8BF4;&#xFF0C;&#x53EA;&#x8981;&#x6EE1;&#x8DB3;&#x5BF9;&#x64CD;&#x4F5C;&#x548C;&#x6D88;&#x606F;&#x7684;&#x5C01;&#x88C5;&#xFF0C;&#x4E0D;&#x7BA1;&#x662F;<code>class_base</code>&#x8FD8;&#x662F;<code>prototype_base</code>&#xFF0C;&#x5373;&#x4FBF;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#x5DEE;&#x5F02;&#x5DE8;&#x5927;&#xFF0C;&#x4F46;&#x65E0;&#x7591;&#x90FD;&#x662F;&#x6700;&#x7EAF;&#x6B63;&#x7684;&#x9762;&#x5411;&#x5BF9;&#x8C61;</p>
<p>&#x5728;js&#x4E2D;&#x5B83;&#x672C;&#x8EAB;&#x5E76;&#x6CA1;&#x6709;&#x660E;&#x786E;&#x7684;&#x7C7B;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x8FD9;&#x662F;&#x6700;&#x8BA9;&#x5F88;&#x591A;&#x4EBA;WTF&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x5C45;&#x7136;&#x6CA1;&#x6709;&#x7C7B;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x4ECE;OOP&#x7684;&#x672C;&#x610F;&#x51FA;&#x53D1;&#xFF0C;&#x53EA;&#x8981;&#x53EF;&#x4EE5;&#x7528;&#x5F15;&#x7528;&#x7C7B;&#x578B;&#x62BD;&#x8C61;&#x51FA;&#x5177;&#x6709;&#x76F8;&#x540C;&#x7279;&#x6027;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x5BF9;&#x64CD;&#x4F5C;&#x548C;&#x6D88;&#x606F;&#x8FDB;&#x884C;&#x9ED1;&#x76D2;&#x5B9E;&#x73B0;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x662F;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#xFF0C;js&#x4E2D;&#x8FD9;&#x4E2A;&#x5C01;&#x88C5;&#x7ED3;&#x6784;&#x5C31;&#x662F;<code>Object&#x5BF9;&#x8C61;</code>&#xFF0C;&#x5728;<code>ECMA-262</code>&#x4E2D;&#x8FD9;&#x6837;&#x7ED9;<code>&#x5BF9;&#x8C61;</code>&#x5B9A;&#x4E49;&#xFF1A;<code>&#x65E0;&#x5E8F;&#x5C5E;&#x6027;&#x7684;&#x96C6;&#x5408;&#x5C31;&#x662F;&#x5BF9;&#x8C61;&#xFF0C;&#x5176;&#x5C5E;&#x6027;&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x57FA;&#x672C;&#x503C;&#xFF0C;&#x5BF9;&#x8C61;&#x548C;&#x51FD;&#x6570;</code>&#xFF0C;&#x6240;&#x4EE5;&#x770B;&#x8D77;&#x6765;&#x5C31;&#x662F;&#x4E00;&#x7EC4;&#x6CA1;&#x6709;&#x7279;&#x5B9A;&#x987A;&#x5E8F;&#x7684;&#x952E;&#x503C;&#x5BF9;&#x96C6;&#x5408;&#x3002;&#x5BF9;&#x8C61;&#x7684;&#x6BCF;&#x4E2A;&#x5C5E;&#x6027;&#x6216;&#x8005;&#x65B9;&#x6CD5;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x540D;&#x5B57;&#xFF0C;&#x800C;&#x6BCF;&#x4E2A;&#x540D;&#x5B57;&#x90FD;&#x4F1A;&#x6709;&#x6620;&#x5C04;&#x7684;&#x503C;&#x3002;&#x6240;&#x4EE5;&#x4ECE;&#x53E6;&#x4E00;&#x89D2;&#x5EA6;&#x6765;&#x8BF4;&#xFF0C;ECMAScript&#x7684;&#x5BF9;&#x8C61;&#x5C31;&#x662F;<code>&#x6563;&#x5217;&#x8868;</code>&#x2013;&#x4E00;&#x7EC4;&#x952E;&#x503C;&#x5BF9;&#xFF0C;&#x503C;&#x53EF;&#x4EE5;&#x662F;&#x57FA;&#x672C;&#x503C;&#x6216;&#x51FD;&#x6570;&#x3002;&#x5F53;&#x7136;&#x60F3;&#x6240;&#x6709;&#x7684;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x8BED;&#x8A00;&#x4E00;&#x6837;&#xFF0C;&#x5BF9;&#x8C61;&#x662F;&#x57FA;&#x4E8E;&#x5F15;&#x7528;&#x7C7B;&#x578B;&#x521B;&#x5EFA;&#x7684;</p>
<h3 id="&#x4ECE;&#x5C5E;&#x6027;&#x8BF4;&#x8D77;"><a href="#&#x4ECE;&#x5C5E;&#x6027;&#x8BF4;&#x8D77;" class="headerlink" title="&#x4ECE;&#x5C5E;&#x6027;&#x8BF4;&#x8D77;"></a>&#x4ECE;&#x5C5E;&#x6027;&#x8BF4;&#x8D77;</h3><p>&#x56DE;&#x987E;&#x4E00;&#x4E0B;&#x5BF9;&#x8C61;&#x7684;&#x521B;&#x5EFA;&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Object&#x5B9E;&#x4F8B;&#x521B;&#x5EFA;</span></span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> <span class="built_in">Object</span>()</span><br><span class="line">person.name = <span class="string">&apos;Tony stark&apos;</span></span><br><span class="line">person.age = <span class="number">42</span></span><br><span class="line">person.job = <span class="string">&apos;Iron man&apos;</span></span><br><span class="line">person.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">	alert(<span class="keyword">this</span>.name)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x66F4;&#x52A0;&#x5E38;&#x89C1;&#x7684; &#x5B57;&#x9762;&#x91CF; &#x5F62;&#x5F0F;</span></span><br><span class="line"><span class="keyword">var</span> person = {</span><br><span class="line">	name: <span class="string">&apos;Tony&apos;</span>,</span><br><span class="line">	age: <span class="number">42</span>,</span><br><span class="line">	job: <span class="string">&apos;Iron man&apos;</span></span><br><span class="line">	sayName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">		alert(<span class="keyword">this</span>.name)</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<p>&#x5F53;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x9664;&#x4E86;&#x6211;&#x4EEC;&#x6240;&#x5B9A;&#x4E49;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x5BF9;&#x8C61;&#x672C;&#x8EAB;&#x8FD8;&#x6709;&#x4E3A;&#x5B9E;&#x73B0;JavaScript&#x5F15;&#x64CE;&#xFF0C;&#x8FD8;&#x6709;<code>&#x4E3A;&#x5C5E;&#x6027;&#x89C4;&#x5B9A;&#x5176;&#x7279;&#x5F81;&#x7684;&#x5185;&#x90E8;&#x5C5E;&#x6027;</code>&#xFF0C;&#x4E5F;&#x79F0;&#x4E4B;&#x4E3A;<code>&#x7279;&#x5F81;&#x5C5E;&#x6027;</code>&#xFF0C;&#x901A;&#x5E38;&#x8FD9;&#x4E9B;&#x5185;&#x90E8;&#x503C;&#x662F;&#x4E0D;&#x80FD;&#x8BBF;&#x95EE;&#x7684;&#xFF0C;&#x4E3A;&#x4E86;&#x533A;&#x5206;&#x5C06;&#x5176;&#x89C4;&#x8303;&#x5230;2&#x5BF9;&#x65B9;&#x62EC;&#x53F7;&#x4E2D;&#xFF0C;&#x800C;&#x7279;&#x5F81;&#x5C5E;&#x6027;&#x53EF;&#x5206;&#x4E3A;2&#x79CD;&#xFF1A;<br>1 &#x8868;&#x5F81;&#x6570;&#x636E;&#x7684;&#x7279;&#x5F81;&#x5C5E;&#x6027;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[[Configurable]] <span class="comment">// &#x8868;&#x793A;&#x80FD;&#x5426;&#x901A;&#x8FC7;delete&#x5220;&#x9664;&#x5C5E;&#x6027;&#xFF0C;&#x80FD;&#x5426;&#x4FEE;&#x6539;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;true</span></span><br><span class="line">[[Enmuerable]]   <span class="comment">// &#x8868;&#x793A;&#x662F;&#x5426;&#x53EF;&#x901A;&#x8FC7; for-in &#x904D;&#x5386;&#x5C5E;&#x6027;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;true</span></span><br><span class="line">[[Writable]]     <span class="comment">// &#x53EF;&#x5199;&#x7684;</span></span><br><span class="line">[[value]]        <span class="comment">// &#x5C31;&#x662F;&#x5177;&#x4F53;&#x7684;&#x5C5E;&#x6027;&#x6570;&#x636E;&#x503C;</span></span><br></pre></td></tr></table></figure></p>
<p>&#x4EE5;&#x4E0A;&#x8FD9;&#x79CD;<code>&#x5C5E;&#x6027;&#x7684;&#x5C5E;&#x6027;</code>&#xFF0C;&#x5927;&#x5BB6;&#x90FD;&#x80FD;&#x55C5;&#x51FA;<code>&#x6743;&#x9650;&#x63A7;&#x5236;</code>&#x7684;&#x5473;&#x9053;&#x6765;&#xFF0C;&#x5B9E;&#x65F6;&#x5C31;&#x662F;&#x5982;&#x6B64;&#xFF0C;&#x5E76;&#x4E14;js&#x63D0;&#x4F9B;&#x4E86;<code>Object.defineProperty()</code>&#x65B9;&#x6CD5;&#x6765;&#x63A7;&#x5236;&#xFF0C;&#x5982;&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = {}</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person, <span class="string">&quot;job&quot;</span>, {</span><br><span class="line">	configurable: <span class="literal">false</span>,</span><br><span class="line">	value: <span class="string">&quot;Iron man&quot;</span></span><br><span class="line">})</span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> person.job</span><br><span class="line">alert(person.job) <span class="comment">// Iron man</span></span><br></pre></td></tr></table></figure></p>
<p>&#x4E8B;&#x5B9E;&#x4EE5;&#x4E0A;&#x5728;&#x4E25;&#x683C;&#x6A21;&#x5F0F;&#x4E4B;&#x4E0B;&#xFF0C;&#x662F;&#x4F1A;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x7684;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;<code>&#x7279;&#x5F81;&#x5C5E;&#x6027;</code>&#x5BF9;&#x5C5E;&#x6027;&#x6570;&#x503C;&#x7684;&#x89C4;&#x8303;&#xFF0C;&#x5E76;&#x4E14;&#x4E00;&#x65E6;&#x89C4;&#x5B9A;<code>configurable: false</code>&#xFF0C;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;<code>Objcet.defineProperty()</code>&#x65B9;&#x6CD5;&#x4FEE;&#x6539;&#x9664;<code>writable</code>&#x4E4B;&#x5916;&#x7684;&#x4EFB;&#x4F55;&#x7279;&#x5F81;&#xFF0C;&#x5728;&#x4F7F;&#x7528;&#x4E2D;&#x5C24;&#x5176;&#x91CD;&#x8981;&#x7684;&#x4E00;&#x70B9;&#x662F;&#xFF0C;<code>Object.defineProperty()&#x65B9;&#x6CD5;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x6307;&#x5B9A;&#xFF0C;&#x4F1A;&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;enumerable&#xFF0C;configurable&#xFF0C;writable&#x4E3A;false&#x7684;</code>,&#x5373;&#x4FBF;&#x6CA1;&#x6709;&#x4EBA;&#x771F;&#x7684;&#x7528;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x6765;&#x521B;&#x5EFA;&#x5C5E;&#x6027;&#xFF0C;&#x8FD9;&#x4E00;&#x70B9;&#x4E5F;&#x8981;&#x8DB3;&#x591F;&#x5BA1;&#x614E;</p>
<p>2 &#x8BBF;&#x95EE;&#x5668;&#x7279;&#x6307;&#x5C5E;&#x6027;<br>&#x8FD9;&#x4E00;&#x79CD;&#x7279;&#x5F81;&#x5C5E;&#x6027;&#x4E0D;&#x5305;&#x542B;&#x6570;&#x503C;&#xFF0C;&#x53EA;&#x5305;&#x542B;&#x4E86;&#x4E00;&#x5BF9;&#x513F;<code>setter &#x548C; getter</code>&#xFF0C;&#x66F4;&#x5177;&#x4F53;&#x4E00;&#x4E9B;&#x5C31;&#x662F;&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[[Configurable]] <span class="comment">// &#x8868;&#x793A;&#x80FD;&#x5426;&#x901A;&#x8FC7;delete&#x5220;&#x9664;&#x5C5E;&#x6027;&#xFF0C;&#x80FD;&#x5426;&#x4FEE;&#x6539;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;true</span></span><br><span class="line">[[Enmuerable]]   <span class="comment">// &#x8868;&#x793A;&#x662F;&#x5426;&#x53EF;&#x901A;&#x8FC7; for-in &#x904D;&#x5386;&#x5C5E;&#x6027;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;true</span></span><br><span class="line">[[Get]]          <span class="comment">// &#x9ED8;&#x8BA4;&#x503C;&#x662F;undefined</span></span><br><span class="line">[[<span class="built_in">Set</span>]]          <span class="comment">// &#x9ED8;&#x8BA4;&#x503C;&#x662F;undefined</span></span><br></pre></td></tr></table></figure></p>
<p>&#x5BF9;&#x4E8E;&#x8BBF;&#x95EE;&#x5668;&#x5C5E;&#x6027;&#xFF0C;&#x4E5F;&#x53EA;&#x80FD;&#x901A;&#x8FC7;<code>Object.defineProperty()/defineProperties()</code>&#x8BBE;&#x7F6E;&#xFF0C;&#x7528;&#x6CD5;&#x5C31;&#x4E0D;&#x591A;&#x8BF4;&#x4E86;&#xFF0C;&#x7EDD;&#x5927;&#x591A;&#x6570;&#x5C31;&#x662F;&#x7528;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E00;&#x4E9B;&#x5BF9;&#x8C61;&#x9ED8;&#x8BA4;&#x7684;&#x503C;<br>&#x800C;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x5DF2;&#x6709;&#x5C5E;&#x6027;&#x7684;&#x7279;&#x5F81;&#x5C5E;&#x6027;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<code>Object.getOwnPropertyDescriptor()</code>&#x5F97;&#x5230;</p>
<h3 id="&#x5BF9;&#x8C61;&#x521B;&#x5EFA;&#x548C;&#x6269;&#x5C55;"><a href="#&#x5BF9;&#x8C61;&#x521B;&#x5EFA;&#x548C;&#x6269;&#x5C55;" class="headerlink" title="&#x5BF9;&#x8C61;&#x521B;&#x5EFA;&#x548C;&#x6269;&#x5C55;"></a>&#x5BF9;&#x8C61;&#x521B;&#x5EFA;&#x548C;&#x6269;&#x5C55;</h3><p>&#x770B;&#x5B8C;&#x4E86;&#x5C5E;&#x6027;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x6CE8;&#x610F;&#x529B;&#x8F6C;&#x56DE;&#x5230;&#x5BF9;&#x8C61;&#x7684;&#x521B;&#x5EFA;&#x4E0A;&#xFF0C;&#x6BD5;&#x7ADF;&#x6211;&#x4EEC;&#x7684;&#x5F00;&#x53D1;&#x5C31;&#x662F;&#x5728;&#x9891;&#x7E41;&#x7684;&#x521B;&#x5EFA;&#x6216;&#x8005;&#x6269;&#x5C55;&#x5BF9;&#x8C61;&#xFF0C;&#x5148;&#x76F4;&#x63A5;&#x770B;&#x4EE3;&#x7801;&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#x521B;&#x5EFA;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createPerson</span>(<span class="params">name, age, job</span>) </span>{</span><br><span class="line">	<span class="keyword">var</span> obj = {</span><br><span class="line">		name: <span class="string">&apos;Tony&apos;</span>,</span><br><span class="line">		age: <span class="number">42</span>,</span><br><span class="line">		job: <span class="string">&apos;Iron man&apos;</span></span><br><span class="line">		sayName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">		alert(<span class="keyword">this</span>.name)</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> obj</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x6784;&#x9020;&#x51FD;&#x6570;&#x521B;&#x5EFA;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, job</span>) </span>{</span><br><span class="line">	<span class="keyword">this</span>.name= name; </span><br><span class="line">	<span class="keyword">this</span>.age= age;</span><br><span class="line">	<span class="keyword">this</span>.job= job;</span><br><span class="line">	<span class="keyword">this</span>.sayName= <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">		alert(<span class="keyword">this</span>.name)</span><br><span class="line">	};</span><br><span class="line">}</span><br><span class="line"><span class="keyword">var</span> tony = <span class="keyword">new</span> Person(<span class="string">&apos;tony&apos;</span>, <span class="number">29</span>, <span class="string">&apos;Iron man&apos;</span>)</span><br></pre></td></tr></table></figure></p>
<p>&#x7B2C;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;&#x5F88;&#x597D;&#x7406;&#x89E3;&#xFF0C;&#x4F46;&#x4E00;&#x4E2A;&#x7A81;&#x51FA;&#x7684;&#x95EE;&#x9898;&#x662F;&#xFF0C;&#x6211;&#x4EEC;&#x867D;&#x7136;&#x521B;&#x5EFA;&#x4E86;&#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x5E76;&#x4E0D;&#x663E;&#x793A;&#x7684;&#x77E5;&#x9053;&#x5BF9;&#x8C61;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x8FD9;&#x662F;&#x4E0D;&#x80FD;&#x63A5;&#x53D7;&#x7684;&#xFF1B;&#x800C;&#x7B2C;&#x4E8C;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x663E;&#x7136;&#x5F88;&#x660E;&#x786E;&#xFF0C;&#x5E76;&#x4E14;&#x4F7F;&#x7528;&#x4E86; new &#x64CD;&#x4F5C;&#x7B26;&#xFF0C;new&#x5B9E;&#x9645;&#x4E0A;&#x5305;&#x542B;&#x4E86;&#xFF1A;<code>&#x521B;&#x5EFA;&#x5BF9;&#x8C61; -&gt; &#x6784;&#x9020;&#x51FD;&#x6570;&#x4F5C;&#x7528;&#x57DF;&#x8D4B;&#x7ED9;&#x521B;&#x5EFA;&#x7684;&#x5BF9;&#x8C61; -&gt; &#x6267;&#x884C;&#x6784;&#x9020;&#x51FD;&#x6570; -&gt; &#x8FD4;&#x56DE;&#x65B0;&#x5BF9;&#x8C61;</code>&#x7684;&#x5B8C;&#x6574;&#x8FC7;&#x7A0B;</p>
<p>&#x7136;&#x540E;&#x96C6;&#x4E2D;&#x5230;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4E2D;&#xFF0C;&#x5411;Java&#x7B49;&#x9760;&#x62E2;&#xFF0C;&#x4E60;&#x60EF;&#x6027;&#x7684;&#x5927;&#x5199;&#xFF0C;&#x4F46;&#x5B83;&#x4E4B;&#x4E2D;&#x5E76;&#x6CA1;&#x6709;&#x663E;&#x793A;&#x7684;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x66F4;&#x6CA1;&#x6709;&#x76F4;&#x63A5;&#x628A;&#x5C5E;&#x6027;&#x503C;&#x8D4B;&#x7ED9;this&#x5BF9;&#x8C61;&#xFF0C;&#x4E5F;&#x6CA1;&#x6709;return, &#x8FD9;&#x662F;&#x56E0;&#x4E3A; new&#x64CD;&#x4F5C;&#x7B26;&#x90FD;&#x505A;&#x4E86;</p>
<p>&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x6784;&#x9020;&#x51FD;&#x6570;&#x672C;&#x8EAB;&#xFF0C;&#x5C31;&#x5BF9;&#x5E94;&#x4E8E;<code>constructor</code>&#x5C5E;&#x6027;&#xFF0C;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x9A8C;&#x8BC1;&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person(<span class="string">&apos;p1&apos;</span>, <span class="number">12</span>, xxx)</span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> Perosn(<span class="string">&apos;p2&apos;</span>, <span class="number">22</span>, yyy)</span><br><span class="line">p1.constructor == p2.constructor == Person <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p>
<p>&#x4F46;&#x4F7F;&#x7528;&#x6784;&#x9020;&#x51FD;&#x6570;&#x5E76;&#x4E0D;&#x662F;&#x6CA1;&#x6709;&#x7F3A;&#x9677;&#xFF0C;&#x5982;&#x4E0A;&#x8FF0;&#x7684;p1&#x548C;p2, &#x5176;<code>sayName</code>&#x7531;&#x4E8E;&#x662F;&#x51FD;&#x6570;&#xFF0C;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x672C;&#x8EAB;&#x4E5F;&#x662F;&#x5BF9;&#x8C61;&#xFF0C;&#x6240;&#x4EE5;&#x5404;&#x81EA;&#x5B9E;&#x4F8B;&#x82B1;&#x4E86;&#x81EA;&#x5DF1;&#x7684;Function&#xFF0C;&#x6362;&#x4E2A;&#x89D2;&#x5EA6;&#x4F1A;&#x66F4;&#x660E;&#x767D;&#x4E00;&#x4E9B;&#xFF1A;<br><code>this.sayName: new Function(&apos;alert(this.name)&apos;)</code></p>
<p>&#x53EF;&#x89C1;p1&#x548C;p2&#x7684;sayName&#x7684;&#x503C;&#xFF0C;&#x7684;&#x786E;&#x662F;&#x5404;&#x81EA;&#x5206;&#x522B;&#x5730;&#x5B9E;&#x73B0;&#x5316;&#x4E86;&#xFF0C;&#x90A3;&#x4E48;&#x95EE;&#x9898;&#x968F;&#x4E4B;&#x800C;&#x6765;&#xFF1A;<br>&#x7B2C;&#x4E00;&#xFF1A;&#x4E0A;&#x8FF0;&#x5F88;&#x660E;&#x663E;&#x4E0D;&#x662F;&#x6211;&#x4EEC;&#x901A;&#x5E38;&#x610F;&#x4E49;&#x4E0A;&#x6240;&#x7406;&#x89E3;&#x7684;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#xFF0C;&#x867D;&#x7136;&#x4E0D;&#x6392;&#x9664;&#x6709;&#x73B0;&#x5B9E;&#x9700;&#x6C42;<br>&#x7B2C;&#x4E8C;&#xFF1A;&#x66F4;&#x4E25;&#x91CD;&#x7684;&#x662F;&#x5728;&#x4F7F;&#x7528;&#x4E2D;&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;&#x4E0D;&#x540C;&#x7684;&#x4F5C;&#x7528;&#x57DF;&#x94FE;&#x548C;&#x6807;&#x8BC6;&#x7B26;&#x89E3;&#x6790;&#xFF0C;&#x51FA;&#x73B0;&#x4E86;&#x540C;&#x540D;&#x51FD;&#x6570;&#x5B9E;&#x9645;&#x4E0A;&#x4E0D;&#x76F8;&#x7B49;&#x7684;&#x4E8B;&#x513F;&#xFF0C;eg&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">p1.sayName == p2.sayName <span class="comment">// false</span></span><br></pre></td></tr></table></figure></p>
<p>&#x89E3;&#x51B3;&#x65B9;&#x5F0F;&#x5C31;&#x662F;&#x907F;&#x514D;&#x6BCF;&#x4E2A;&#x5B9E;&#x4F8B;&#x90FD;&#x521B;&#x5EFA;&#xFF0C;&#x6240;&#x4EE5;&#x4F7F;&#x7528;this&#x5BF9;&#x8C61;&#x5355;&#x72EC;&#x7ED1;&#x5B9A;&#x51FD;&#x6570;&#x5C31;&#x884C;&#xFF0C;like this&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x6784;&#x9020;&#x51FD;&#x6570;&#x521B;&#x5EFA;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, job</span>) </span>{</span><br><span class="line">	<span class="keyword">this</span>.name= name; </span><br><span class="line">	<span class="keyword">this</span>.age= age;</span><br><span class="line">	<span class="keyword">this</span>.job= job;</span><br><span class="line">	<span class="keyword">this</span>.sayName= sayName;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayName</span>(<span class="params"></span>) </span>{</span><br><span class="line">	alert(<span class="keyword">this</span>.name)</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<p>&#x8FD9;&#x660E;&#x663E;&#x662F;&#x4E00;&#x79CD;&#x59A5;&#x534F;&#x7684;&#x5904;&#x7406;&#x65B9;&#x5F0F;&#xFF0C;&#x4E3A;&#x4E86;&#x8BA9;&#x5404;&#x4E2A;&#x5B9E;&#x4F8B;&#x5171;&#x4EAB;&#x5355;&#x72EC;&#x7684;&#x51FD;&#x6570;&#x5BF9;&#x8C61;&#xFF0C;&#x628A;&#x51FD;&#x6570;&#x653E;&#x5230;&#x4E86;&#x5168;&#x5C40;&#xFF0C;&#x4E14;&#x4E0D;&#x8BF4;&#x6709;&#x5F88;&#x591A;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x9020;&#x6210;&#x5168;&#x5C40;&#x547D;&#x540D;&#x662F;&#x707E;&#x96BE;&#xFF0C;&#x4F46;&#x662F;<code>alert</code>&#x4E2D;&#x7684;<code>this</code>&#x53EA;&#x8868;&#x793A;Person&#xFF0C;&#x4ECE;&#x8BED;&#x4E49;&#x4E0A;&#x5C31;&#x4E0D;&#x8131;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x6551;&#x52A9;&#x4E8E;<code>&#x539F;&#x578B;&#x6A21;&#x5F0F;</code></p>
<h3 id="&#x4F7F;&#x7528;&#x539F;&#x578B;&#x6A21;&#x5F0F;&#x521B;&#x5EFA;&#x548C;&#x6269;&#x5C55;&#x5BF9;&#x8C61;"><a href="#&#x4F7F;&#x7528;&#x539F;&#x578B;&#x6A21;&#x5F0F;&#x521B;&#x5EFA;&#x548C;&#x6269;&#x5C55;&#x5BF9;&#x8C61;" class="headerlink" title="&#x4F7F;&#x7528;&#x539F;&#x578B;&#x6A21;&#x5F0F;&#x521B;&#x5EFA;&#x548C;&#x6269;&#x5C55;&#x5BF9;&#x8C61;"></a>&#x4F7F;&#x7528;&#x539F;&#x578B;&#x6A21;&#x5F0F;&#x521B;&#x5EFA;&#x548C;&#x6269;&#x5C55;&#x5BF9;&#x8C61;</h3><p>&#x63A5;&#x7740;&#x4E0A;&#x8FF0;&#xFF0C;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x539F;&#x578B;&#x6A21;&#x5F0F;&#xFF0C;&#x6211;&#x4EEC;&#x8FD9;&#x6837;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>{}</span><br><span class="line">Person.prototype.name = <span class="string">&apos;tony&apos;</span></span><br><span class="line">Person.prototype.age = <span class="number">29</span> </span><br><span class="line">Person.prototype.job = <span class="string">&apos;Iron man&apos;</span></span><br><span class="line">Person.prototype.sayName= <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">	alert(<span class="keyword">this</span>.name)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person()</span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> Person()</span><br><span class="line">p1.sayName == p2.sayName <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p>
<p>&#x8FD9;&#x6837;&#x6240;&#x6709;&#x7684;&#x5B9E;&#x4F8B;&#x90FD;&#x4F1A;&#x5171;&#x4EAB;&#x5C5E;&#x6027;&#x548C;&#x65B9;&#x6CD5;&#x4E86;&#xFF0C;&#x540C;&#x65F6;&#x6CE8;&#x610F;&#x5230;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4E2D;&#x4EC0;&#x4E48;&#x4E5F;&#x6CA1;&#x6709;&#xFF0C;&#x4F46;&#x5B83;&#x662F;&#x600E;&#x4E48;&#x505A;&#x5230;&#x7684;&#x5462;&#xFF1F;&#x8FD9;&#x5C31;&#x6D89;&#x53CA;&#x5230;ECMAScript&#x4E2D;&#x539F;&#x578B;&#x5BF9;&#x8C61;&#x7684;&#x6027;&#x8D28;      </p>
<p>&#x6D89;&#x53CA;&#x5230;js&#x4E2D;&#x5BF9;&#x8C61;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x90A3;&#x5C31;&#x4F7F;&#x7528;<code>console.dir(obj)</code>&#x67E5;&#x770B;&#x4E00;&#x4E0B;&#xFF0C;&#x4E0B;&#x56FE;&#x5206;&#x522B;&#x662F;&#x4F7F;&#x7528;&#x6700;&#x666E;&#x901A;&#x7684;<code>&#x5B57;&#x9762;&#x91CF;&#x521B;&#x5EFA;</code>&#xFF0C;<code>&#x6784;&#x9020;&#x51FD;&#x6570;</code>&#x4EE5;&#x53CA;<code>&#x539F;&#x578B;&#x6A21;&#x5F0F;</code>&#x7684;&#x5BF9;&#x8C61;&#x7ED3;&#x6784;&#xFF1A;<br><img src="/img/jsOOp002.png" alt="&#x6BD4;&#x8F83;&#x5404;&#x79CD;&#x65B9;&#x5F0F;&#x7684;&#x4E0D;&#x540C;&#x4E4B;&#x5904;"></p>
<p>&#x53EF;&#x89C1;&#xFF1A;     </p>
<ul>
<li>&#x4EFB;&#x4F55;&#x65F6;&#x5019;&#xFF0C;&#x53EA;&#x8981;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x5BF9;&#x8C61;&#xFF0C;&#x90A3;&#x4E48;&#x8BE5;&#x5BF9;&#x8C61;&#x5C31;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x81EA;&#x52A8;&#x7684;<code>prototype</code>&#x5C5E;&#x6027;&#xFF0C;&#x8FD9;&#x4E00;&#x53E5;<code>__proto__:Object</code>&#x544A;&#x8BC9;&#x6211;&#x4EEC;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x6307;&#x5411;<code>&#x5BF9;&#x8C61;&#x7684;&#x539F;&#x578B;&#x5BF9;&#x8C61;</code>&#x7684;&#x6307;&#x9488; &#x2013; &#x8BE5;&#x5BF9;&#x8C61;&#x5305;&#x542B;&#x4E86;&#x6240;&#x6709;&#x5B9E;&#x4F8B;&#x5171;&#x4EAB;&#x7684;&#x5C5E;&#x6027;&#x548C;&#x65B9;&#x6CD5;</li>
<li>&#x521B;&#x5EFA;&#x7684;&#x5BF9;&#x8C61;&#x672C;&#x8EAB;&#x7684;&#x5C5E;&#x6027;&#x53EF;&#x4EE5;&#x662F;&#x4ECE;&#x539F;&#x578B;&#x5BF9;&#x8C61;&#x83B7;&#x53D6;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x7531;&#x81EA;&#x5DF1;&#x521B;&#x5EFA;&#xFF0C;&#x901A;&#x8FC7;&#x4E0A;&#x56FE;&#x5C5E;&#x6027;&#x51FA;&#x73B0;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x5C42;&#x80FD;&#x660E;&#x663E;&#x7684;&#x770B;&#x5230;</li>
<li>&#x3299;&#xFE0F;&#x7279;&#x522B;&#x6CE8;&#x610F;&#xFF0C;<code>&#x539F;&#x578B;&#x5BF9;&#x8C61;</code>&#x4E2D;&#x624D;&#x5B58;&#x5728;<code>constructor</code>&#x5C5E;&#x6027;&#xFF0C;&#x5B83;&#x4F1A;&#x6307;&#x5411;&#x5BF9;&#x8C61;&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#x3002;&#x4E0A;&#x56FE;&#x53EF;&#x89C1;&#xFF0C;&#x5B83;&#x9ED8;&#x8BA4;&#x4F1A;&#x6307;&#x5411;Object&#xFF0C;&#x4F46;&#x4E00;&#x65E6;&#x81EA;&#x5B9A;&#x4E49;&#x4E86;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF0C;&#x5C31;&#x6307;&#x5411;&#x6784;&#x9020;&#x51FD;&#x6570;&#x672C;&#x8EAB;&#xFF0C;&#x4F46;&#x4E0D;&#x7BA1;&#x600E;&#x6837;&#xFF0C;&#x6784;&#x9020;&#x51FD;&#x6570;&#x662F;&#x5B9E;&#x4F8B;&#x672C;&#x8EAB;&#x6CA1;&#x6709;&#x7684;&#xFF0C;&#x53EA;&#x6709;&#x5B9E;&#x4F8B;&#x7684;&#x539F;&#x578B;&#x5BF9;&#x8C61;&#x624D;&#x6709;</li>
</ul>
<p><img src="/img/jsOOP001.png" alt="&#x7B2C;&#x4E09;&#x79CD;&#x539F;&#x578B;&#x6A21;&#x5F0F;&#x7ED3;&#x6784;&#x793A;&#x610F;&#x56FE;&#xFF1A;&#x6CE8;&#x610F;&#x5B9E;&#x4F8B;&#x4E0E;&#x6784;&#x9020;&#x51FD;&#x6570;&#x95F4;&#x5E76;&#x4E0D;&#x76F4;&#x63A5;&#x8FDE;&#x63A5;&#xFF0C;&#x800C;&#x662F;&#x901A;&#x8FC7;&#x539F;&#x578B;&#x5BF9;&#x8C61;&#x5B9E;&#x73B0;&#x8FDE;&#x63A5;"></p>
<p>&#x66F4;&#x52A0;&#x76F4;&#x63A5;&#x4E00;&#x4E9B;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<code>isPrototypeOf()</code>&#x65B9;&#x6CD5;&#x6765;&#x786E;&#x5B9A;&#x5BF9;&#x8C61;&#x4E4B;&#x95F4;&#x662F;&#x5426;&#x662F;&#x540C;&#x4E00;&#x4E2A;&#x539F;&#x578B;&#x5BF9;&#x8C61;&#xFF0C;&#x901A;&#x8FC7;<code>getPrototypeOf()</code>&#x6765;&#x56DE;&#x53BB;<code>&#x539F;&#x578B;&#x5BF9;&#x8C61;</code>&#x7684;&#x5C5E;&#x6027;&#x503C;&#x6BD4;&#x5982;&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Person.prototype.isPrototypwOf(p1) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> personProtoObj = <span class="built_in">Object</span>.getPrototypeOf(preson)</span><br><span class="line"><span class="built_in">console</span>.log(personProtoObj == Person.prototype) <span class="comment">// true</span></span><br><span class="line">personProtoObj.name <span class="comment">// &apos;tony&apos;</span></span><br></pre></td></tr></table></figure></p>
<p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x62FF;&#x5230;&#x4E86;&#x539F;&#x578B;&#x5BF9;&#x8C61;&#x53CA;&#x5176;<code>name</code>&#x5C5E;&#x6027;&#x503C;&#xFF0C;&#x4ECE;&#x5B9E;&#x4F8B;&#x89D2;&#x5EA6;&#x6765;&#x8BF4;&#xFF0C;&#x83B7;&#x53D6;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#xFF0C;&#x9996;&#x5148;&#x4ECE;&#x672C;&#x8EAB;&#x7684;&#x5C5E;&#x6027;&#x4E2D;&#x53BB;&#x67E5;&#x627E;&#xFF0C;&#x5982;&#x679C;&#x672C;&#x8EAB;&#x6CA1;&#x6709;&#xFF0C;&#x5C31;&#x53BB;&#x539F;&#x578B;&#x5BF9;&#x8C61;&#x4E2D;&#x67E5;&#x627E;&#xFF0C;&#x8FD9;&#x5C31;&#x89E3;&#x91CA;&#x4E86;&#x6309;&#x4E0A;&#x8FF0;&#x65B9;&#x6CD5;&#xFF0C;&#x4E0D;&#x7BA1;&#x6709;&#x591A;&#x5C11;&#x5B9E;&#x4F8B;&#xFF0C;&#x6700;&#x7EC8;&#x90FD;&#x4F1A;&#x5411;&#x4E0A;&#x8FFD;&#x6EAF;&#x5230;&#x540C;&#x4E00;&#x4E2A;&#x539F;&#x578B;&#x5BF9;&#x8C61;&#x7684;&#x76F8;&#x540C;&#x5C5E;&#x6027;&#xFF0C;&#x8FD9;&#x5C31;&#x5B9E;&#x73B0;&#x4E86;&#x5171;&#x4EAB;</p>
<p>&#x66F4;&#x8FDB;&#x4E00;&#x6B65;&#xFF0C;&#x5982;&#x679C;&#x5B9E;&#x4F8B;&#x62E5;&#x6709;&#x4E00;&#x4E2A;&#x76F8;&#x540C;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x90A3;&#x4E48;&#x4F1A;&#x600E;&#x6837;&#x5462;&#xFF1F;&#x4F7F;&#x7528;<code>hasOwnProperty()</code>&#x4F1A;&#x68C0;&#x6D4B;&#x5C5E;&#x6027;&#x662F;&#x5426;&#x5B58;&#x5728;&#x4E8E;&#x5F53;&#x524D;&#x5B9E;&#x4F8B;&#xFF0C;&#x5982;&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p3 = <span class="keyword">new</span> Person()</span><br><span class="line">p3.name = <span class="string">&apos;hulk&apos;</span></span><br><span class="line"></span><br><span class="line">p3.hasOwnProperty(<span class="string">&apos;name&apos;</span>) <span class="comment">// true</span></span><br><span class="line">p1.hasOwnProperty(<span class="string">&apos;name&apos;</span>) <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(p3.name) <span class="comment">// &apos;hulk&apos;</span></span><br><span class="line"><span class="built_in">console</span>.log(p1.name) <span class="comment">// &apos;tony&apos;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x5F53;delete&#x4E4B;&#x540E;</span></span><br><span class="line"><span class="keyword">delete</span> p3.name</span><br><span class="line">p3.hasOwnProperty(<span class="string">&apos;name&apos;</span>) <span class="comment">// fasle</span></span><br><span class="line"><span class="built_in">console</span>.log(p2.name) <span class="comment">// &apos;tony&apos; -- &#x91CD;&#x65B0;&#x627E;&#x5230;&#x539F;&#x578B;&#x4E2D;&#x7684;&#x5C5E;&#x6027;&#x503C;</span></span><br></pre></td></tr></table></figure></p>
<p>&#x540C;&#x540D;&#x5C5E;&#x6027;&#x5982;&#x679C;&#x81EA;&#x6709;&#xFF0C;&#x5C31;&#x800C;&#x4E0D;&#x4F1A;&#x53BB;&#x5F71;&#x54CD;&#x539F;&#x578B;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x4E0A;&#x8FF0;<code>&#x6CA1;&#x6709;&#xFF0C;&#x624D;&#x4E0A;&#x6EAF;&#x5230;&#x539F;&#x578B;</code>&#x7684;&#x539F;&#x5219;&#x3002;&#x6B64;&#x5916;&#x5BF9;&#x4E8E;<code>for - in</code>&#x5FAA;&#x73AF;&#xFF0C;&#x4E5F;&#x53EA;&#x4F1A;&#x5728;&#x5B9E;&#x4F8B;&#x672C;&#x8EAB;&#x4E2D;&#x53BB;&#x5FAA;&#x73AF;&#x800C;&#x4E0D;&#x4F1A;&#x53BB;&#x7BA1;&#x539F;&#x578B;&#x4E2D;&#x7684;&#x5C5E;&#x6027;</p>
<p>&#x4E0A;&#x8FB9;&#x7684;&#x5199;&#x6CD5;&#x5F88;&#x9EBB;&#x70E6;&#xFF0C;&#x4E0D;&#x59A8;&#x628A;&#x5404;&#x4E2A;&#x5C5E;&#x6027;&#x7528;&#x5B57;&#x9762;&#x91CF;&#x7EC4;&#x5408;&#x5199;&#x5230;&#x4E00;&#x8D77;&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>{}</span><br><span class="line">Person.prototype = {</span><br><span class="line">	name: <span class="string">&apos;tony&apos;</span>,</span><br><span class="line">	age: <span class="number">42</span>,</span><br><span class="line">	job: <span class="string">&apos;Iron man&apos;</span></span><br><span class="line">	sayName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">		alert(<span class="keyword">this</span>.name)</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> stark = <span class="keyword">new</span> Person()</span><br></pre></td></tr></table></figure></p>
<p>&#x4F7F;&#x7528;&#x5B57;&#x9762;&#x91CF;&#x628A;&#x5404;&#x4E2A;&#x5C5E;&#x6027;&#x5199;&#x5230;&#x4E00;&#x8D77;&#xFF0C;&#x5982;&#x679C;&#x8F93;&#x51FA;stark&#x7684;&#x7ED3;&#x6784;&#x7684;&#x8BDD;&#xFF0C;&#x8FD8;&#x662F;&#x80FD;&#x770B;&#x5230;&#x4E0D;&#x540C;&#x4E4B;&#x5904;&#xFF0C;&#x5982;&#x56FE;&#xFF1A;<br><img src="\img\jsOOP003.png" alt="&#x6BD4;&#x8F83;&#x4E4B;"></p>
<p>&#x53EF;&#x89C1;&#x6BD4;&#x8F83;&#x4E24;&#x8005;&#xFF0C;&#x53EF;&#x770B;&#x51FA;&#x8FD9;&#x79CD;&#x5B57;&#x9762;&#x91CF;&#x5199;&#x5728;&#x4E00;&#x8D77;&#x65F6;&#xFF0C;&#x5176;&#x539F;&#x578B;&#x5BF9;&#x8C61;&#x5E76;&#x6CA1;&#x6709;<code>contructor</code>,&#x800C;&#x662F;&#x5B8C;&#x5168;&#x91CD;&#x5199;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x539F;&#x578B;&#x5BF9;&#x8C61;&#xFF0C;&#x8FD9;&#x4E2A;&#x91CD;&#x5199;&#x4E5F;&#x5207;&#x65AD;&#x4E86;&#x5B9E;&#x4F8B;&#x548C;&#x539F;&#x672C;<code>prototype.constructor</code>&#x4E4B;&#x95F4;&#x7684;&#x8FDE;&#x63A5;&#x5173;&#x7CFB;&#xFF0C;&#x8FD9;&#x662F;&#x6700;&#x5927;&#x7684;&#x4E0D;&#x540C;&#x4E4B;&#x5904;,&#x89E3;&#x51B3;&#x65B9;&#x5F0F;&#x5C31;&#x662F;&#x663E;&#x793A;&#x7684;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;<code>constrictor</code>&#x5E76;&#x8BA9;&#x5176;&#x6307;&#x5411;&#x5BF9;&#x8C61;&#x672C;&#x8EAB;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x662F;&#x5728;&#x91CD;&#x5199;&#x7684;&#x539F;&#x578B;&#x4E2D;&#x6DFB;&#x52A0;&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Person.prototype = {</span><br><span class="line">	...</span><br><span class="line">	constructor: Person</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<p>&#x597D;&#x5427;&#xFF0C;&#x90A3;&#x5230;&#x5E95;&#x8BE5;&#x5982;&#x4F55;&#x4F7F;&#x7528;&#x6784;&#x9020;&#x51FD;&#x6570;&#x6784;&#x9020;&#x5BF9;&#x8C61;&#x5462;&#xFF1F;&#x4E00;&#x53E5;&#x8BDD;&#x6765;&#x8BF4;&#x7684;&#x5C31;&#x662F;&#xFF0C;<code>&#x8981;&#x5171;&#x4EAB;&#x7684;&#x539F;&#x578B;&#x4E4B;&#xFF0C;&#x4E0D;&#x5171;&#x4EAB;&#x7684;&#x6784;&#x9020;&#x4E4B;</code>,eg:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Man</span>(<span class="params">name, age, job, wife</span>) </span>{</span><br><span class="line">	<span class="keyword">this</span>.name = name</span><br><span class="line">	<span class="keyword">this</span>.age = age</span><br><span class="line">	<span class="keyword">this</span>.job = job</span><br><span class="line">	<span class="keyword">this</span>.wife = wife</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">Man.prototype = {</span><br><span class="line">	<span class="keyword">constructor</span>: Person,</span><br><span class="line">	sex: male,</span><br><span class="line">	sayName: function() {</span><br><span class="line">		alert(<span class="keyword">this</span>.name)</span><br><span class="line">	}</span><br><span class="line">	eat: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">		alert(<span class="keyword">this</span>.name + <span class="string">&apos;is eatring!&apos;</span>)</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> tony = Man(<span class="string">&apos;tony&apos;</span>, <span class="number">42</span>, <span class="string">&apos;Iron man&apos;</span>, <span class="string">&apos;xxx&apos;</span>)</span><br><span class="line"><span class="keyword">var</span> hulk = Man(<span class="string">&apos;hulk&apos;</span>, <span class="number">32</span>, <span class="string">&apos;Hulk and scientist&apos;</span>, <span class="string">&apos;yyy&apos;</span>)</span><br></pre></td></tr></table></figure></p>
<p>&#x5982;&#x4E0A;&#x6240;&#x793A;&#xFF0C;tony&#x548C;hulk&#x7684;&#x540D;&#x5B57;&#xFF0C;&#x5DE5;&#x4F5C;&#xFF0C;&#x8001;&#x5A46;&#x662F;&#x4E0D;&#x80FD;&#x5171;&#x4EAB;&#x7684;&#xFF0C;&#x90A3;&#x5C31;&#x653E;&#x5230;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4E2D;&#xFF0C;&#x800C;&#x90FD;&#x4F5C;&#x4E3A;&#x7537;&#x6027;&#xFF0C;&#x6027;&#x522B;&#x662F;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x90FD;&#x80FD;&#x62A5;&#x51FA;&#x81EA;&#x5DF1;&#x7684;&#x540D;&#x5B57;&#xFF0C;&#x90FD;&#x80FD;&#x5403;&#x996D;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x4E9B;&#x5171;&#x4EAB;&#x7684;&#x653E;&#x5230;&#x539F;&#x578B;&#x5BF9;&#x8C61;&#x4E2D;</p>
<p>&#x7EFC;&#x4E0A;&#x6240;&#x5C5E;&#xFF0C;&#x53EF;&#x770B;&#x51FA;<code>&#x901A;&#x8FC7;&#x539F;&#x578B;&#x5BF9;&#x8C61;&#xFF0C;js&#x5B9E;&#x73B0;&#x4E86;&#x5404;&#x5B9E;&#x4F8B;&#x5C5E;&#x6027;&#x7684;&#x5171;&#x4EAB;</code>&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x539F;&#x578B;&#x5BF9;&#x8C61;&#x7684;&#x79D8;&#x5BC6;</p>
<h3 id="js&#x5BF9;&#x8C61;&#x7684;&#x7EE7;&#x627F;"><a href="#js&#x5BF9;&#x8C61;&#x7684;&#x7EE7;&#x627F;" class="headerlink" title="js&#x5BF9;&#x8C61;&#x7684;&#x7EE7;&#x627F;"></a>js&#x5BF9;&#x8C61;&#x7684;&#x7EE7;&#x627F;</h3><p>&#x901A;&#x8FC7;&#x4E0A;&#x8FF0;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x5BF9;&#x8C61;&#x90FD;&#x6709;&#x539F;&#x578B;&#x5BF9;&#x8C61;&#x7684;&#x6307;&#x9488;&#xFF0C;&#x5E76;&#x4E14;&#x539F;&#x578B;&#x5BF9;&#x8C61;&#x672C;&#x8EAB;&#x4E5F;&#x6709;&#x4E00;&#x4E2A;&#x539F;&#x578B;&#x5BF9;&#x8C61;&#xFF0C;&#x90FD;&#x662F;&#x6765;&#x81EA;&#x4E8E;Objcet&#x8FD9;&#x4E2A;&#x57FA;&#x672C;&#x5BF9;&#x8C61;&#xFF0C;&#x5927;&#x81F4;&#x80FD;&#x731C;&#x5230;&#x7EE7;&#x627F;&#x7684;&#x5F71;&#x5B50;&#x4E86;&#xFF0C;&#x5BF9;&#x4E8E;Java&#x7B49;OO&#x8BED;&#x8A00;&#xFF0C;&#x7EE7;&#x627F;&#x53EF;&#x4EE5;&#x6709;2&#x79CD;&#xFF1A;&#x63A5;&#x53E3;&#x7EE7;&#x627F;&#x548C;&#x5B9E;&#x73B0;&#x7EE7;&#x627F;&#xFF0C;&#x63A5;&#x53E3;&#x53EA;&#x7EE7;&#x627F;&#x65B9;&#x6CD5;&#x7B7E;&#x540D;&#x513F;&#x5B9E;&#x73B0;&#x7EE7;&#x627F;&#x5219;&#x7EE7;&#x627F;&#x5B9E;&#x9645;&#x65B9;&#x6CD5;&#xFF0C;&#x5728;js&#x4E2D;&#x662F;&#x6CA1;&#x6709;&#x63A5;&#x53E3;&#x96C6;&#x6210;&#x7684;&#xFF0C;&#x53EA;&#x6709;&#x5B9E;&#x73B0;&#x7EE7;&#x627F;&#xFF0C;&#x5982;&#x524D;&#x8FB9;&#x7684;&#x63E3;&#x6D4B;&#xFF0C;&#x4F7F;&#x7528;&#x8FC7;&#x539F;&#x578B;&#x5BF9;&#x8C61;&#x7EC4;&#x6210;&#x7684;&#x94FE;&#x6761;&#x6765;&#x5B9E;&#x73B0;&#x7684;</p>
<ul>
<li>&#x57FA;&#x672C;&#x7684;&#x539F;&#x578B;&#x94FE;&#x5F0F;&#x7EE7;&#x627F;<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> SuperType = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">this</span>.property = <span class="string">&quot;super&quot;</span></span><br><span class="line">}</span><br><span class="line">SuperType.prototype.getSuperValue = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.property</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> SubType = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">this</span>.subProperty = <span class="string">&quot;sub&quot;</span></span><br><span class="line">}</span><br><span class="line"><span class="comment">/* &#x540E;&#x4EE3;&#x5BF9;&#x8C61;&#x7684;&#x539F;&#x578B;&#x662F;&#x7236;&#x5BF9;&#x8C61;&#x7684;&#x5B9E;&#x4F8B; */</span></span><br><span class="line">SubType.prototype = <span class="keyword">new</span> SuperType()</span><br><span class="line">SubType.prototype.getSubproperty = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.subProperty</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> father = <span class="keyword">new</span> SuperType()</span><br><span class="line"><span class="keyword">var</span> son = <span class="keyword">new</span> SubType()</span><br><span class="line"><span class="built_in">console</span>.log(instance.getSuperValue()) <span class="comment">// &apos;super&apos;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(father)</span><br><span class="line"><span class="built_in">console</span>.dir(son)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>&#x6700;&#x5173;&#x952E;&#x7684;&#x4E00;&#x53E5;&#x5C31;&#x662F;<code>SubType.prototype = new SuperType()</code>,&#x4E5F;&#x5C31;&#x662F;&#x91CD;&#x5199;&#x5B50;&#x5BF9;&#x8C61;&#x7684;&#x539F;&#x578B;&#x5BF9;&#x8C61;&#x8BA9;<code>&#x540E;&#x4EE3;&#x5BF9;&#x8C61;&#x7684;&#x539F;&#x578B;&#x5BF9;&#x8C61; = &#x7236;&#x5BF9;&#x8C61;&#x7684;&#x5B9E;&#x4F8B;</code>&#xFF0C;&#x7531;&#x6B64;&#x5B9E;&#x4F8B;&#x7684;&#x5C5E;&#x6027;&#x548C;&#x5B9E;&#x4F8B;&#x80FD;&#x627E;&#x7684;&#x5B83;&#x539F;&#x578B;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x5C31;&#x90FD;&#x53EF;&#x4EE5;&#x8BA9;&#x5B50;&#x5BF9;&#x8C61;&#x987A;&#x7740;&#x5B83;&#x7684;&#x539F;&#x578B;&#x5BF9;&#x8C61;&#x800C;&#x6536;&#x7F29;&#x5230;&#xFF0C;&#x4ECE;&#x6548;&#x679C;&#x4E0A;&#x5C31;&#x5B9E;&#x73B0;&#x7EE7;&#x627F;&#xFF0C;&#x5982;&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;&#x4ED6;&#x4EEC;&#x7684;&#x7EE7;&#x627F;&#x56FE;&#x5C31;&#x662F;&#xFF1A;<br><img src="/img.jsOOP004.png" alt=""></p>
<p>&#x5F88;&#x663E;&#x7136;&#xFF0C;&#x8FD9;&#x6837;&#x5355;&#x7EAF;&#x7684;&#x8BA9;&#x539F;&#x578B;&#x5BF9;&#x8C61;==&#x7236;&#x5BF9;&#x8C61;&#x7684;&#x5B9E;&#x4F8B;&#x4EE5;&#x540E;&#xFF0C;&#x56DE;&#x5F15;&#x51FA;&#x4E00;&#x4E0B;&#x51E0;&#x4E2A;&#x95EE;&#x9898;&#xFF1A;<br>1 &#x5982;&#x679C;&#x9700;&#x8981;&#x4E3A;&#x5411;&#x5B50;&#x5BF9;&#x8C61;&#x7684;&#x539F;&#x578B;&#x5BF9;&#x8C61;&#x4E2D;&#x6DFB;&#x52A0;&#x65B0;&#x65B9;&#x6CD5;&#xFF0C;&#x662F;&#x4E0D;&#x80FD;&#x5199;&#x6210;&#x5B57;&#x9762;&#x91CF;&#x7684;&#x5F62;&#x5F0F;&#x7684;&#x3002;&#x56E0;&#x4E3A;&#x8FD9;&#x6837;&#x4E00;&#x6765;&#x5C31;&#x7B49;&#x540C;&#x4E8E;&#x91CD;&#x73B0;&#x4E86;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&#xFF0C;&#x4F1A;&#x8986;&#x76D6;&#x6389;&#x6700;&#x521D;&#x7684;&#x539F;&#x578B;&#x5BF9;&#x8C61;&#xFF0C;&#x81EA;&#x7136;&#x94FE;&#x63A5;&#x7236;&#x5BF9;&#x8C61;&#x7684;&#x539F;&#x578B;&#x94FE;&#x4F1A;&#x88AB;&#x5207;&#x65AD;&#xFF0C;&#x800C;&#x5931;&#x53BB;&#x7EE7;&#x627F;&#x7684;&#x6548;&#x679C;&#xFF0C;&#x8FD9;&#x4E00;&#x70B9;&#x662F;&#x5C24;&#x5176;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;<br>2 &#x57FA;&#x4E8E;&#x540C;&#x6837;&#x7684;&#x9053;&#x7406;&#x5F53;&#x5B50;&#x5BF9;&#x8C61;&#x4E3A;&#x4ED6;&#x7684;&#x539F;&#x578B;&#x6DFB;&#x52A0;&#x5C5E;&#x6027;&#xFF0C;&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x4F1A;&#x88AB;&#x5171;&#x4EAB;&#x5230;&#x6240;&#x6709;&#x7684;&#x5B50;&#x5BF9;&#x8C61;&#x5B9E;&#x4F8B;&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x5E94;&#x8BE5;&#x628A;&#x5B50;&#x5BF9;&#x8C61;&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#x7559;&#x7A7A;<br>3 &#x6B64;&#x5916;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x662F;&#xFF0C;&#x518D;&#x4E5F;&#x65E0;&#x6CD5;&#x5355;&#x72EC;&#x4E3A;&#x8D85;&#x5BF9;&#x8C61;&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4F20;&#x9012;&#x53C2;&#x6570;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x52BF;&#x5FC5;&#x4F1A;&#x5F71;&#x54CD;&#x5230;&#x7EE7;&#x627F;&#x81EA;&#x4ED6;&#x7684;&#x5B50;&#x5BF9;&#x8C61;<br>&#x6240;&#x4EE5;&#x5355;&#x7EAF;&#x4F7F;&#x7528;&#x539F;&#x578B;&#x94FE;&#x53EA;&#x80FD;&#x7B97;&#x662F;&#x7C97;&#x66B4;&#x7684;&#x7EE7;&#x627F;</p>
<ul>
<li>&#x4F2A;&#x7ECF;&#x5178;&#x7EE7;&#x627F;&#xFF08;&#x4E5F;&#x79F0;&#x7EC4;&#x5408;&#x7EE7;&#x627F; combination inheritance&#xFF09;<br>&#x8FD9;&#x7684;&#x5C06;&#x6784;&#x9020;&#x51FD;&#x6570; + &#x539F;&#x578B;&#x94FE;&#x7EC4;&#x5408;&#x7684;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x5176;&#x601D;&#x8DEF;&#x662F;&#xFF1A;&#x539F;&#x578B;&#x94FE;&#x5B9E;&#x73B0;&#x5BF9;&#x539F;&#x578B;&#x5BF9;&#x8C61;&#x7684;&#x7EE7;&#x627F;&#xFF0C;&#x800C;&#x5B9E;&#x4F8B;&#x5C5E;&#x6027;&#x7684;&#x7EE7;&#x627F;&#x901A;&#x8FC7;&#x6784;&#x9020;&#x51FD;&#x6570;&#x5B9E;&#x73B0;&#xFF0C;&#x5982;&#x6B64;&#x4FBF;&#x662F;&#xFF1A;<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">function SuperType(name) {</span><br><span class="line">	this.name = name</span><br><span class="line">	this.colors = [&apos;red&apos;, &apos;green&apos;, &apos;bule`]</span><br><span class="line">}</span><br><span class="line">SuperType.prototype.sayName = function() {</span><br><span class="line">	alert(this.name)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">var SubType = function(name, age) {</span><br><span class="line">	// &#x7EE7;&#x627F;&#x7236;&#x5BF9;&#x8C61;&#x7684;&#x5B9E;&#x4F8B;&#x5C5E;&#x6027;</span><br><span class="line">	Supertype.call(this, arguments)</span><br><span class="line">	this.age = age</span><br><span class="line">}</span><br><span class="line">// &#x7EE7;&#x627F;&#x7236;&#x5BF9;&#x8C61;&#x7684;&#x539F;&#x578B;&#x5C5E;&#x6027; </span><br><span class="line">SubType.prototype = new SuperType()</span><br><span class="line">// &#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x7EA0;&#x6B63;&#x4E00;&#x4E0B;&#x6784;&#x9020;&#x51FD;&#x6570;</span><br><span class="line">&lt;!--SubType.prototype.constructor = SubType--&gt;</span><br><span class="line">SubType.prototype.sayAge = function() {</span><br><span class="line">	alert(this.age)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">var son1 = new SubType(&apos;son1&apos;, 22)</span><br><span class="line">son1.colors.push(&apos;yellow&apos;)</span><br><span class="line">son1.sayName() // son1</span><br><span class="line">son1.sayAge() // 22</span><br><span class="line"></span><br><span class="line">var sonOther = new SubType(&apos;other&apos;, 44)</span><br><span class="line">console.log(sonOther.colors) // [&apos;red&apos;, &apos;green&apos;, &apos;bule`]</span><br><span class="line">sonOther.sayName() // other</span><br><span class="line">sonOther.sayAge() // 44</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>&#x770B;&#x56FE;&#x66F4;&#x52A0;&#x6E05;&#x6670;&#x4E00;&#x4E9B;&#xFF1A;<br><img src="/img/jsOOP005.png" alt="&#x4E3A;&#x7EA0;&#x6B63;&#x6784;&#x9020;&#x51FD;&#x6570;&#x7ED3;&#x6784;&#x56FE;"></p>
<p>&#x7531;&#x4E8E;&#x7236;&#x5BF9;&#x8C61;&#x7684;&#x5B9E;&#x4F8B;&#x5C5E;&#x6027;&#xFF0C;&#x5728;&#x5B50;&#x5BF9;&#x8C61;&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4E2D;&#x5B8C;&#x6210;&#x7EE7;&#x627F;&#xFF0C;&#x6240;&#x4EE5;&#x7B49;&#x540C;&#x4E8E;&#x5B50;&#x5B9E;&#x4F8B;&#x5C5E;&#x6027;&#x7684;&#x521B;&#x5EFA;&#x548C;&#x8986;&#x76D6;&#xFF0C;&#x540C;&#x65F6;&#x53EA;&#x5C5E;&#x4E8E;&#x5B50;&#x5B9E;&#x4F8B;&#x5B9E;&#x4F8B;&#x5982;age&#x4E0D;&#x5728;&#x88AB;&#x5171;&#x4EAB;&#xFF0C;&#x800C;&#x5171;&#x4EAB;&#x7684;&#x53EA;&#x662F;&#x6765;&#x81EA;&#x4E8E;&#x7236;&#x5B9E;&#x4F8B;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x8FD9;&#x89E3;&#x91CA;&#x4E86;<code>son1.colors &#x548C; sonOther.colors</code>&#x7684;&#x4E0D;&#x540C;&#xFF1B;&#x6765;&#x81EA;&#x4E8E;&#x7236;&#x7C7B;&#x539F;&#x578B;&#x7684;&#x5C5E;&#x6027;&#x53CA;&#x65B9;&#x6CD5;&#x4EE5;&#x53CA;&#x88AB;&#x7EE7;&#x627F;&#x3002;&#x53EF;&#x89C1;&#x6CA1;&#x6709;&#x4E86;&#x4E0A;&#x9762;&#x53EA;&#x4F7F;&#x7528;&#x539F;&#x578B;&#x94FE;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x8FD9;&#x6837;&#x5C31;&#x5B8C;&#x7F8E;&#x4E86;&#x5417;&#xFF1F;</p>
<p>&#x4E0A;&#x8FF0;&#x8FD9;&#x5C31;&#x7528;js&#x5B9E;&#x73B0;&#x4E86;java&#x7C7B;&#x4E00;&#x6837;&#x7684;&#x7EE7;&#x627F;&#x4E86;&#xFF0C;&#x4F46;&#x5728;js&#x4E2D;&#x7EDD;&#x5927;&#x591A;&#x6570;&#x65F6;&#x5019;&#xFF0C;&#x662F;&#x4E0D;&#x9700;&#x8981;&#x8FD9;&#x6837;&#x5B8C;&#x5168;&#x6A21;&#x62DF;&#x7C7B;&#x7684;&#x7EE7;&#x627F;&#x7684;&#xFF0C;&#x5E76;&#x4E14;&#x5E76;&#x4E0D;&#x5B8C;&#x7F8E;&#xFF1A;&#x81F3;&#x5C11;SuperType&#x5C31;&#x88AB;&#x8C03;&#x7528;&#x4E86;2&#x6B21;&#xFF0C;&#x4E00;&#x6B21;&#x5728;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4E2D;&#xFF0C;&#x4E00;&#x6B21;&#x5728;&#x94FE;&#x63A5;&#x539F;&#x578B;&#x94FE;&#x65F6;&#xFF0C;&#x6240;&#x4EE5;&#x8FD8;&#x9700;&#x8981;&#x6539;&#x8FDB;</p>
<p>&#x8FD9;&#x5C31;&#x662F;js&#x66F4;&#x5E38;&#x89C1;&#x7684;&#x7EE7;&#x627F;&#x4E86;&#xFF0C;&#x5B83;&#x5E76;&#x4E0D;&#x6A21;&#x62DF;&#x7C7B;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x867D;&#x7136;&#x770B;&#x8D77;&#x6765;&#x4E0D;&#x591F;&#x6A21;&#x7248;&#x5316;&#xFF0C;&#x6570;&#x636E;&#x8026;&#x5408;&#x6027;&#x5F88;&#x9AD8;&#xFF0C;&#x4F46;&#x5374;&#x662F;&#x89C1;&#x7684;&#x6BD4;&#x8F83;&#x591A;&#x7684;&#xFF0C;&#x4F7F;&#x7528;extendObj&#x7B80;&#x5355;&#x7684;&#x5C01;&#x88C5;&#x4E86;&#x4E00;&#x4E0B;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> extendObj = <span class="function"><span class="keyword">function</span>(<span class="params">superObj</span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>(superObj.prototype)</span><br><span class="line">    obj.constructor = obj</span><br><span class="line">    <span class="keyword">return</span> obj</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> fa = {</span><br><span class="line">    name: <span class="string">&apos;&#x8001;&#x738B;&apos;</span>,</span><br><span class="line">    surname: <span class="string">&apos;&#x738B;&apos;</span>,</span><br><span class="line">    familyName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.surname)</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.log(fa.familyName())</span><br><span class="line"><span class="built_in">console</span>.dir(fa)</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x4E0D;&#x4F7F;&#x7528;&#x6784;&#x9020;&#x51FD;&#x6570;,&#x4E0D;&#x6A21;&#x62DF;&#x7C7B;</span></span><br><span class="line"><span class="keyword">var</span> sequela1 = extendObj(fa)</span><br><span class="line">sequela1.name = <span class="string">&apos;&#x5C0F;&#x738B;&apos;</span></span><br><span class="line">sequela1.course = <span class="string">&apos;&#x6570;&#x5B66;&apos;</span></span><br><span class="line">sequela1.projectWork = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.course)</span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.dir(sequela1)</span><br><span class="line"><span class="built_in">console</span>.log(sequela1.projectWork())</span><br></pre></td></tr></table></figure></p>
<p>&#x7EFC;&#x4E0A;&#xFF0C;&#x5C31;&#x662F;js&#x7684;&#x7EE7;&#x627F;&#xFF0C;&#x53EF;&#x89C1;js&#x5373;&#x4FBF;&#x4ED6;&#x73B0;&#x5728;&#x4F7F;&#x7528;&#x5F88;&#x5E7F;&#x6CDB;&#xFF0C;&#x4E5F;&#x8FD8;&#x6709;&#x5F88;&#x591A;&#x811A;&#x672C;&#x5316;&#x7684;&#x8EAB;&#x5F71;&#xFF0C;&#x7EE7;&#x627F;&#x5199;&#x8D77;&#x6765;&#x5E76;&#x4E0D;&#x5165;java&#x7B49;&#x7684;&#x5BB9;&#x6613;&#xFF0C;&#x4F46;&#x4E5F;&#x7684;&#x786E;&#x5B9E;&#x73B0;&#x4E86;&#x7EE7;&#x627F;&#xFF0C;&#x4F55;&#x51B5;&#x80FD;&#x7406;&#x89E3;&#x5230;&#x53E6;&#x4E00;&#x79CD;&#x5F62;&#x5F0F;&#x7684;OOP&#xFF0C;&#x4E5F;&#x5F88;&#x52A9;&#x4E8E;&#x7406;&#x89E3;&#x5176;&#x4ED6;OOP&#x8BED;&#x8A00;</p>
<p>&#x9644;&#x4E0A;&#x4E00;&#x4E2A;&#x6D4B;&#x8BD5;&#x7684;demo&#x4EE3;&#x7801;&#xFF1A;</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/04/12/vim拾遗之其实可以不用插件的/"><span>vim拾遗之其实可以不用插件的</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/04/12/vim拾遗之其实可以不用插件的/" rel="bookmark">
        <time class="entry-date published" datetime="2017-04-12T10:32:56.000Z">
          2017-04-12
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>&#x5411;&#x6240;&#x6709;&#x521A;&#x63A5;&#x89E6;&#x5230;VIM&#x7684;&#x65B0;&#x624B;&#x4E00;&#x6837;&#xFF0C;&#x7B14;&#x8005;&#x66FE;&#x51E0;&#x4F55;&#x65F6;&#x4E5F;&#x628A;vim&#x641E;&#x7684;&#x82B1;&#x91CC;&#x80E1;&#x54E8;&#xFF0C;&#x7F8E;&#x5176;&#x540D;&#x66F0;vim-ide&#xFF0C;&#x6298;&#x817E;&#x4E86;tons of plugins&#xFF0C;&#x76F4;&#x5230;vim&#x88AB;&#x5F04;&#x5F97;&#x8D8A;&#x6765;&#x8D8A;&#x81C3;&#x80BF;&#xFF0C;&#x76F4;&#x5230;&#x9047;&#x5230;&#x4E86;&#x6D69;&#x54E5;&#xFF0C;&#x770B;&#x5230;&#x5927;&#x54E5;&#x4FE1;&#x624B;&#x7EAF;vim&#x5728;&#x6211;&#x9762;&#x524D;&#x5B8C;&#x6210;&#x4E86;&#x6240;&#x6709;&#x7684;&#x90A3;&#x4E9B;&#xFF0C;&#x6211;&#x539F;&#x672C;&#x53EA;&#x80FD;&#x501F;&#x52A9;&#x63D2;&#x4EF6;&#x5B8C;&#x6210;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4E00;&#x65F6;&#x60CA;&#x6115;&#x4E0D;&#x5DF2;: &#x539F;&#x6765;&#x8FD9;&#x4E9B;VIM&#x5168;&#x90FD;&#x662F;&#x81EA;&#x6709;&#x7684;&#xFF0C;&#x8FD9;&#x7BC7;&#x7684;&#x76EE;&#x7684;&#x5E76;&#x4E0D;&#x662F;&#x8BA9;&#x5927;&#x5BB6;&#x544A;&#x522B;&#x63D2;&#x4EF6;&#xFF0C;&#x5F7B;&#x5E95;&#x7684;&#x4E0D;&#x7528;&#xFF0C;&#x800C;&#x662F;&#x7ED3;&#x5408;&#x7B14;&#x8005;&#x81EA;&#x5DF1;&#x7684;&#x4F7F;&#x7528;&#x7ECF;&#x9A8C;,&#x591A;&#x7ED9;&#x4E00;&#x949F;&#x9009;&#x9879;&#x7F62;&#x4E86;&#xFF0C;&#x597D;&#x4E86;&#x5F00;&#x59CB;&#x5427;</p>
<h3 id="vim&#x4E0B;&#x7684;&#x6587;&#x4EF6;&#x8DF3;&#x8F6C;&#x548C;&#x67E5;&#x627E;"><a href="#vim&#x4E0B;&#x7684;&#x6587;&#x4EF6;&#x8DF3;&#x8F6C;&#x548C;&#x67E5;&#x627E;" class="headerlink" title="vim&#x4E0B;&#x7684;&#x6587;&#x4EF6;&#x8DF3;&#x8F6C;&#x548C;&#x67E5;&#x627E;"></a>vim&#x4E0B;&#x7684;&#x6587;&#x4EF6;&#x8DF3;&#x8F6C;&#x548C;&#x67E5;&#x627E;</h3><p>&#x4E0D;&#x77E5;&#x9053;&#x5927;&#x5BB6;&#x662F;&#x5426;&#x6CE8;&#x610F;&#x5230;&#x8FC7;vim&#x7684;&#x8BBE;&#x7F6E;&#x9009;&#x9879;&#x4E2D;&#xFF0C;&#x662F;&#x6709;&#x4E00;&#x4E9B;&#x9ED8;&#x8BA4;&#x7684;&#x503C;&#x5F97;&#xFF0C;&#x6BD4;&#x5982;<code>:set path?</code>&#xFF0C;&#x591A;&#x534A;&#x4F1A;&#x8F93;&#x51FA;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#xFF1A;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path=.,/usr/include,,</span><br></pre></td></tr></table></figure></p>
<p>&#x901A;&#x8FC7;path&#x8FD9;&#x4E2A;&#x540D;&#x79F0;&#xFF0C;&#x5927;&#x81F4;&#x4E5F;&#x80FD;&#x731C;&#x5230;&#x8FD9;&#x662F;vim&#x6709;&#x5173;&#x6587;&#x4EF6;&#x67E5;&#x627E;&#x7684;&#x8DEF;&#x5F84;&#xFF0C;&#x540E;&#x8FB9;&#x7684;&#x5C31;&#x662F;&#x6307;&#x51E0;&#x4E2A;&#x9ED8;&#x8BA4;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x51FA;&#x610F;&#x5916;&#x7684;&#x8BDD;&#x6211;&#x4EEC;&#x7684;&#x67E5;&#x627E;&#x5E94;&#x8BE5;&#x4EE5;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x5C42;&#x7EA7;&#x7684;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#xFF0C;&#x53EF;&#x662F;&#x5F88;&#x53EF;&#x80FD;&#x4F60;&#x5E76;&#x4E0D;&#x660E;&#x786E;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x4F7F;&#x7528;<code>:find *</code>&#x901A;&#x914D;&#x7684;&#x53BB;&#x67E5;&#x627E;&#x7740;&#x5F53;&#x524D;&#x8DEF;&#x5F84;&#x4E0B;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;tab&#x8DF3;&#x8F6C;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;<code>:set wildmenu</code>&#x7684;&#x8BDD;&#xFF0C;&#x627E;&#x8D77;&#x6765;&#x5C31;&#x66F4;&#x65B9;&#x4FBF;&#x4E86;&#xFF0C;&#x753B;&#x98CE;&#x662F;&#x8FD9;&#x6837;&#x7684;<br><img src="/img/vim-wildmenu.png" alt="wildmenu&#x753B;&#x98CE;&#x5C55;&#x793A;"></p>
<p>&#x7136;&#x540E;enter&#xFF0C;&#x5C31;&#x8FDB;&#x5165;&#x5230;&#x4E86;&#x60F3;&#x8981;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x5B9E;&#x73B0;&#x4E86;&#x7B80;&#x5355;&#x7684;&#x6587;&#x4EF6;&#x67E5;&#x627E;&#x548C;&#x53D8;&#x66F4;&#xFF0C;&#x5982;&#x679C;&#x6B64;&#x65F6;&#x5148;&#x8981;&#x56DE;&#x5230;&#x539F;&#x6765;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<code>:ls</code>&#x547D;&#x4EE4;&#xFF0C;&#x4ED6;&#x4F1A;&#x7F57;&#x5217;&#x51FA;&#x5F53;&#x524D;vim&#x7F13;&#x5B58;&#x6240;&#x6709;&#x7684;&#x672A;&#x5173;&#x95ED;&#x7684;&#x6587;&#x4EF6;&#xFF0C;like this&#xFF1A;<br><img src="/img/vim-ls.png" alt="vim&#x4E0B;&#x7684;ls"><br>&#x6BD4;&#x5982;&#x8FD9;&#x91CC;&#x6211;&#x60F3;&#x56DE;&#x5230;vim&#x62FE;&#x9057;&#x7684;&#x6587;&#x7AE0;&#xFF0C;&#x8F93;&#x5165;&#xFF1A;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:b vi</span><br></pre></td></tr></table></figure></p>
<p>&#x6211;&#x751A;&#x81F3;&#x90FD;&#x4E0D;&#x7528;tab&#x51FA;&#x5B8C;&#x6574;&#x7684;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x76F4;&#x63A5;enter&#x5C31;&#x56DE;&#x5230;&#x4E86;&#x539F;&#x6765;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5F53;&#x7136;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x8BED;&#x4E49;&#x5316;&#x4E3A;back<br> vi&#x2026;</p>
<h3 id="vim&#x81EA;&#x5DF1;&#x7684;&#x81EA;&#x52A8;&#x8865;&#x5168;"><a href="#vim&#x81EA;&#x5DF1;&#x7684;&#x81EA;&#x52A8;&#x8865;&#x5168;" class="headerlink" title="vim&#x81EA;&#x5DF1;&#x7684;&#x81EA;&#x52A8;&#x8865;&#x5168;"></a>vim&#x81EA;&#x5DF1;&#x7684;&#x81EA;&#x52A8;&#x8865;&#x5168;</h3><p>&#x7528;vim&#x6572;&#x4EE3;&#x7801;&#x51E0;&#x4E4E;&#x90FD;&#x6216;&#x591A;&#x6216;&#x5C11;&#x542C;&#x8FC7;<code>YouCompleteMe</code>&#x8FD9;&#x4E2A;&#x63D2;&#x4EF6;&#x7684;&#x5927;&#x540D;&#xFF0C;&#x5B83;&#x51E0;&#x4E4E;&#x652F;&#x6301;&#x6BCF;&#x79CD;&#x8BED;&#x8A00;&#xFF0C;&#x8BA9;&#x4EE3;&#x7801;&#x5199;&#x8D77;&#x6765;&#x66F4;&#x5BB9;&#x6613;&#xFF0C;&#x4F46;&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;vim&#x672C;&#x8EAB;&#x5C31;&#x63D0;&#x4F9B;&#x4E86;&#x8FD9;&#x6837;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x90A3;&#x5C31;&#x662F;&#x4E00;&#x7CFB;&#x5217;&#x7684;<code>Cr + n</code>&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x4E0B;&#x9762;&#x5217;&#x4E3E;&#x5982;&#x4E0B;&#xFF1A;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&quot; &#x5F53;&#x524D;&#x6587;&#x4EF6;&#x5339;&#x914D;</span><br><span class="line">Cr x + Cr n &quot; next </span><br><span class="line">Cr x + Cr p &quot; pre </span><br><span class="line"></span><br><span class="line">&quot; &#x6587;&#x4EF6;&#x5939;&#x5339;&#x914D;</span><br><span class="line">Cr x + Cr F &#x518D;&#x914D;&#x5408; n/p </span><br><span class="line">&quot; tag&#x5339;&#x914D;</span><br><span class="line">Cr x + Cr ]</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/vim-autoCFile.png" alt="&#x6587;&#x4EF6;&#x540D;&#x81EA;&#x52A8;&#x8865;&#x5168;"><br>&#x8C01;&#x7528;&#x8C01;&#x77E5;&#x9053;,&#x662F;&#x7684;&#x6211;&#x5DF2;&#x7ECF;&#x542C;&#x5230;&#x6709;&#x4EBA;&#x5410;&#x69FD;&#x8FD9;&#x4E2A;&#x539F;&#x751F;<code>OnmiComplete</code>&#x5F88;&#x82E5;&#xFF0C;&#x4F46;&#x662F;&#x5BF9;&#x591A;&#x6570;&#x4EBA;&#x6765;&#x8BF4;&#x7684;&#x786E;&#x591F;&#x7528;&#x4E86;&#xFF0C;&#x5982;&#x679C;&#x5B9E;&#x5728;&#x60F3;&#x505A;&#x5230;&#x60F3;IDE&#x4E00;&#x6837;&#x7D22;&#x5F15;API&#xFF0C;&#x90A3;&#x8FD8;&#x9700;&#x8981;<code>CTags</code>&#xFF0C;&#x5BF9;&#x6211;&#x6765;&#x8BF4;&#x5B8C;&#x5168;&#x76EE;&#x524D;&#x8FD8;&#x7528;&#x4E0D;&#x4E0A;&#xFF0C;&#x81EA;&#x5E26;&#x7684;&#x8DB3;&#x4EE5;&#xFF0C;&#x4EE5;&#x540E;&#x6709;&#x673A;&#x4F1A;&#x5728;&#x8865;&#x4E0A;Ctags &#x53CA; JSTags &#x6839;vim&#x914D;&#x5408;&#x7684;&#x81EA;&#x52A8;&#x8865;&#x5168;&#x5427;</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/04/10/Hbase面面观/"><span>Hbase面面观</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/04/10/Hbase面面观/" rel="bookmark">
        <time class="entry-date published" datetime="2017-04-10T08:29:12.000Z">
          2017-04-10
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h3 id="&#x5F15;&#x5B50;"><a href="#&#x5F15;&#x5B50;" class="headerlink" title="&#x5F15;&#x5B50;"></a>&#x5F15;&#x5B50;</h3><p>&#x5927;&#x6570;&#x636E;&#x5904;&#x7406;&#x548C;&#x5B58;&#x50A8;&#x6846;&#x67B6;Hadoop&#xFF0C;&#x9664;&#x4E86;&#x6700;&#x91CD;&#x8981;&#x7684;<code>HDFS&#x548C;MapReduce/Spark&#x8BA1;&#x7B97;&#x6846;&#x67B6;</code>&#x4E4B;&#x5916;&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x5F88;&#x591A;&#x8F85;&#x52A9;&#x7EC4;&#x4EF6;&#xFF0C;&#x6BD4;&#x5982;&#x9700;&#x8981;&#x5206;&#x5E03;&#x5F0F;&#x534F;&#x8C03;&#x7CFB;&#x7EDF;<code>zookeeper</code>&#x6765;&#x505A;&#x70ED;&#x5907;&#xFF0C;&#x7EF4;&#x62A4;&#x5143;&#x6570;&#x636E;&#x547D;&#x540D;&#x7A7A;&#x95F4;, Sqoop&#x4F5C;&#x6570;&#x636E;&#x5BFC;&#x5165;&#x5BFC;&#x51FA;&#x7B49;&#x7B49;&#x3002;&#x8FD9;&#x4E9B;&#x90FD;&#x662F;&#x4ECE;&#x6574;&#x4E2A;&#x7CFB;&#x7EDF;&#x4E0A;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x800C;&#x4F5C;&#x4E3A;&#x6570;&#x636E;&#x6301;&#x4E45;&#x5316;&#x7684;&#x5B58;&#x50A8;&#x7CFB;&#x7EDF;&#x7684;<code>HDFS</code>&#xFF0C;&#x81EA;&#x7136;&#x4E5F;&#x53D1;&#x5C55;&#x51FA;&#x4E86;&#x5F88;&#x591A;&#x81EA;&#x5DF1;&#x7684;&#x8F85;&#x52A9;&#x7EC4;&#x4EF6;&#xFF0C;&#x5176;&#x4E2D;<code>HBase</code>&#x65E0;&#x7591;&#x662F;&#x6700;&#x8000;&#x773C;&#x7684;</p>
<h3 id="&#x662F;&#x4EC0;&#x4E48;"><a href="#&#x662F;&#x4EC0;&#x4E48;&#xFF1F;" class="headerlink" title="&#x662F;&#x4EC0;&#x4E48;&#xFF1F;"></a>&#x662F;&#x4EC0;&#x4E48;&#xFF1F;</h3><p>&#x7B80;&#x5355;&#x7684;&#xFF0C;<code>HBase</code>&#x662F;&#x4E00;&#x79CD;&#x7C7B;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5B58;&#x50A8;&#x5C42;&#x5DE5;&#x5177;&#xFF0C;&#x5176;&#x7528;&#x4E8E;&#x7EC4;&#x7EC7;&#x548C;&#x7BA1;&#x7406;&#x7ED3;&#x6784;&#x5316;&#x6570;&#x636E;&#x7684;&#x5B58;&#x50A8;&#xFF0C;&#x7531;&#x4E8E;&#x9700;&#x8981;&#x670D;&#x52A1;<code>HDFS</code>&#xFF0C;&#x81EA;&#x7136;&#x5B83;&#x4E5F;&#x662F;&#x5206;&#x5E03;&#x5F0F;&#x7684;&#xFF0C;&#x5E76;&#x4E14;&#x662F;&#x4E00;&#x79CD; <strong>&#x5217;&#x5F0F;&#x7684;&#x5206;&#x5E03;&#x6570;&#x636E;&#x5E93;</strong> &#xFF0C;&#x6700;&#x65E9;&#x7531;Goolge&#x7684;BigTable&#x8BBA;&#x6587;&#x4E2D;&#x63D0;&#x51FA;&#x3002;&#x867D;&#x7136;&#x4F9D;&#x6258;&#x4E8E;HDFS&#x5F88;&#x5BB9;&#x6613;&#x8BA9;&#x4EBA;&#x60F3;&#x8D77;&#x53E6;&#x4E00;&#x4E2A;&#x7ED3;&#x6784;&#x6570;&#x636E;&#x5DE5;&#x5177;<code>Hive</code>&#xFF0C;&#x4F46;&#x4E8C;&#x8005;&#x7684;&#x533A;&#x522B;&#x548C;&#x8BBE;&#x8BA1;&#x76EE;&#x7684;&#x662F;&#x4E0D;&#x540C;&#x7684;&#xFF0C;&#x5728;&#x751F;&#x6001;&#x4E2D;&#x7684;&#x6240;&#x5904;&#x4F4D;&#x7F6E;&#x4E5F;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x8FD9;&#x4E00;&#x70B9;&#x5728;<code>Hive&#x521D;&#x63A2;</code>&#x6587;&#x7AE0;&#x4E2D;&#x6709;&#x6240;&#x63A2;&#x8BA8;&#xFF0C;&#x603B;&#x4F53;&#x6765;&#x8BF4;&#xFF0C;Hive&#x662F;MepReduce&#x5C42;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x800C;Hbase&#x662F;&#x5728;&#x7ED3;&#x6784;&#x5316;&#x5B58;&#x50A8;&#x5C42;&#xFF0C;&#x76F4;&#x63A5;&#x8FDE;&#x63A5;hdfs&#xFF0C;&#x8FD8;&#x6709;&#x8BF8;&#x5982;&#xFF1A;</p>
<ul>
<li>Hive&#x5E76;&#x4E0D;&#x9002;&#x7528;&#x4E8E;&#x5B9E;&#x65F6;&#x6570;&#x636E;&#x67E5;&#x8BE2;&#x5904;&#x7406;&#xFF0C;&#x800C;&#x8FD9;&#x662F;HBase&#x7684;&#x5F3A;&#x9879;</li>
<li>Hive&#x90E8;&#x7F72;&#x4E0D;&#x4F9D;&#x6258;Zookeeper&#xFF0C;&#x800C;HBase&#x9700;&#x8981;</li>
<li>Hive&#x7684;&#x4EA4;&#x4E92;&#x6709;SQL&#xFF0C;&#x800C;HBase&#x4E0D;&#x76F4;&#x63A5;&#x63D0;&#x4F9B;            </li>
</ul>
<p>&#x76F8;&#x5BF9;&#x4E8E;Hive&#x7684;&#x6BD4;&#x8F83;&#xFF0C;&#x66F4;&#x6709;&#x8DA3;&#x7684;&#x662F;HBase&#x6839;&#x4F20;&#x7EDF;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x6BD4;&#x5982;mySQL&#x8FD9;&#x6837;&#x7684;&#x884C;&#x5F0F;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4E0D;&#x540C;</p>
<p>HBase&#x89E3;&#x51B3;&#x4E86;&#x90A3;&#x4E9B;HDFS&#x7684;&#x95EE;&#x9898;&#x5462;&#xFF1F;HDFS&#x672C;&#x8EAB;&#x5C31;&#x62E5;&#x6709;&#x826F;&#x597D;&#x7684;&#x5BB9;&#x9519;&#x548C;&#x6269;&#x5C55;&#x6027;&#xFF0C;&#x5E38;&#x5E38;&#x88AB;&#x6269;&#x5C55;&#x5230;&#x4E0A;&#x767E;&#x8282;&#x70B9;&#xFF0C;&#x4F46;&#x4ECD;&#x7136;&#x5B58;&#x5728;&#x7740;&#x4F5C;&#x4E3A;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x76F8;&#x8F83;&#x4E8E;&#x7ED3;&#x6784;&#x5316;&#x5B58;&#x50A8;&#x7CFB;&#x7EDF;&#x56FA;&#x6709;&#x7684;&#x5929;&#x7136;&#x52A3;&#x52BF;&#xFF1A;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x53EA;&#x5173;&#x5FC3;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x6570;&#x636E;&#xFF0C;&#x60F3;&#x5BF9;&#x90E8;&#x5206;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x53EA;&#x80FD;&#x901A;&#x8FC7;&#x5BF9;&#x6574;&#x4E2A;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x626B;&#x63CF;&#x6765;&#x5B9E;&#x73B0;&#xFF0C;&#x6240;&#x4EE5;HDFS&#xFF1A;</p>
<ul>
<li>&#x4E0D;&#x652F;&#x6301;&#x6570;&#x636E;&#x67E5;&#x627E;</li>
<li>&#x4E0D;&#x9002;&#x5408;&#x589E;&#x91CF;&#x5F0F;&#x6570;&#x636E;&#x5904;&#x7406;</li>
<li>&#x4E0D;&#x652F;&#x6301;&#x6570;&#x636E;&#x66F4;&#x65B0;</li>
</ul>
<p>&#x5982;&#x679C;&#x662F;&#x5355;&#x7EAF;&#x7684;&#x79BB;&#x7EBF;&#x5B58;&#x50A8;&#x4E5F;&#x5C31;&#x7F62;&#x4E86;&#xFF0C;&#x4F46;&#x73B0;&#x5B9E;&#x5F80;&#x5F80;&#x6709;&#x5B9E;&#x65F6;&#x6027;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x6240;&#x4EE5;&#x624D;&#x6709;&#x4E86;HBase&#x5BF9;HDFS&#x7684;&#x8865;&#x5145;&#xFF0C;HBase&#x53EF;&#x4EE5;&#x652F;&#x6301;&#xFF1A;<code>&#x63D2;&#x5165;&#xFF0F;&#x5220;&#x9664;&#xFF0F;&#x67E5;&#x8BE2;</code>&#x7B49;&#x5355;&#x6761;/&#x90E8;&#x5206;&#x6570;&#x636E;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x4FBF;&#x4E8E;&#x9AD8;&#x6548;&#x8FC7;&#x6EE4;&#x548C;&#x8BFB;&#x5199;&#x6570;&#x636E;</p>
<p>&#x4E5F;&#x6B63;&#x662F;&#x7531;&#x4E8E;&#x5176;&#x8BBE;&#x8BA1;&#x76EE;&#x7684;&#x9650;&#x5236;&#xFF0C;&#x8BA9;HBase&#x62E5;&#x6709;&#x4E86;&#x4E00;&#x4E9B;&#x8DDF;&#x4F20;&#x7EDF;&#x6570;&#x636E;&#x5E93;&#x5B8C;&#x5168;&#x4E0D;&#x540C;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x5217;&#x5F0F;&#x65E0;&#x6A21;&#x5F0F;&#x7A00;&#x758F;&#x7684;&#x6570;&#x636E;&#x7EC4;&#x7EC7;&#x65B9;&#x5F0F;&#x3002;</p>
<h3 id="&#x5217;&#x5F0F;-&#x56E0;&#x5439;&#x6B7B;&#x505C;"><a href="#&#x5217;&#x5F0F;&#xFF1F;-&#x1F914;&#x56E0;&#x5439;&#x6B7B;&#x505C;" class="headerlink" title="&#x5217;&#x5F0F;&#xFF1F; &#x1F914;&#x56E0;&#x5439;&#x6B7B;&#x505C;"></a>&#x5217;&#x5F0F;&#xFF1F; &#x1F914;&#x56E0;&#x5439;&#x6B7B;&#x505C;</h3><p> &#x5148;&#x6765;&#x770B;&#x770B;&#x4E00;&#x7EC4;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x5728;&#x4F20;&#x7EDF;RDBMS&#x4E2D;&#x5982;mySQL&#x662F;&#x8FD9;&#x6837;&#x5B58;&#x50A8;&#x7684;&#xFF1A;<br>|  id  |   name   | nickName | password |   time   |<br>| :&#x2013;: | :&#x2014;&#x2014;: | :&#x2014;&#x2014;: | :&#x2014;&#x2014;: |:&#x2014;&#x2014;:  |<br>| 001  | zhangsan |   zzss   |  p11zzz  | 20161212 |<br>| 002  |   lisi   |   lsls   |  333lll  | 20161213 |</p>
<p>&#x6BCF;&#x4E00;&#x884C;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x6570;&#x636E;&#x5355;&#x5143;&#xFF0C;&#x6BCF;&#x4E00;&#x5217;&#x5BF9;&#x5E94;&#x4E8E;&#x90FD;&#x662F;&#x4E00;&#x4E2A;&#x5177;&#x4F53;&#x6570;&#x636E;&#x3002;&#x4F46;&#x662F;&#x5728;&#x6CA1;&#x6709;&#x5EFA;&#x7ACB;&#x7D22;&#x5F15;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8BFB;&#x53D6;&#x6574;&#x884C;&#xFF0C;&#x5728;&#x904D;&#x5386;&#x67E5;&#x627E;&#x6570;&#x636E;&#xFF0C;&#x4F1A;&#x4ED8;&#x51FA;&#x5DE8;&#x5927;IO&#xFF1B;&#x800C;&#x7D22;&#x5F15;&#x548C;&#x89C6;&#x56FE;&#x7684;&#x5EFA;&#x7ACB;&#xFF0C;&#x4ED8;&#x51FA;&#x7684;IO&#x548C;&#x6027;&#x80FD;&#x4E5F;&#x4E0D;&#x5BB9;&#x5FFD;&#x89C6;&#xFF1B;&#x6700;&#x91CD;&#x8981;&#x7684;&#x662F;&#x4E3A;&#x6EE1;&#x8DB3;&#x591A;&#x6837;&#x7684;&#x67E5;&#x8BE2;&#x9700;&#x6C42;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x8981;&#x4E0D;&#x53EF;&#x907F;&#x514D;&#x7684;&#x5927;&#x91CF;&#x6269;&#x5927;&#x81A8;&#x80C0;&#xFF0C;&#x624D;&#x80FD;&#x6EE1;&#x8DB3;&#x6027;&#x80FD;&#x9700;&#x6C42;&#x3002;&#x800C;&#x8FD9;&#x4E9B;&#x95EE;&#x9898;HBase&#x662F;&#x600E;&#x6837;&#x5904;&#x7406;&#x7684;&#x5462;&#xFF0C;&#x5982;&#x679C;&#x4E0A;&#x8FF0;&#x6570;&#x636E;&#x5728;HBase&#x4E2D;&#x662F;&#x600E;&#x6837;&#x5B58;&#x50A8;&#x7684;&#x5462;&#xFF1F;</p>
<h3 id="&#x6570;&#x636E;&#x6A21;&#x578B;"><a href="#&#x6570;&#x636E;&#x6A21;&#x578B;" class="headerlink" title="&#x6570;&#x636E;&#x6A21;&#x578B;"></a>&#x6570;&#x636E;&#x6A21;&#x578B;</h3><table style="border: 1px solid #9a9a9a"><br>  <tr><br>    <th>RowKey</th><br>    <th>Value (CF Qualifier Version)</th><br>  </tr><br>  <tr><br>    <td rowspan="2">001</td><br>    <td>name{&#x201C;real&#x201D;: &#x201C;zhangshan&#x201D;, &#x201C;nick&#x201D; : &#x201C;zzss&#x201D; }</td><br>  </tr><br>  <tr><br>    <td>info{&#x201C;pwd&#x201D; : &#x201C;333lll&#x201D;}</td><br>  </tr><br>   <tr><br>    <td rowspan="2">001</td><br>    <td>name{&#x201C;real&#x201D;: &#x201C;lishi&#x201D;, &#x201C;nick&#x201D; : &#x201C;lsls&#x201D; }</td><br>  </tr><br>  <tr><br>    <td>info{&#x201C;pwd&#x201D; : &#x201C;333lll&#x201D;}</td><br>  </tr><br></table>


<table>
<thead>
<tr>
<th style="text-align:center">RowKey</th>
<th style="text-align:center">CF:Column-Key</th>
<th style="text-align:center">Timestamp</th>
<th style="text-align:center">CellValue</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">001</td>
<td style="text-align:center">name:real</td>
<td style="text-align:center">123456789</td>
<td style="text-align:center">zhangsan</td>
</tr>
<tr>
<td style="text-align:center">001</td>
<td style="text-align:center">name:nick</td>
<td style="text-align:center">123456789</td>
<td style="text-align:center">zzss</td>
</tr>
<tr>
<td style="text-align:center">002</td>
<td style="text-align:center">name:real</td>
<td style="text-align:center">123456789</td>
<td style="text-align:center">lishi</td>
</tr>
<tr>
<td style="text-align:center">002</td>
<td style="text-align:center">name:nick</td>
<td style="text-align:center">123456789</td>
<td style="text-align:center">lsls</td>
</tr>
<tr>
<td style="text-align:center">001</td>
<td style="text-align:center">info:pwd</td>
<td style="text-align:center">123456789</td>
<td style="text-align:center">p11zzz</td>
</tr>
<tr>
<td style="text-align:center">002</td>
<td style="text-align:center">info:pwd</td>
<td style="text-align:center">123456789</td>
<td style="text-align:center">333lll</td>
</tr>
</tbody>
</table>
<p>&#x4E0A;&#x8FF0;&#x662F;&#x4E00;&#x4E2A;&#x4E00;&#x79CD;&#x7269;&#x7406;&#x5B58;&#x50A8;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x4E0D;&#x592A;&#x5BB9;&#x6613;&#x770B;&#x660E;&#x767D;&#xFF0C;&#x5982;&#x679C;&#x8868;&#x8FF0;&#x4E3A;&#x903B;&#x8F91;&#x5B58;&#x50A8;&#x5F62;&#x5F0F;&#xFF1A;</p>
<p>&#x4ECE;&#x4E0A;&#x8FF0;&#x7684;&#x7269;&#x7406;&#x548C;&#x903B;&#x8F91;&#x6392;&#x5E03;&#x4E2D;&#xFF0C;&#x80FD;&#x770B;&#x51FA;&#x5728;HBase&#x4E2D;&#xFF1A;<br>&#x53EA;&#x6709;&#x4E00;&#x4E2D;&#x7D22;&#x5F15;&#x6807;&#x8BC6;&#x90A3;&#x5C31;&#x662F;<code>RowKey</code>&#xFF0C;</p>
<p>&#x4F20;&#x7EDF;&#x884C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x95EE;&#x9898; </p>
<h3 id="&#x6784;&#x67B6;&#x4E3A;&#x4EC0;&#x4E48;&#x80FD;&#x505A;&#x5230;&#x5B9E;&#x65F6;"><a href="#&#x6784;&#x67B6;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x80FD;&#x505A;&#x5230;&#x5B9E;&#x65F6;&#xFF1F;" class="headerlink" title="&#x6784;&#x67B6;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x80FD;&#x505A;&#x5230;&#x5B9E;&#x65F6;&#xFF1F;"></a>&#x6784;&#x67B6;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x80FD;&#x505A;&#x5230;&#x5B9E;&#x65F6;&#xFF1F;</h3><ul>
<li>&#x9884;&#x5199;&#x5165;&#x65E5;&#x5FD7;&#xFF1A;<code>WALs</code></li>
</ul>
<h3 id="hdfs&#x7684;&#x7269;&#x7406;&#x76EE;&#x5F55;&#x7ED3;&#x6784;"><a href="#HDFS&#x7684;&#x7269;&#x7406;&#x76EE;&#x5F55;&#x7ED3;&#x6784;" class="headerlink" title="HDFS&#x7684;&#x7269;&#x7406;&#x76EE;&#x5F55;&#x7ED3;&#x6784;"></a>HDFS&#x7684;&#x7269;&#x7406;&#x76EE;&#x5F55;&#x7ED3;&#x6784;</h3><p>&#x5728;Hbase&#x7684;&#x8BBE;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x5177;&#x4F53;&#x8BBE;&#x7F6E;&#xFF1A;<br><code>&lt;name&gt;hbase.rootdir&lt;/name&gt;</code></p>
<h3 id="&#x5E38;&#x89C1;&#x64CD;&#x4F5C;"><a href="#&#x5E38;&#x89C1;&#x64CD;&#x4F5C;" class="headerlink" title="&#x5E38;&#x89C1;&#x64CD;&#x4F5C;"></a>&#x5E38;&#x89C1;&#x64CD;&#x4F5C;</h3><ul>
<li><p>2&#x79CD;&#x65B9;&#x5F0F;</p>
<ul>
<li>JDBC API</li>
<li>CLI</li>
</ul>
</li>
<li><p>&#x8BFB;hdfs</p>
</li>
<li>&#x589E;</li>
<li>&#x5220;</li>
<li>&#x67E5;</li>
<li>&#x6539;</li>
<li>&#x5199;hdfs</li>
</ul>
<h3 id="&#x6838;&#x5FC3;&#x4F7F;&#x7528;"><a href="#&#x6838;&#x5FC3;&#x4F7F;&#x7528;" class="headerlink" title="&#x6838;&#x5FC3;&#x4F7F;&#x7528;"></a>&#x6838;&#x5FC3;&#x4F7F;&#x7528;</h3><ul>
<li>&#x70ED;&#x70B9;&#x95EE;&#x9898;&#xFF1A;&#x5BA2;&#x6237;&#x70B9;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x96C6;&#x7FA4;&#x5C11;&#x6570;&#x8282;&#x70B9;&#xFF0C;&#x5BFC;&#x81F4;&#x8282;&#x70B9;&#x673A;&#x5668;&#x8D85;&#x8F7D;&#xFF0C;&#x6027;&#x80FD;&#x4E0B;&#x964D;&#x751A;&#x81F3;region&#x4E0D;&#x53EF;&#x7528;&#xFF0C;&#x4ECE;&#x800C;&#x5F71;&#x54CD;&#x540C;RegionServer&#x4E0B;&#x7684;&#x5176;&#x4ED6;region</li>
<li>rowKey&#x7684;&#x8BBE;&#x8BA1;</li>
<li>&#x7A84;&#x8868;&#x548C;&#x5BBD;&#x8868;</li>
<li>&#x8D1F;&#x8F7D;&#x5747;&#x8861;</li>
</ul>
<h3 id="&#x4E00;&#x4E2A;&#x6848;&#x4F8B;"><a href="#&#x4E00;&#x4E2A;&#x6848;&#x4F8B;" class="headerlink" title="&#x4E00;&#x4E2A;&#x6848;&#x4F8B;"></a>&#x4E00;&#x4E2A;&#x6848;&#x4F8B;</h3>
      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/04/09/jQuery拾遗之动画/"><span>jQuery拾遗之动画</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/04/09/jQuery拾遗之动画/" rel="bookmark">
        <time class="entry-date published" datetime="2017-04-09T14:19:40.000Z">
          2017-04-09
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>jQuery&#x4E2D;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E9B;&#x5E38;&#x7528;&#x7684;&#x52A8;&#x753B;&#xFF0C;&#x62DC;&#x5F3A;&#x52BF;&#x7684;PM&#x548C;UX&#x6240;&#x8D50;&#xFF0C;&#x5728;&#x4ED6;&#x4EEC;&#x5A01;&#x903C;&#x5229;&#x8BF1;&#x4E4B;&#x4E0B;&#x4E5F;&#x8BA9;&#x6211;&#x9010;&#x6E10;&#x719F;&#x6089;&#x4E86;jQuery&#x52A8;&#x753B;&#x7684;&#x67D0;&#x4E9B;&#x7528;&#x6CD5;&#x3002;</p>
<p>&#x5728;&#x5177;&#x4F53;&#x8BF4;&#x4E4B;&#x524D;&#xFF0C;&#x4E0D;&#x59A8;&#x5148;&#x6765;&#x731C;&#x6D4B;&#x4E00;&#x4E0B;&#xFF0C;&#x5982;&#x679C;&#x8BA9;&#x6211;&#x81EA;&#x5DF1;&#x9020;&#x4E00;&#x4E2A;&#x4E13;&#x95E8;&#x7684;Animation&#x7684;&#x8F6E;&#x5B50;&#xFF0C;&#x6211;&#x60F3;&#x81F3;&#x5C11;&#x8981;&#x6EE1;&#x8DB3;&#x4E00;&#x4E0B;&#x529F;&#x80FD;&#xFF1A;<br>1 &#x7B80;&#x5355;&#x7684;&#x5E38;&#x7528;&#x52A8;&#x753B;&#xFF0C;&#x8981;&#x8DB3;&#x591F;&#x7B80;&#x5355;&#x2013;&#x5982;hide&#xFF0C;show&#xFF0C;toggle&#x2026;<br>2 &#x80FD;&#x5BF9;&#x7B80;&#x5355;&#x7684;&#x52A8;&#x753B;&#x8FDB;&#x884C;&#x7EC4;&#x5408;&#xFF0C;&#x7EC4;&#x5408;&#x51FA;&#x6BD4;&#x8F83;&#x590D;&#x6742;&#x7684;&#x52A8;&#x753B;&#xFF0C;&#x5E76;&#x4E14;&#x5BF9;&#x6574;&#x4E2A;&#x52A8;&#x753B;&#x6267;&#x884C;&#x7684;&#x5404;&#x4E2A;&#x5173;&#x952E;&#x5E27;&#xFF0C;&#x8981;&#x80FD;&#x63A7;&#x5236;&#x548C;&#x622A;&#x65AD;&#x52A8;&#x753B;&#x7B49;&#x64CD;&#x4F5C;<br>3 &#x9700;&#x8981;&#x4E00;&#x4E2A;&#x4EE3;&#x5B8C;&#x6574;&#x53C2;&#x6570;&#x7684;&#x4EFF;&#x5C04;&#x53D8;&#x6362;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x5C31;&#x50CF;cocoa&#x4E2D;&#x7684;<code>CGAffineTransform</code>&#x4E00;&#x6837;&#xFF1A;<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">CGAffineTransform</span> </span>{</span><br><span class="line">    <span class="type">CGFloat</span> a, b, <span class="built_in">c</span>, d;</span><br><span class="line">    <span class="type">CGFloat</span> tx, ty;</span><br><span class="line">};</span><br></pre></td></tr></table></figure></p>
<p>&#x5E76;&#x4E14;&#x8981;&#x6620;&#x5C04;&#x6210;<code>CSS</code>    </p>
<p>&#x5982;&#x679C;&#x4E0A;&#x8FF0;&#x8FD9;&#x4E9B;&#x57FA;&#x672C;&#x9700;&#x6C42;&#x80FD;&#x6EE1;&#x8DB3;&#xFF0C;&#x90A3;&#x4E48;&#x57FA;&#x672C;&#x4E0A;&#x8FD9;&#x4E2A;&#x5730;&#x7403;&#x4E0A;&#x5B58;&#x5728;&#x7684;&#x80FD;&#x60F3;&#x5230;&#x7684;&#x52A8;&#x753B;&#x90FD;&#x57FA;&#x672C;&#x80FD;&#x5B9E;&#x73B0;&#xFF0C;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x4E0A;&#x7531;&#x4E8E;&#x5E27;&#x52A8;&#x753B;&#x548C;&#x7EC4;&#x5408;&#x52A8;&#x753B;&#x7684;&#x8981;&#x6C42;&#xFF0C;&#x81EA;&#x7136;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x7EDF;&#x4E00;&#x7684;&#x52A8;&#x753B;&#x961F;&#x5217;&#xFF0C;&#x751A;&#x81F3;&#x662F;&#x52A8;&#x753B;&#x7F13;&#x5B58;&#x6C60;&#xFF0C;&#x8981;&#x4EE5;&#x5BF9;&#x5404;&#x4E2A;&#x52A8;&#x753B;&#x751F;&#x547D;&#x5468;&#x671F;&#x7684;&#x63A7;&#x5236;</p>
<p>&#x4E8B;&#x5B9E;&#x4E0A;jQuery&#x8BBE;&#x8BA1;&#x8005;&#x4EEC;&#x90FD;&#x4E0D;&#x662F;&#x5403;&#x7D20;&#x7684;&#xFF0C;&#x4ED6;&#x4EEC;&#x4E3A;&#x5176;&#x63D0;&#x4F9B;&#x4E86;&#x8FDC;&#x8D85;&#x4E0A;&#x4EE5;&#x4E0A;&#x9700;&#x6C42;&#x7684;&#x52A8;&#x753B;API&#xFF0C;&#x53EA;&#x662F;&#x5F88;&#x591A;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x6CA1;&#x6709;&#x53BB;&#x4ED4;&#x7EC6;&#x7814;&#x7A76;&#x7F62;&#x4E86;</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/04/06/js组件化演进探讨-从简单的封装说起/"><span>js组件化演进探讨-从简单的封装说起</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/04/06/js组件化演进探讨-从简单的封装说起/" rel="bookmark">
        <time class="entry-date published" datetime="2017-04-06T01:22:41.000Z">
          2017-04-06
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h3 id="&#x5148;&#x4ECE;&#x4E00;&#x4E2A;slideshow&#x7684;&#x5C01;&#x88C5;&#x8BF4;&#x53BB;"><a href="#&#x5148;&#x4ECE;&#x4E00;&#x4E2A;slideShow&#x7684;&#x5C01;&#x88C5;&#x8BF4;&#x53BB;" class="headerlink" title="&#x5148;&#x4ECE;&#x4E00;&#x4E2A;slideShow&#x7684;&#x5C01;&#x88C5;&#x8BF4;&#x53BB;"></a>&#x5148;&#x4ECE;&#x4E00;&#x4E2A;slideShow&#x7684;&#x5C01;&#x88C5;&#x8BF4;&#x53BB;</h3><p>&#x5728;&#x524D;&#x7AEF;&#x867D;&#x8BF4;&#x5DF2;&#x7ECF;&#x6709;&#x4E86;&#x4E00;&#x4E9B;&#x5F88;&#x6210;&#x719F;&#x7684;UI&#x5E93;&#xFF0C;&#x4F46;&#x662F;&#x5BF9;&#x4E8E;&#x6211;&#x8FD9;&#x4E2A;&#x6709;&#x8FC7;&#x5BA2;&#x6237;&#x7AEF;&#x5F00;&#x53D1;&#x7ECF;&#x9A8C;&#x7684;&#x4EBA;&#x603B;&#x662F;&#x5FCD;&#x4E0D;&#x4F4F;&#x4F1A;&#x5BF9;&#x4E00;&#x4E9B;&#x5E38;&#x89C1;&#x7684;&#x7EC4;&#x5EFA;&#x8FDB;&#x884C;&#x81EA;&#x4EE5;&#x4E3A;&#x662F;&#x7684;&#x5C01;&#x88C5;&#xFF0C;&#x603B;&#x60F3;&#x7740;&#x5411;MFC&#xFF0C;Cocoa&#x90A3;&#x6837;&#x5B8C;&#x5168;&#x7EC4;&#x4EF6;&#x5316;&#x7684;&#x5F00;&#x53D1;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x9488;&#x5BF9;&#x4E8E;UI&#x5C42;&#x7EA7;&#xFF0C;&#x4F46;&#x662F;&#x8003;&#x8651;&#x5230;&#x524D;&#x7AEF;&#x7684;&#x7279;&#x6B8A;&#x6027;&#xFF0C;&#x8FD9;&#x4E24;&#x79CD;&#x5C01;&#x88C5;&#x601D;&#x8DEF;&#x6709;&#x65F6;&#x5019;&#x5E76;&#x4E0D;&#x7ECF;&#x76F8;&#x540C;&#xFF0C;&#x6240;&#x4EE5;&#x60F3;&#x501F;&#x7740;&#x4E00;&#x4E2A;&#x8F6E;&#x64AD;slide&#x7684;Demo&#xFF0C;&#x6D45;&#x663E;&#x7684;&#x68B3;&#x7406;&#x4E00;&#x4E0B;&#x3002;</p>
<p>&#x76F4;&#x63A5;&#x4ECE;&#x6700;&#x5173;&#x952E;&#x7684;&#x63A5;&#x53E3;&#x8BBE;&#x8BA1;&#x5165;&#x624B;&#xFF1A;&#x4E8E;&#x5BA2;&#x6237;&#x7AEF;&#x5C01;&#x88C5;&#x76F8;&#x6BD4;&#xFF0C;&#x524D;&#x7AEF;&#x7684;&#x7EC4;&#x4EF6;&#x53EF;&#x4EE5;&#x5168;&#x90E8;js&#x5316;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;html&#x5B9E;&#x73B0;&#xFF0C;&#x66F4;&#x591A;&#x7684;&#x662F;&#x4E8C;&#x8005;&#x517C;&#x800C;&#x6709;&#x4E4B;&#xFF0C;&#x800C;&#x5BA2;&#x6237;&#x7AEF;&#x5E73;&#x53F0;&#x5F80;&#x5F80;&#x53EA;&#x9700;&#x8981;&#x7BA1;&#x7406;&#x597D;&#x63A5;&#x53E3;API&#x6743;&#x9650;&#x548C;&#x53C2;&#x6570;&#xFF0C;&#x6CA1;&#x6709;&#x8FD9;&#x79CD;&#x9009;&#x62E9;&#x6027;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x6BD4;&#x5982;&#x5728;&#x672C;&#x4F8B;&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">scr</span>=<span class="string">&apos;slideShow.js&apos;</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&apos;slideShow&apos;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>&#x4EC5;&#x4EC5;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;div&#x501F;&#x52A9;js&#x6765;&#x5B9E;&#x73B0;,&#x81F3;&#x4E8E;&#x8F6E;&#x64AD;&#x7684;&#x56FE;&#x50CF;&#x6570;&#x636E;&#xFF0C;&#x4EE5;&#x53CA;&#x5176;&#x4ED6;&#x5143;&#x7D20;&#x5168;&#x90E8;&#x901A;&#x8FC7;js&#x6765;&#x6DFB;&#x52A0;&#xFF0C;&#x770B;&#x8D77;&#x6765;&#x5F88;&#x7F8E;&#x5999;:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$.fn.slide = <span class="function"><span class="keyword">function</span>(<span class="params">opt</span>) </span>{</span><br><span class="line">    <span class="comment">// &#x521B;&#x5EFA;5&#x4E2A;img</span></span><br><span class="line">    <span class="comment">// img&#x8BBE;&#x7F6E;&#x6837;&#x5F0F;&#xFF0C;src&#x7B49;&#x7B49;</span></span><br><span class="line">    <span class="comment">// img&#x5305;&#x88F9;&#x4E2A;&#x51E0;&#x5C42;</span></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6307;&#x793A;&#x5668; </span></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x521B;&#x5EFA;next&#xFF0F;pre btn&#x7B49;&#x7B49;</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x8C03;&#x7528;</span></span><br><span class="line">$(<span class="string">&apos;.slideShow&apos;</span>).slide({</span><br><span class="line">    width: <span class="number">300</span>px;</span><br><span class="line">    height: <span class="number">200</span>px;</span><br><span class="line">    numOfCell: <span class="number">5</span>;</span><br><span class="line">    auto: <span class="literal">true</span>;</span><br><span class="line">    ...</span><br><span class="line">})</span><br></pre></td></tr></table></figure></p>
<p>&#x4E5F;&#x53EF;&#x5728;&#x66F4;&#x591A;html&#x7684;&#x57FA;&#x7840;&#x4E0A;&#xFF0C;&#x5982;&#xFF1A;<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&apos;banner slideShow&apos;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&apos;picCell&apos;</span> <span class="attr">scr</span>=<span class="string">&apos;http://001.png&apos;</span>&gt;</span><span class="tag">&lt;/<span class="name">img</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&apos;picCell&apos;</span> <span class="attr">scr</span>=<span class="string">&apos;http://001.png&apos;</span>&gt;</span><span class="tag">&lt;/<span class="name">img</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&apos;picCell&apos;</span> <span class="attr">scr</span>=<span class="string">&apos;http://001.png&apos;</span>&gt;</span><span class="tag">&lt;/<span class="name">img</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&apos;picCell&apos;</span> <span class="attr">scr</span>=<span class="string">&apos;http://001.png&apos;</span>&gt;</span><span class="tag">&lt;/<span class="name">img</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&apos;picCell&apos;</span> <span class="attr">scr</span>=<span class="string">&apos;http://001.png&apos;</span>&gt;</span><span class="tag">&lt;/<span class="name">img</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>&#x8FD9;&#x4E00;&#x79CD;&#x660E;&#x663E;&#x7ED9;&#x4E86;&#x66F4;&#x591A;&#x7684;html&#x5185;&#x5BB9;&#xFF0C;&#x7279;&#x522B;&#x662F;img&#x5143;&#x7D20;&#x6837;&#x5F0F;&#x7684;&#x5355;&#x72EC;&#x5206;&#x7C7B;,&#x8BA9;&#x53D8;&#x52A8;&#x66F4;&#x52A0;&#x76F4;&#x63A5;&#xFF0C;&#x770B;&#x8D77;&#x6765;&#x4E5F;&#x8FD8;&#x4E0D;&#x9519;&#xFF0C;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x4F7F;&#x7528;jQuery&#xFF0C;&#x5177;&#x4F53;&#x4F8B;&#x5B50;&#x7684;gits&#xFF1A;<a href="https://github.com/13hoop/sliderShow/blob/master/index.html" target="_blank" rel="external">https://github.com/13hoop/sliderShow/blob/master/index.html</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x8C03;&#x7528;&#x65B9;&#x5F0F;</span></span><br><span class="line">$(<span class="string">&apos;.banner&apos;</span>).slides({</span><br><span class="line">    width: <span class="number">480</span>,</span><br><span class="line">    height: <span class="number">360</span>,</span><br><span class="line">    auto: <span class="literal">true</span></span><br><span class="line">})</span><br></pre></td></tr></table></figure>
<p>&#x4EE5;&#x4E0A;2&#x4E2D;&#x5171;&#x540C;&#x4E4B;&#x5904;&#x90FD;&#x662F;&#x76F4;&#x63A5;&#x5C01;&#x88C5;&#x7684;<code>$.fn</code>&#x4E0A;&#xFF0C;&#x8FD9;&#x6837;&#x8C03;&#x7528;&#x65F6;&#x901A;&#x8FC7;<code>$(&apos;.banner&apos;)</code>&#x8C03;&#x7528;,&#x770B;&#x8D77;&#x6765;&#x7684;&#x786E;&#x662F;&#x5F88;&#x65B9;&#x4FBF;&#xFF0C;&#x4F46;&#x9057;&#x61BE;&#x7684;&#x662F;&#x76F4;&#x63A5;&#x4ECE;&#x662F;&#x5BF9;<code>jQuery</code>&#x7684;&#x6269;&#x5C55;&#xFF0C;&#x4F46;&#x4E00;&#x4E0B;&#x5B50;&#x8BA9;&#x6240;&#x6709;&#x7684;&#x9875;&#x9762;&#x90FD;&#x5177;&#x6709;&#x4E86;sliderShow&#xFF0C;&#x592A;&#x8FC7;&#x7C97;&#x66B4;&#x7684;&#x786C;&#x585E;&#x7ED9;&#x6240;&#x6709;&#x4F9D;&#x8D56;jQuery&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5F88;&#x591A;&#x65F6;&#x5019;&#x662F;&#x6CA1;&#x6709;&#x5FC5;&#x8981;&#x7684;</p>
<h3 id="&#x56F0;&#x60D1;"><a href="#&#x56F0;&#x60D1;-&#x1F616;" class="headerlink" title="&#x56F0;&#x60D1; &#x1F616;"></a>&#x56F0;&#x60D1; &#x1F616;</h3><p>&#x6211;&#x81EA;&#x5DF1;&#x7B2C;&#x4E00;&#x4E2A;&#x5F88;&#x56F0;&#x60D1;&#x7684;&#x95EE;&#x9898;&#x662F;<code>&#x5BF9;&#x4E8E;&#x6837;&#x5F0F;&#x5728;&#x5C01;&#x88C5;&#x4E2D;&#x7684;&#x5904;&#x7406;</code>&#xFF1A;<br>&#x662F;&#x7528;js&#x521B;&#x5EFA;&#x6837;&#x5F0F;&#xFF0C;&#x8FD8;&#x662F;&#x4E0D;&#x4F7F;&#x7528;&#xFF1F;&#x5982;&#x679C;&#x5168;&#x90E8;&#x7528;js&#x4F1A;&#x4E0D;&#x4F1A;&#x5F15;&#x5165;&#x5176;&#x4ED6;&#x95EE;&#x9898;&#xFF0C;&#x6BD4;&#x5982;&#x6709;2&#x4E2A;&#x540C;&#x6837;&#x7684;&#x63A7;&#x4EF6;&#xFF0C;&#x540C;&#x6837;&#x7684;&#x6837;&#x5F0F;&#x8981;js&#x521B;&#x5EFA;2&#x904D;&#xFF0C;&#x6027;&#x80FD;&#x5982;&#x4F55;&#xFF1F;&#x5982;&#x679C;&#x6309;&#x7167;web&#x89C4;&#x8303;&#xFF0C;<code>&#x7ED3;&#x6784;&#x662F;&#x7ED3;&#x6784;&#xFF0C;&#x6837;&#x5F0F;&#x662F;&#x6837;&#x5F0F;</code>&#xFF0C;&#x90A3;&#x5BF9;&#x4E8E;&#x57FA;&#x672C;&#x4E0D;&#x53D8;&#x7684;&#x6837;&#x5F0F;&#x5982;&#x5728;&#x79FB;&#x52A8;&#x7AEF;&#x9875;&#x9762;&#xFF0C;&#x5C82;&#x4E0D;&#x662F;&#x4E0D;&#x80FD;&#x505A;&#x5230;&#x5F00;&#x7BB1;&#x5373;&#x7528;&#xFF1F;&#x5728;&#x7EA0;&#x7ED3;&#x4EE5;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x4E4B;&#x540E;&#xFF0C;&#x5F88;&#x53EF;&#x60B2;&#x7684;&#x53D1;&#x73B0;&#x4E0E;&#x5176;&#x8FD9;&#x6837;&#x778E;&#x60F3;&#xFF0C;&#x4E0D;&#x5982;&#x76F4;&#x63A5;&#x52A8;&#x624B;&#x8BD5;&#x8BD5;&#xFF0C;&#x5C1D;&#x8BD5;&#x51E0;&#x6B21;&#x4E4B;&#x540E;&#xFF0C;&#x4E0D;&#x5F97;&#x4E0D;&#x63A5;&#x53D7;&#x8FD9;&#x6837;&#x7684;&#x7ED3;&#x8BBA;&#xFF1A;&#x6CA1;&#x6709;&#x4E00;&#x4E2A;&#x4E00;&#x52B3;&#x6C38;&#x9038;&#x7684;&#x51C6;&#x5219;&#xFF0C;&#x5177;&#x4F53;&#x63A7;&#x4EF6;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#xFF1F;&#x1F914;&#xFF0C;&#x5B8C;&#x5168;&#x662F;&#x5E9F;&#x8BDD;&#x6839;&#x6CA1;&#x8BF4;&#x4E00;&#x6837;&#x1F602;&#xFF0C;&#x770B;&#x6765;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x53EA;&#x80FD;&#x63A2;&#x8BA8;&#x5230;&#x8FD9;&#x513F;&#x4E86;</p>
<p>&#x63A5;&#x7740;&#x8BF4;&#x5C01;&#x88C5;&#x5F62;&#x5F0F;&#xFF0C;&#x524D;&#x8FB9;&#x662F;&#x5C01;&#x88C5;&#x5230;<code>jQuery&#x7684;fn</code>&#x4E0A;&#xFF0C;&#x5982;&#x679C;&#x501F;&#x52A9;js&#x6A21;&#x62DF;&#x7C7B;&#x7684;&#x5F62;&#x5F0F;&#x5462;&#xFF1F;&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x521B;&#x5EFA;&#x5B9E;&#x4F8B;</span></span><br><span class="line"><span class="keyword">new</span> Banner($(<span class="string">&apos;.banner&apos;</span>), <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line"></span><br><span class="line">})</span><br><span class="line"></span><br><span class="line"><span class="comment">// Banner`&#x7C7B;`</span></span><br><span class="line"><span class="keyword">var</span> Banner = <span class="function"><span class="keyword">function</span>(<span class="params">$target, callback</span>) </span>{</span><br><span class="line">    <span class="keyword">this</span>.$target = $target</span><br><span class="line">    <span class="keyword">this</span>.callback = callback</span><br><span class="line">    <span class="keyword">this</span>.init()</span><br><span class="line">    <span class="keyword">this</span>.bind()</span><br><span class="line">}</span><br><span class="line">Banner.prototype.init = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="comment">// &#x521B;&#x5EFA;5&#x4E2A;img</span></span><br><span class="line">    <span class="comment">// img&#x8BBE;&#x7F6E;&#x6837;&#x5F0F;&#xFF0C;src&#x7B49;&#x7B49;</span></span><br><span class="line">    <span class="comment">// img&#x5305;&#x88F9;&#x4E2A;&#x51E0;&#x5C42;</span></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6307;&#x793A;&#x5668; </span></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x521B;&#x5EFA;next&#xFF0F;pre btn&#x7B49;&#x7B49;</span></span><br><span class="line">}</span><br><span class="line">Banner.prototype.bind = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="comment">// &#x4E8B;&#x4EF6; here</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<p>&#x5F88;&#x65B9;&#x4FBF;&#x7B80;&#x6D01;&#x7684;&#x4EE3;&#x7801;&#x7EC4;&#x7EC7;&#x5F62;&#x5F0F;&#xFF0C;&#x81EA;&#x5DF1;&#x5076;&#x5C14;&#x5199;&#x5199;&#x7B80;&#x5355;&#x57FA;&#x672C;&#x90FD;&#x662F;&#x6309;&#x8FD9;&#x4E2A;&#x5957;&#x8DEF;&#x7684;&#xFF0C;&#x6BD4;&#x5982;&#x4E00;&#x4E2A;&#x61D2;&#x52A0;&#x8F7D;&#x7684;&#x56FE;&#x7247;&#x5899;&#xFF0C;&#x91C7;&#x7528;&#x7C7B;&#x578B;&#x7684;&#x5C01;&#x88C5;&#x4E4B;&#x540E;&#x5C31;&#x662F;&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Explode = <span class="function"><span class="keyword">function</span> (<span class="params">$target, callback</span>) </span>{</span><br><span class="line">    <span class="keyword">this</span>.$target = $target</span><br><span class="line">    <span class="keyword">this</span>.callback = callback</span><br><span class="line">    <span class="keyword">this</span>.check()</span><br><span class="line">    <span class="keyword">this</span>.bind()</span><br><span class="line">}</span><br><span class="line">Explode.prototype.bind = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> _this = <span class="keyword">this</span></span><br><span class="line">    <span class="keyword">var</span> clock <span class="comment">// &#x6A21;&#x62DF;&#x7F51;&#x7EDC;&#x5EF6;&#x4F38;</span></span><br><span class="line">    $(<span class="built_in">window</span>).on(<span class="string">&apos;scroll&apos;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>{</span><br><span class="line">        <span class="keyword">if</span> (clock) {</span><br><span class="line">            clearTimeout(clock)</span><br><span class="line">        }</span><br><span class="line">        clock = setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&apos;hello&apos;</span>)</span><br><span class="line">            _this.check()</span><br><span class="line">        }, <span class="number">100</span>)</span><br><span class="line">    })</span><br><span class="line">}</span><br><span class="line">Explode.prototype.isVisible = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> height_win = $(<span class="built_in">window</span>).height()</span><br><span class="line">    <span class="keyword">var</span> scrolled = $(<span class="built_in">window</span>).scrollTop()</span><br><span class="line">    <span class="keyword">var</span> height = <span class="keyword">this</span>.$target.height()</span><br><span class="line">    <span class="keyword">var</span> offTop = <span class="keyword">this</span>.$target.offset().top</span><br><span class="line">    <span class="keyword">if</span> (height_win + scrolled &gt;= offTop &amp;&amp; offTop + height &gt;scrolled) {</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">Explode.prototype.check = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>.isVisible(<span class="keyword">this</span>.$target)) {</span><br><span class="line">        <span class="keyword">this</span>.callback(<span class="keyword">this</span>.$target)</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">$(<span class="string">&apos;.container img&apos;</span>).each(<span class="function"><span class="keyword">function</span> (<span class="params">k, img</span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> $value = $(img)</span><br><span class="line">    <span class="keyword">new</span> Explode($value, <span class="function"><span class="keyword">function</span> (<span class="params">$target</span>) </span>{</span><br><span class="line">        <span class="keyword">var</span> url = $value.attr(<span class="string">&apos;data-src&apos;</span>)</span><br><span class="line">        <span class="keyword">if</span> ($value.hasClass(<span class="string">&apos;loaded&apos;</span>)) <span class="keyword">return</span></span><br><span class="line">        <span class="built_in">console</span>.log(k + <span class="string">&apos;~~~&apos;</span>)</span><br><span class="line">        $value.attr(<span class="string">&apos;src&apos;</span>, url)</span><br><span class="line">        $value.addClass(<span class="string">&apos;loaded&apos;</span>)</span><br><span class="line">    })</span><br><span class="line">})</span><br></pre></td></tr></table></figure></p>
<h3 id="&#x6700;&#x597D;&#x7684;&#x65B9;&#x5F0F;"><a href="#&#x6700;&#x597D;&#x7684;&#x65B9;&#x5F0F;" class="headerlink" title="&#x6700;&#x597D;&#x7684;&#x65B9;&#x5F0F;"></a>&#x6700;&#x597D;&#x7684;&#x65B9;&#x5F0F;</h3><p>&#x4F46;&#x7F3A;&#x9677;&#x8FD8;&#x662F;&#x6709;&#x7684;&#xFF0C;&#x6700;&#x660E;&#x663E;&#x7684;&#x5C31;&#x662F;&#x6CA1;&#x6709;&#x5B9E;&#x73B0;&#x6743;&#x9650;&#x7BA1;&#x7406;&#xFF0C;&#x66B4;&#x6F0F;&#x4E86;&#x592A;&#x591A;&#xFF0C;&#x4E0D;&#x59A8;&#x518D;&#x6765;&#x4E00;&#x6B21;&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Explode =(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> _Explode = <span class="function"><span class="keyword">function</span> (<span class="params">$target, callback</span>) </span>{</span><br><span class="line">        <span class="keyword">this</span>.$target = $target</span><br><span class="line">        <span class="keyword">this</span>.callback = callback</span><br><span class="line">        <span class="keyword">this</span>.check()</span><br><span class="line">        <span class="keyword">this</span>.bind()</span><br><span class="line">    }</span><br><span class="line">    _Explode.prototype.bind = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="keyword">var</span> _this = <span class="keyword">this</span></span><br><span class="line">        <span class="keyword">var</span> clock <span class="comment">// &#x6A21;&#x62DF;&#x7F51;&#x7EDC;&#x5EF6;&#x4F38;</span></span><br><span class="line">        $(<span class="built_in">window</span>).on(<span class="string">&apos;scroll&apos;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>{</span><br><span class="line">            <span class="keyword">if</span> (clock) {</span><br><span class="line">                clearTimeout(clock)</span><br><span class="line">            }</span><br><span class="line">            clock = setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">&apos;hello&apos;</span>)</span><br><span class="line">                _this.check()</span><br><span class="line">            }, <span class="number">100</span>)</span><br><span class="line">        })</span><br><span class="line">    }</span><br><span class="line">    _Explode.prototype.isVisible = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="keyword">var</span> height_win = $(<span class="built_in">window</span>).height()</span><br><span class="line">        <span class="keyword">var</span> scrolled = $(<span class="built_in">window</span>).scrollTop()</span><br><span class="line">        <span class="keyword">var</span> height = <span class="keyword">this</span>.$target.height()</span><br><span class="line">        <span class="keyword">var</span> offTop = <span class="keyword">this</span>.$target.offset().top</span><br><span class="line">        <span class="keyword">if</span> (height_win + scrolled &gt;= offTop &amp;&amp; offTop + height &gt; scrolled) {</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    _Explode.prototype.check = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.isVisible(<span class="keyword">this</span>.$target)) {</span><br><span class="line">            <span class="keyword">this</span>.callback(<span class="keyword">this</span>.$target)</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> {</span><br><span class="line">        init: <span class="function"><span class="keyword">function</span>(<span class="params">targets, callback</span>) </span>{</span><br><span class="line">            $(targets).each(<span class="function"><span class="keyword">function</span>(<span class="params">idx , target</span>)</span>{</span><br><span class="line">                <span class="keyword">new</span> _Explode($(target), callback) </span><br><span class="line">            })</span><br><span class="line">        },</span><br><span class="line">        <span class="comment">// once: function(targets, callback) {</span></span><br><span class="line">        <span class="comment">//     $(targets).each(function(idx , target){</span></span><br><span class="line">        <span class="comment">//         new _Explode($(target), callback) </span></span><br><span class="line">        <span class="comment">//     })</span></span><br><span class="line">        <span class="comment">// }</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">})()</span><br><span class="line"></span><br><span class="line">Explode.init($(<span class="string">&apos;.container img&apos;</span>), <span class="function"><span class="keyword">function</span>(<span class="params">$elNode</span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> url = $elNode.attr(<span class="string">&apos;data-src&apos;</span>)</span><br><span class="line">    <span class="keyword">if</span> ($elNode.hasClass(<span class="string">&apos;loaded&apos;</span>)) <span class="keyword">return</span></span><br><span class="line">    $elNode.attr(<span class="string">&apos;src&apos;</span>, url)</span><br><span class="line">    $elNode.addClass(<span class="string">&apos;loaded&apos;</span>)</span><br><span class="line">})</span><br></pre></td></tr></table></figure></p>
<p>&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x533F;&#x540D;&#x51FD;&#x6570;&#xFF0C;&#x5B9E;&#x73B0;&#x5BF9;<code>_Explode</code>&#x4EE3;&#x7801;&#x7684;&#x5C01;&#x88C5;&#xFF0C;&#x540C;&#x65F6;&#x501F;&#x52A9;<code>return</code>&#x8FD4;&#x56DE;&#x9700;&#x8981;&#x5BF9;&#x5916;&#x5F00;&#x653E;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5373;&#x6DFB;&#x52A0;&#x4E86;&#x6743;&#x9650;&#x5F00;&#x653E;&#x7BA1;&#x7406;&#xFF0C;&#x53C8;&#x8282;&#x7701;&#x4E86;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#xFF0C;&#x8FD8;&#x5728;&#x8C03;&#x7528;&#x4E0A;&#x83B7;&#x5F97;&#x5F97;&#x4E86;&#x4FBF;&#x5229;&#xFF0C;&#x8FD9;&#x624D;&#x662F;&#x6BD4;&#x8F83;&#x5BB9;&#x6613;&#x63A5;&#x53D7;&#x7684;&#x597D;&#x65B9;&#x6CD5;</p>
<h3 id="&#x603B;&#x7ED3;"><a href="#&#x603B;&#x7ED3;" class="headerlink" title="&#x603B;&#x7ED3;"></a>&#x603B;&#x7ED3;</h3><p>&#x626F;&#x4E86;&#x8FD9;&#x4E48;&#x591A;&#xFF0C;&#x603B;&#x662F;&#x89C9;&#x5F97;&#x5355;&#x5355;&#x63A7;&#x4EF6;&#x7684;&#x5B9E;&#x73B0;&#x5E76;&#x6CA1;&#x6709;&#x600E;&#x6837;&#x7684;&#x96BE;&#x5EA6;&#xFF0C;&#x5728;&#x524D;&#x7AEF;&#x53CD;&#x5012;&#x662F;&#x5BF9;&#x8FD9;&#x4E9B;&#x7A7A;&#x95F4;&#x7AD9;&#x7684;&#x7BA1;&#x7406;&#x624D;&#x662F;&#x4EE4;&#x4EBA;&#x5934;&#x5927;&#x7684;&#xFF0C;&#x597D;&#x5728;&#x73B0;&#x5728;&#x7684;&#x5957;&#x8DEF;&#x57FA;&#x672C;&#x88AB;&#x6478;&#x7D22;&#x51FA;&#x6765;&#x4E86;&#xFF0C;&#x90A3;&#x5C31;&#x662F;&#x6A21;&#x5757;&#x5316;js&#x7684;&#x5F00;&#x53D1;&#x89C4;&#x5219;&#xFF0C;&#x4E0A;&#x8FF0;&#x7684;&#x6700;&#x540E;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x5176;&#x5B9E;&#x5DF2;&#x7ECF;&#x6709;&#x4E00;&#x4E9B;&#x6A21;&#x5757;&#x5316;&#x7684;&#x5F71;&#x5B50;&#x4E86;&#xFF0C;&#x4F46;&#x5E76;&#x4E0D;&#x80FD;&#x5F88;&#x597D;&#x7684;&#x5904;&#x7406;&#x7EC4;&#x5EFA;&#x7684;&#x4F9D;&#x8D56;&#x95EE;&#x9898;&#xFF0C;&#x800C;&#x8FD9;&#x4E9B;&#x5C06;&#x5728;&#x6A21;&#x5757;&#x5316;js&#x4E2D;&#x4E00;&#x5E76;&#x89E3;&#x51B3;&#xFF0C;&#x5177;&#x4F53;&#x4F1A;&#x5728;<code>js&#x6A21;&#x5757;&#x5316;&#x7BA1;&#x7406;&#x7684;&#x63A2;&#x7D22;</code>&#x540E;&#x7EED;&#x6587;&#x7AE0;&#x4E2D;&#x8BA8;&#x8BBA;</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/03/30/vim拾遗/"><span>vim拾遗之- better motion</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/03/30/vim拾遗/" rel="bookmark">
        <time class="entry-date published" datetime="2017-03-30T06:14:23.000Z">
          2017-03-30
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>&#x8D81;&#x7740;&#x540C;&#x4E8B;&#x90A3;&#x513F;&#x501F;&#x6765;&#x300A;Vim&#x4F7F;&#x7528;&#x6280;&#x5DE7;&#x300B;&#x7684;&#x673A;&#x4F1A;&#xFF0C;&#x91CD;&#x65B0;&#x68B3;&#x7406;&#x4E00;&#x4E0B;Vim&#x7684;&#x5E38;&#x89C1;&#x4F7F;&#x7528;&#x6280;&#x5DE7;&#xFF0C;&#x8BB0;&#x5F55;&#x4E8E;&#x6B64;<br>&#x867D;&#x8BF4;Vim&#x5E73;&#x65F6;&#x7528;&#x7684;&#x5F88;&#x591A;&#xFF0C;&#x81EA;&#x8BA4;&#x4E3A;&#x8FD8;&#x662F;&#x6BD4;&#x8F83;&#x719F;&#x7EC3;&#x7684;&#xFF0C;&#x4F46;&#x76F4;&#x5230;&#x770B;&#x5230;&#x8FD9;&#x672C;&#x4E66;&#xFF0C;&#x624D;&#x77E5;&#x9053;&#x539F;&#x6765;&#x81EA;&#x5DF1;&#x7528;&#x4E86;&#x5047;&#x7684;Vim&#xFF0C;&#x5F88;&#x591A;&#x6280;&#x5DE7;&#x6027;&#x7684;&#x7EC4;&#x5408;&#x53EF;&#x4EE5;&#x8BA9;&#x4EBA;&#x8033;&#x76EE;&#x4E00;&#x65B0;&#xFF0C;&#x6548;&#x7387;&#x63D0;&#x9AD8;&#x4E0D;&#x6B62;&#x4E00;&#x500D;&#xFF0C;&#x5C24;&#x5176;&#x8BB0;&#x4F4F;&#x4E66;&#x4E2D;&#x6240;&#x8A00;&#xFF1A;</p>
<blockquote>
<p>&#x5728;Vim&#x4E2D;&#x6240;&#x6709;&#x7684;&#x64CD;&#x4F5C;&#x901A;&#x5E38;&#x90FD;&#x4F1A;&#x6709;&#x66F4;&#x52A0;&#x4FBF;&#x6377;&#x7248;&#x672C;,&#x6BD4;&#x5982;&#x5728;&#x79FB;&#x52A8;&#x5149;&#x6807;&#x65F6;&#xFF0C;&#x4E00;&#x65E6;&#x8FDE;&#x7EED;&#x6309;&#x4E86;2&#x6B21;&#x4EE5;&#x4E0A;&#x7684;<code>h</code>&#xFF0C;&#x90A3;&#x5C31;&#x610F;&#x5473;&#x7740;&#x6D6A;&#x8D39;&#x65F6;&#x95F4;,&#x505C;&#x4E0B;&#x6765;&#x60F3;&#x60F3;&#x80FD;&#x4E0D;&#x80FD;&#x66F4;&#x7B80;&#x5355;</p>
</blockquote>
<p>&#x5F53;&#x7136;&#x6309;&#x4F5C;&#x8005;&#x7684;&#x82DB;&#x523B;&#x6807;&#x51C6;&#x7EDD;&#x5927;&#x591A;&#x6570;&#x6240;&#x8C13;vimer&#x90FD;&#x662F;&#x5984;&#x79F0;&#xFF0C;&#x4F46;&#x8FD9;&#x5E76;&#x4E0D;&#x59A8;&#x788D;&#x6211;&#x4EEC;&#x5BF9;&#x5DE5;&#x5177;&#x7684;&#x7CBE;&#x76CA;&#x6C42;&#x7CBE;&#xFF0C;&#x914D;&#x7F6E;&#x65B9;&#x9762;&#xFF0C;&#x6309;&#x7167;&#x6211;&#x81EA;&#x5DF1;&#x7684;&#x4E60;&#x60EF;&#xFF0C;&#x6709;2&#x70B9;&#x5EFA;&#x8BAE;&#x4F9B;&#x53C2;&#x8003;:<br>1 &#x5728;vim&#x4E2D;&#x901A;&#x5E38;&#x9996;&#x5148;&#x5E9F;&#x5F03;&#x65B9;&#x5411;&#x952E; + delete&#x952E;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x521D;&#x5B66;&#x8005;<br>2 &#x4E2D;&#x6587;&#x8F93;&#x5165;&#x53D1;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x57FA;&#x672C;&#x4E0A;&#x8FD9;&#x662F;&#x4E2A;&#x65E0;&#x89E3;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x80FD;&#x505A;&#x5230;&#x6700;&#x597D;&#x7684;&#x5C31;&#x662F;&#x5F53;&#x4ECE;&#x4E2D;&#x6587;inert&#x4E0B;<code>Esc</code>&#x65F6;&#xFF0C;&#x81EA;&#x52A8;&#x5207;&#x6362;&#x5230;&#x82F1;&#x6587;&#x8F93;&#x5165;&#x6CD5;&#xFF0C;&#x4E0D;&#x8FC7;&#x4E5F;&#x4EC5;&#x4EC5;&#x662F;&#x8FD9;&#x6837;&#x4E86; </p>
<p>&#x5E9F;&#x8BDD;&#x4E0D;&#x591A;&#x8BF4;&#x4E86;&#xFF0C;&#x4E0B;&#x8FB9;&#x5F00;&#x59CB;&#x8BB0;&#x5F55;:</p>
<h3 id="&#x66F4;&#x597D;&#x7684;motion"><a href="#&#x66F4;&#x597D;&#x7684;motion" class="headerlink" title="&#x66F4;&#x597D;&#x7684;motion"></a>&#x66F4;&#x597D;&#x7684;<code>motion</code></h3><ul>
<li>&#x53EA;&#x7528;<code>h/l</code>&#x952E;&#x6765;&#x89E3;&#x51B3;<code>&#x5DEE;&#x4E00;&#x9519;&#x8BEF;(off-by-one error)</code>&#xFF0C;&#x5373;&#x5F53;&#x76EE;&#x6807;&#x5DEE;&#x4E00;&#x4E24;&#x4E2A;&#x5B57;&#x7B26;&#x65F6;&#x624D;&#x53BB;&#x7528;</li>
<li>&#x542F;&#x7528;&#x884C;&#x53F7;&#xFF0C;&#x533A;&#x5206;&#x5B9E;&#x9645;&#x884C;&#x548C;&#x663E;&#x793A;&#x884C;&#xFF0C;&#x6BD5;&#x7ADF;&#x901A;&#x5E38;&#x5927;&#x5BB6;&#x90FD;&#x662F;&#x542F;&#x7528;<code>wrap</code> &#x7684;,&#x6240;&#x4EE5;&#x5728;&#x884C;&#x53F7;&#x7684;&#x8F85;&#x52A9;&#x4E0B;&#x533A;&#x5206;&#x4E8C;&#x8005;&#x5F88;&#x91CD;&#x8981;</li>
<li>&#x540C;&#x884C;&#x591A;&#x884C;&#x663E;&#x793A;&#x4E0B;,&#x79FB;&#x52A8;&#x7528;<code>gj/g^/g$/g0/gk</code>&#x800C;&#x4E0D;&#x662F;<code>j/^/$/0/k</code>&#x6765;&#x64CD;&#x4F5C;&#x663E;&#x793A;&#x884C;</li>
<li>&#x4F7F;&#x7528;<code>w,b,e,ge</code>&#x57FA;&#x4E8E;&#x5355;&#x8BCD;&#x79FB;&#x52A8;&#x66F4;&#x597D;,&#x501F;&#x7528;&#x8FD9;&#x5F20;&#x56FE;&#xFF1A;<br><img src="/img/vimshiyi001.png" alt="&#x57FA;&#x4E8E;&#x5355;&#x8BCD;&#x79FB;&#x52A8;"><br>&#x5E76;&#x4E14;&#x5C06;&#x5E38;&#x89C1;&#x64CD;&#x4F5C;&#x7EC4;&#x5408;&#x8BB0;&#x5FC6;&#xFF0C;&#x5982;<code>cw</code>&#x5C31;&#x548C;<code>change word</code>&#x5F88;&#x8D34;&#x5408;&#xFF0C;<code>ea</code>&#x5C31;&#x662F;&#x6DFB;&#x52A0;&#x5355;&#x8BCD;&#x5C3E;&#x90E8;&#x7B49;</li>
<li><p>&#x6700;&#x597D;&#x7684;&#x79FB;&#x52A8;&#x6C38;&#x8FDC;&#x662F;&#x67E5;&#x627E;       </p>
<ul>
<li><code>; + ,</code>&#x914D;&#x5408;<code>f{char}</code>&#x80FD;&#x51B3;&#x7EDD;99%&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x7279;&#x522B;&#x63D0;&#x9192;<strong> &#x522B;&#x628A;&#x65B9;&#x5411;&#x5B57;&#x7B26;&#x67E5;&#x627E;&#x5F03;&#x4E4B;&#x4E0D;&#x7528; </strong>&#xFF0C;&#x5F53;&#x7136;&#x5982;&#x679C;&#x662F;&#x4E2D;&#x6587;&#x5C31;&#x6B47;&#x83DC;&#x4E86;       </li>
<li><p><code>t{char}</code>&#x548C;<code>d/c</code>&#x5408;&#x7528;&#x66F4;&#x914D;&#x5662; ,eg:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function foo(x: <span class="type">Int</span>, y: int)</span><br><span class="line"><span class="comment">// f,dt)&#x64CD;&#x4F5C;&#x4E4B;&#x540E;,&#x53D8;&#x4E3A;</span></span><br><span class="line">function foo(x: <span class="type">Int</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>v</code> + <code>t/f{char}</code> + <code>d/c/y</code> &#x6BD4;&#x9F20;&#x6807;&#x6258;&#x9009;&#x7CBE;&#x51C6;&#x9AD8;&#x6548;&#x4E00;&#x4E07;&#x500D;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&apos;This phrase takes time but eventually gets to the point&apos;</span>)</span><br><span class="line"><span class="comment">// &#x60F3;&#x5220;&#x9664;&apos;takes time but eventully&apos;,&#x53EF;&#x4EE5;ftvfyd&#x5373;&#x53EF; </span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&apos;This phrase  gets to the point&apos;</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>&#x7ED3;&#x6784;&#x5316;&#x6587;&#x672C;&#x7ED3;&#x6784;&#x5316;&#x5904;&#x7406;&#xFF1A;<br>vim&#x65E2;&#x7136;&#x662F;&#x7801;&#x519C;&#x7684;&#x795E;&#x5668;&#xFF0C;&#x90A3;&#x4E48;&#x5BF9;&#x4E8E;&#x7ED3;&#x6784;&#x5316;&#x6587;&#x672C;&#x5904;&#x7406;&#x80FD;&#x529B;&#x81EA;&#x7136;&#x662F;&#x6CA1;&#x5F97;&#x8BF4;&#xFF0C;&#x53EA;&#x662F;&#x4F7F;&#x7528;&#x5E76;&#x4E0D;&#x4E0D;&#x53CA;&#xFF0C;&#x662F;&#x65F6;&#x5019;&#x5E94;&#x8BE5;&#x4E3B;&#x6CE8;&#x91CD;&#x8FD9;&#x65B9;&#x9762;&#x7684;&#x953B;&#x70BC;&#x4E86;&#x2013; &#x6587;&#x672C;&#x5BF9;&#x8C61;&#x5B57;&#x7B26;&#x7531;2&#x4E2A;&#x5B57;&#x7B26;&#x7EC4;&#x6210;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x6C38;&#x8FDC;&#x662F;<code>i &#x6216;&#x8005; a</code>,&#x901A;&#x5E38;&#x4EE5;<code>i</code>&#x5F00;&#x5934;&#x7684;&#x6587;&#x672C;&#x5BF9;&#x8C61;&#x4F1A;&#x9009;&#x62E9;&#x5206;&#x5272;&#x7B26;&#x5185;&#x90E8;&#x6587;&#x672C;&#xFF0C;&#x800C;&#x5DF2;<code>a</code>&#x5F00;&#x5934;&#x7684;&#x6587;&#x672C;&#x5BF9;&#x8C61;&#x4F1A;&#x5C06;&#x5206;&#x5272;&#x7B26;&#x5305;&#x542B;&#x5728;&#x5185;&#xFF0C;&#x4E3A;&#x4E86;&#x8BB0;&#x5FC6;&#x4E0D;&#x59A8;&#x628A;<code>i</code>&#x8BFB;&#x6210;<code>inside</code>&#xFF0C;<code>a</code>&#x5C31;&#x662F;<code>around/all</code>, eg:<br><img src="/img/vimshiyi002.png" alt="&#x7ED3;&#x6784;&#x5316;&#x6587;&#x672C;&#x7ED3;&#x6784;&#x5316;&#x5904;&#x7406;"><br>&#x719F;&#x7EC3;&#x638C;&#x63E1;vim&#x7ED3;&#x6784;&#x5316;&#x5904;&#x7406;&#x662F;&#x4E00;&#x4E2A;vimer&#x7684;&#x57FA;&#x672C;&#x5185;&#x529F;,&#x7279;&#x522B;&#x662F;&#x5728;&#x524D;&#x7AEF;&#x6216;&#x8005;&#x7B80;&#x5355;&#x7684;&#x811A;&#x672C;&#x8BED;&#x8A00;&#x7F16;&#x7A0B;&#x4E2D;&#xFF0C;&#x4F7F;&#x7528;&#x7684;&#x5C24;&#x5176;&#x591A;&#xFF0C;&#x603B;&#x7ED3;&#x4E00;&#x4E0B;&#x5E38;&#x89C1;&#x5206;&#x5272;&#x7B26;&#x6587;&#x672C;&#x5BF9;&#x8C61;&#x7684;&#x64CD;&#x4F5C;:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a) &#x6216;&#x8005; ab  <span class="comment">// &#x5BF9;&#x5E94;&#xFF08;&#xFF09;</span></span><br><span class="line">i) &#x6216;&#x8005; ib  <span class="comment">// &#x5BF9;&#x5E94;&#xFF08;&#xFF09;&#x5185;&#x90E8;</span></span><br><span class="line">a} &#x6216;&#x8005; aB  <span class="comment">// &#x5BF9;&#x5E94;{}   </span></span><br><span class="line">a&gt; 			<span class="comment">// &#x5BF9;&#x5E94;&lt;&gt;</span></span><br><span class="line">at          <span class="comment">// &#x5BF9;&#x5E94; &#x4E00;&#x5BF9;xml&#x6807;&#x7B7E;</span></span><br><span class="line">it 			<span class="comment">// &#x5BF9;&#x5E94; xml&#x6807;&#x7B7E;&#x5185;&#x90E8;</span></span><br></pre></td></tr></table></figure>
<p>&#x7B2C;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;&#x7279;&#x610F;&#x7ED9;&#x51FA;<code>v</code>&#x53EF;&#x89C6;&#x5316;&#x6A21;&#x5F0F;&#x4E0B;&#x662F;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x89C2;&#x5BDF;&#xFF0C;&#x800C;&#x5728;&#x64CD;&#x4F5C;&#x7B26;&#x5F85;&#x51B3;&#x6A21;&#x5F0F;&#x4E0B;&#x624D;&#x80FD;&#x771F;&#x6B63;&#x5C55;&#x73B0;&#x5176;&#x5F3A;&#x5927;&#x7684;&#x80FD;&#x529B;&#xFF0C;&#x914D;&#x5408;<code>c / d / y</code> + <code>i / a</code> + <code>{char}</code>&#x624D;&#x80FD;&#x8BA9;&#x4F60;&#x952E;&#x7801;&#x9F50;&#x98DE;&#xFF0C;&#x9AD8;&#x6548;&#x5F02;&#x5E38;&#xFF0C;eg&#xFF1A;</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>ABOUT<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &#x5149;&#x6807;&#x542F;&#x793A;&#x5728;#&#xFF0C;ci&quot;&#x4E4B;&#x540E;&#xFF0C;&#x8F93;&#x5165;http://github.com --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://github.com&quot;</span>&gt;</span>ABOUT<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &#x7D27;&#x63A5;&#x7740;&#x8F93;&#x5165;cit &#x52A0;&#x4E0A;  github&#xFF0C;&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#x7F16;&#x8F91;--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://github.com&quot;</span>&gt;</span>github<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>&#x4E0D;&#x5C11;&#x4EBA;&#x90FD;&#x662F;&#x5355;&#x72EC;&#x7684;&#x628A;<code>ci&quot;</code>&#x89E3;&#x8BFB;&#x4E3A;<code>&#x4FEE;&#x6539;&#x53CC;&#x5F15;&#x53F7;&#x5185;&#x90E8;&#x5185;&#x5BB9;</code>&#xFF0C;&#x628A;<code>cit</code>&#x89E3;&#x8BFB;&#x4E3A;<code>&#x4FEE;&#x6539;&#x6807;&#x7B7E;&#x5185;&#x90E8;&#x5185;&#x5BB9;</code>&#xFF0C;&#x540C;&#x6837;<code>dit</code>&#x4E3A;<code>&#x5220;&#x9664;&#x6807;&#x7B7E;&#x5185;&#x90E8;&#x5185;&#x5BB9;</code>&#xFF0C;&#x5176;&#x5B9E;&#x90FD;&#x662F;&#x6587;&#x672C;&#x5316;&#x64CD;&#x4F5C;&#x7684;&#x4EA7;&#x7269;&#xFF0C;&#x5B8C;&#x5168;&#x6CA1;&#x6709;&#x5FC5;&#x8981;&#x53BB;&#x6B7B;&#x8BB0;&#x786C;&#x80CC;</p>
</li>
<li><p>&#x975E;&#x5757;&#x7EA7;&#x95EE;&#x5BF9;&#x5BF9;&#x8C61;&#x7684;&#x64CD;&#x4F5C;&#xFF1A;&#x6309;&#x5355;&#x8BCD;w-word&#xFF0C;&#x6309;&#x53E5;&#x5B50;s-sentence&#xFF0C;&#x6309;&#x6BB5;&#x843D;p-paragraph<br>&#x5176;&#x5B9E;&#x8FD9;&#x4E00;&#x70B9;&#x5728;&#x524D;&#x8FB9;&#x7684;&#x6309;&#x5355;&#x8BCD;&#x64CD;&#x4F5C;&#x4E2D;&#x5DF2;&#x7ECF;&#x6709;&#x6240;&#x6D89;&#x53CA;&#xFF0C;&#x4F46;&#x7ED3;&#x5408;&#x673A;&#x6784;&#x5316;&#x7684;&#x64CD;&#x4F5C;&#x80FD;&#x6709;&#x5F88;&#x591A;&#x610F;&#x60F3;&#x4E0D;&#x5230;&#x7684;&#x9AD8;&#x6548;&#x4F53;&#x9A8C;&#xFF0C;&#x5E38;&#x89C1;&#x7684;&#x5982;&#xFF1A;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Improve your writing bu deleting excellent adjectives.</span><br><span class="line"><span class="comment">// fx &#x5149;&#x6807;&#x5230;excellent, &#x7136;&#x540E; daw</span></span><br><span class="line">Improve your writing bu deleting adjectives.</span><br><span class="line"><span class="comment">// &#x5982;&#x679C;&#x4E0A;&#x8FF0;&#x662F; diw,  &#x5C31;&#x4F1A;&#x51FA;&#x73B0;2&#x4E2A;&#x7A7A;&#x683C;</span></span><br><span class="line">Improve your writing bu deleting  adjectives.</span><br></pre></td></tr></table></figure>
<p>&#x53EF;&#x89C1;<code>aw</code>&#x548C;<code>iw</code>&#x5F97;&#x533A;&#x522B;&#x5F88;&#x7EC6;&#x5FAE;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x597D;&#x8BB0;&#x5FC6;&#xFF0C;&#x4E0D;&#x59A8;&#x60F3;&#x6211;&#x4E00;&#x6837;&#x53EA;&#x53BB;&#x8BB0;&#x5FC6;i&#x8868;&#x793A;<code>inside1</code>&#x4E4B;&#x610F;&#xFF0C;&#x5176;&#x4ED6;&#x7684;&#x5B83;&#x662F;&#x4E0D;&#x7BA1;&#x7684;&#xFF0C;&#x63A5;&#x7740;&#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x5982;&#x679C;&#x53EA;&#x662F;&#x60F3;&#x628A;&#x5355;&#x8BCD;&#x6539;&#x53D8;&#xFF0C; eg&#xFF1A;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Improve your writing bu deleting excellent adjectives.</span><br><span class="line"><span class="comment">// fx &#xFF0C;&#x7136;&#x540E; ciw &#x52A0;&#x4E0A;&#x4FEE;&#x6539;&#x7684;&#x5355;&#x8BCD; most</span></span><br><span class="line">Improve your writing bu deleting most adjectives.</span><br></pre></td></tr></table></figure>
<p>&#x6240;&#x4EE5;&#x603B;&#x7ED3;&#x8D77;&#x6765;&#x5C31;&#x662F;&#xFF1A;<br><strong> <code>d</code> + <code>aw / as / ap</code>&#x6BD4;&#x8F83;&#x597D;&#xFF0C;&#x800C;<code>c</code> &#x4E0E;<code>iw / is</code> &#x66F4;&#x914D; </strong></p>
</li>
<li><p>&#x5584;&#x7528;&#x81EA;&#x52A8;&#x6807;&#x8BB0;&#x5B8C;&#x6210;&#x79FB;&#x52A8;<br>vim&#x7684;&#x57FA;&#x672C;&#x64CD;&#x4F5C;&#x4E2D;&#x5176;&#x5B9E;&#x6CA1;&#x6709;&#x5FC5;&#x8981;&#x6D89;&#x53CA;&#x5230;&#x4F7F;&#x7528;<code>m{char}</code>,&#x7CFB;&#x7EDF;&#x4E3A;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x4E86;&#x5F88;&#x591A;&#x81EA;&#x52A8;&#x7684;&#x6807;&#x8BB0;&#xFF0C;&#x5B83;&#x6307;&#x793A;&#x4E86;&#x4E00;&#x4E9B;&#x7B80;&#x5355;&#x7684;&#x884C;&#x4E3A;&#xFF0C;&#x5982;&#x4E0A;&#x6B21;&#x4FEE;&#x6539;&#x4F4D;&#x7F6E;&#xFF0C;&#x4E0A;&#x6B21;&#x63D2;&#x5165;&#x4F4D;&#x7F6E;&#xFF0C;&#x4EE5;&#x53CA;&#x62EC;&#x53F7;&#x4E4B;&#x95F4;&#x7684;&#x79FB;&#x52A8;&#xFF0C;like this&#xFF1A;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">``</span>   <span class="comment">// &#x4E0A;&#x6B21;&#x8DF3;&#x8F6C;&#x52A8;&#x4F5C;&#x4E4B;&#x524D;&#x7684;&#x4F4D;&#x7F6E;--&#x76F8;&#x5F53;&#x4E8E;&lt;C-o&gt;</span></span><br><span class="line"><span class="string">`.   // &#x4E0A;&#x6B21;&#x66F4;&#x6539;&#x4F4D;&#x7F6E;</span><br><span class="line">`</span>^   <span class="comment">// &#x4E0A;&#x6B21;&#x63D2;&#x5165;&#x4F4D;&#x7F6E;</span></span><br><span class="line"><span class="string">`[/] // &#x4E0A;&#x6B21;c&#x6216;y&#x7684;&#x542F;&#x793A;&#xFF0F;&#x7ED3;&#x675F;</span><br><span class="line">%    // &#x62EC;&#x53F7;&#x4E4B;&#x95F4;&#x7684;&#x8DF3;&#x8F6C;</span></span><br></pre></td></tr></table></figure>
<p>&#x7279;&#x522B;&#x63D0;&#x9192;&#xFF0C;&#x62EC;&#x53F7;&#x8DF3;&#x8F6C;&#x65F6;&#xFF0C;&#x5F80;&#x5F80;&#x8981;&#x914D;&#x5408;&#x6807;&#x8BB0;&#x8DF3;&#x8F6C;&#x4E00;&#x8D77;&#x6765;&#x4F7F;&#x7528;&#xFF0C;&#x5982;&#x4E0B;&#x9762;&#x7684;ruby&#x4EE3;&#x7801;&#x8981;&#x5C06;}&#x53D8;&#x4E3A;]&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x6709;&#x4E00;&#x4E2A;&#x5C0F;&#x9677;&#x9631;&#xFF0C;&#x56E0;&#x4E3A;%&#x53EA;&#x4F1A;&#x5728;&#x540C;&#x7EA7;&#x62EC;&#x53F7;&#x952E;&#x81EA;&#x52A8;&#x8DF3;&#x8F6C;&#xFF0C;&#x5982;&#x679C;&#x76F4;&#x63A5;&#x4F7F;&#x7528;<code>r]</code>&#x5C31;&#x4E0D;&#x518D;&#x80FD;&#x8DF3;&#x8F6C;&#x5230;&#x672B;&#x5C3E;&#x7684;<code>]</code>&#xFF0C;&#x6240;&#x4EE5;&#x6B63;&#x786E;&#x7684;&#x505A;&#x6CD5;&#x662F;&#xFF1A;</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cities = %w { london,berlin,nweYourk}</span><br><span class="line"><span class="comment"># dt{ &#x7136;&#x540E;&#x4E0D;&#x5FD9;r[  &#x800C;&#x662F;% &#x8DF3;&#x8F6C;&#x5230;&#x672B;&#x5C3E;&#x7684;&apos;}&apos;</span></span><br><span class="line"><span class="comment"># &#x7136;&#x540E;&#x73B0;&#x66F4;&#x6539;&#x6700;&#x540E;&#x7684;} &#x4E3A; ]</span></span><br><span class="line"><span class="comment"># &#x5728;``&#x4F1A;&#x5149;&#x6807;&#x7684;&#x4E0A;&#x4E00;&#x4F4D;&#x7F6E;&#xFF0C;&#x518D;r[</span></span><br><span class="line">cities = %w [ london, berlin, nweYourk]</span><br></pre></td></tr></table></figure>
<p>&#x597D;&#x5427;&#xFF0C;&#x7684;&#x786E;&#x6709;&#x70B9;&#x513F;&#x7E41;&#x7410;&#xFF0C;&#x80AF;&#x5B9A;&#x6709;&#x66F4;&#x597D;&#x7684;&#x529E;&#x6CD5;&#xFF0C;&#x4E0D;&#x8FC7;&#x914D;&#x5408;&#x5149;&#x6807;&#x6807;&#x8BB0;&#x8FD8;&#x662F;&#x5B8C;&#x6210;&#x4E86;</p>
</li>
</ul>
<p>&#x4E0A;&#x8FB9;&#x7684;&#x64CD;&#x4F5C;&#x90FD;&#x5F88;&#x57FA;&#x672C;&#xFF0C;&#x53EF;&#x4EE5;&#x8BF4;&#x6BCF;&#x4E2A;&#x4EBA;&#x90FD;&#x4F1A;&#xFF0C;&#x4F46;vim&#x4E0D;&#x662F;&#x77E5;&#x8BC6;&#x800C;&#x662F;&#x4E00;&#x79CD;&#x6280;&#x80FD;&#xFF0C;&#x5E38;&#x5E38;&#x7EC3;&#x4E60;&#x624D;&#x80FD;&#x771F;&#x6B63;&#x7684;&#x5B9E;&#x73B0;&#x624B;&#x773C;&#x5E76;&#x4E3E;&#xFF0C;&#x7F16;&#x7801;&#x9F50;&#x98DE;</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/03/25/JS-jQuery拾遗/"><span>JS jQuery拾遗</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/03/25/JS-jQuery拾遗/" rel="bookmark">
        <time class="entry-date published" datetime="2017-03-25T09:42:47.000Z">
          2017-03-25
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>&#x8BB0;&#x5F55;&#x4E00;&#x4E0B;JS&#x4E2D;&#x67D0;&#x4E9B;&#x8BED;&#x6CD5;&#x70B9;&#xFF0C;&#x4EE5;&#x53CA;&#x540C;swift,python&#x7B49;&#x7684;&#x5BF9;&#x6BD4;</p>
<h3 id="&#x9ED8;&#x8BA4;&#x53C2;&#x6570;default-arguments"><a href="#&#x9ED8;&#x8BA4;&#x53C2;&#x6570;-Default-arguments" class="headerlink" title="&#x9ED8;&#x8BA4;&#x53C2;&#x6570;(Default arguments)"></a>&#x9ED8;&#x8BA4;&#x53C2;&#x6570;(Default arguments)</h3><p>&#x51FD;&#x6570;&#x652F;&#x6301;&#x9ED8;&#x8BA4;&#x53C2;&#x6570;&#x7684;&#x5FC5;&#x8981;&#x6027;&#xFF1A;&#x4ECE;&#x4E2A;&#x4EBA;&#x7ECF;&#x5386;&#x6765;&#x770B;&#xFF0C;&#x5728;&#x5F00;&#x53D1;&#x4E2D;&#x7279;&#x522B;&#x662F;&#x7EC4;&#x5EFA;&#x548C;&#x516C;&#x5171;API&#x7684;&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x7531;&#x4E8E;JS&#x677E;&#x6563;&#x7684;&#x7C7B;&#x578B;,&#x7279;&#x522B;&#x662F;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x53C2;&#x6570;&#x4E0D;&#x5B9A;&#x7684;&#x7279;&#x70B9;&#xFF0C;&#x5C61;&#x5C61;&#x51FA;&#x73B0;&#x7684;&#x7C7B;&#x578B;&#x68C0;&#x6D4B;&#x8FD9;&#x6837;&#x7684;&#x9E21;&#x808B;&#x4EE3;&#x7801;&#x8BA9;&#x4EBA;&#x5982;&#x9CA0;&#x5728;&#x5589;,eg:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> add = <span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>{</span><br><span class="line">	b = <span class="keyword">typeof</span> b !== <span class="string">&quot;undefined&quot;</span> ? b : <span class="number">0</span></span><br><span class="line">	<span class="keyword">return</span> a + b		</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">add(<span class="number">1</span>) <span class="comment">// 1</span></span><br><span class="line">add(<span class="number">1</span>,<span class="number">1</span>) <span class="comment">// 2</span></span><br></pre></td></tr></table></figure></p>
<p>&#x5982;&#x679C;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x53C2;&#x6570;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x7701;&#x53BB;&#x4E86;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x68C0;&#x6D4B;&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> add = <span class="function"><span class="keyword">function</span>(<span class="params">a, b=0</span>)</span></span><br></pre></td></tr></table></figure></p>
<h3 id="&#x5269;&#x4F59;&#x53EF;&#x9009;&#x53C2;&#x6570;rest-arguments"><a href="#&#x5269;&#x4F59;-&#x53EF;&#x9009;&#x53C2;&#x6570;-Rest-arguments" class="headerlink" title="&#x5269;&#x4F59;/&#x53EF;&#x9009;&#x53C2;&#x6570;(Rest arguments)"></a>&#x5269;&#x4F59;/&#x53EF;&#x9009;&#x53C2;&#x6570;(Rest arguments)</h3><p> &#x6B63;&#x5982;&#x524D;&#x8FB9;&#x6240;&#x8BF4;&#xFF0C;js&#x51FD;&#x6570;&#x8C03;&#x7528;&#x5F88;&#x677E;&#x6563;&#xFF0C;&#x6240;&#x4EE5;&#x53EF;&#x9009;&#x53C2;&#x6570;&#x5728;js&#x4E0A;&#x5F88;&#x5BB9;&#x6613;&#x5B9E;&#x73B0;&#xFF0C;&#x6700;&#x7B80;&#x5355;&#x7684;&#x83AB;&#x8FC7;&#x4E8E;&#x4F7F;&#x7528;<code>arguments</code>&#xFF0C;&#x4F46;&#x5BF9;&#x5176;&#x4ED6;&#x8BED;&#x8A00;&#x5C31;&#x9700;&#x8981;&#x7279;&#x6B8A;&#x7684;&#x652F;&#x6301;&#xFF0C;ES6&#x4E0A;&#x663E;&#x7136;&#x4E5F;&#x662F;&#x8FD9;&#x6837;&#x8BA4;&#x4E3A;&#x7684;&#xFF0C;&#x6240;&#x4EE5;:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params">arg0, arg1, ...rest</span>) </span>{</span><br><span class="line">	alert(<span class="string">&apos;you pass&apos;</span> + rest.length + <span class="string">&apos;extra args&apos;</span>) </span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<p><strong>&#x8BF4;&#x660E;</strong>&#xFF1A; &#x6839;<code>arguments</code>&#x5BF9;&#x8C61;&#x4E0D;&#x540C;&#xFF0C;&#x5269;&#x4F59;&#x53C2;&#x6570;&#x6570;&#x7EC4;<code>rest</code>&#x662F;&#x4E00;&#x4E2A;&#x771F;&#x5B9E;&#x7684;&#x6570;&#x7EC4;</p>
<h3 id="jquery-&#x5E38;&#x89C1;&#x65B9;&#x6CD5;"><a href="#jQuery-&#x5E38;&#x89C1;&#x65B9;&#x6CD5;" class="headerlink" title="jQuery &#x5E38;&#x89C1;&#x65B9;&#x6CD5;"></a>jQuery &#x5E38;&#x89C1;&#x65B9;&#x6CD5;</h3><ul>
<li><p>&#x96C6;&#x5408;&#x7C7B;&#x64CD;&#x4F5C;&#x76F8;&#x5173;:&#x5BF9;&#x96C6;&#x5408;&#x7C7B;&#x5143;&#x7D20;&#x7684;&#x904D;&#x5386;&#x64CD;&#x4F5C;&#x5DF2;&#x7ECF;&#x89C1;&#x602A;&#x4E0D;&#x602A;&#x4E86;&#xFF0C;&#x51E0;&#x4E4E;&#x6240;&#x6709;&#x7684;&#x8BED;&#x8A00;&#x90FD;&#x6709;&#xFF0C;&#x6BD4;&#x5982;swift&#x548C;java&#x4E2D;&#x7684;map,reduce&#x7B49;&#x7B49;&#xFF0C;&#x5728;jQuery&#x4E2D;&#x4E5F;&#x81EA;&#x7136;&#x5B58;&#x5728;&#xFF1A;<br><code>$.each(obj, function(key, value))</code><br><code>$.map(obj, function(value, index)</code>&#xFF1A;&#x81EA;1.4&#x4E4B;&#x524D;&#x53EA;&#x5BF9;&#x6570;&#x7EC4;&#x7BA1;&#x7528;&#xFF0C;1.6&#x4E4B;&#x540E;&#x6539;&#x4E3A;&#x6240;&#x6709;&#xFF0C;&#x6309;&#x8BBE;&#x8BA1;&#x89C4;&#x5219;&#xFF0C;&#x5E38;&#x6839;return<br><code>$.extend([deep?], target, [obj1, ...])</code>:&#x5BF9;&#x8C61;&#x7684;&#x5408;&#x5E76;&#x6269;&#x5C55;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;&#x6D45;&#x62F7;&#x8D1D;&#xFF0C;&#x5E38;&#x5E38;&#x7528;&#x5728;&#x51FD;&#x6570;&#x53C2;&#x6570;&#x7684;&#x6269;&#x5C55;&#x4E0A;&#xFF0C;&#x8FD9;&#x4E00;&#x70B9;&#x5012;&#x662F;&#x6839;&#x9ED8;&#x8BA4;&#x53C2;&#x6570;&#x7684;&#x8BBE;&#x8BA1;&#x5F88;&#x5951;&#x5408;&#xFF0C;&#x53EF;&#x4EE5;&#x6269;&#x5C55;&#x5DF2;&#x6709;&#x7684;&#x53C2;&#x6570; eg</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x901A;&#x8FC7;extend&#x6269;&#x5C55;&#x5DF2;&#x6709;&#x53C2;&#x6570;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>{</span><br><span class="line">  <span class="keyword">var</span> <span class="keyword">default</span> = {a: <span class="string">&apos;a&apos;</span>};</span><br><span class="line">  <span class="keyword">var</span> opt = $.extend(<span class="keyword">default</span>, obj);</span><br><span class="line">  <span class="built_in">console</span>.log(opt);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p><img src="http://wx3.sinaimg.cn/mw1024/006mou3Bly1fe17z9mrw5j310c0pw0xn.jpg" alt="deep&#x8868;&#x793A;&#x662F;&#x5426;&#x9012;&#x5F52;&#x62F7;&#x8D1D;"><br><a href="http://js.jirengu.com/bedeyitaku/3/edit" target="_blank" rel="external">Demo &#x6D4B;&#x8BD5;</a></p>
</li>
</ul>
<h3 id="jquery&#x975E;&#x5178;&#x578B;"><a href="#jQuery&#x975E;&#x5178;&#x578B;" class="headerlink" title="jQuery&#x975E;&#x5178;&#x578B;"></a>jQuery&#x975E;&#x5178;&#x578B;</h3><p>&#x5F53;&#x4ECE;window&#x5BF9;&#x8C61;&#x5F00;&#x59CB;&#x67E5;&#x627E;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x4F7F;&#x7528;jQuery&#x51FD;&#x6570;&#x4F1A;&#x51FA;&#x73B0;&#x95EE;&#x9898;,eg:<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(window).on(&apos;scroll&apos;, function (e) {</span><br><span class="line">		var img = $(this).find(&apos;img)	// find&#x51FD;&#x6570;&#x53EA;&#x4F1A;&#x8FD4;&#x56DE;[]</span><br><span class="line">})</span><br></pre></td></tr></table></figure></p>
<h3 id="visibility-hidden&#x548C;display-none"><a href="#visibility-hidden&#x548C;display-none" class="headerlink" title="visibility: hidden&#x548C;display: none"></a><code>visibility: hidden</code>&#x548C;<code>display: none</code></h3><p>&#x6700;&#x91CD;&#x8981;&#x7684;&#x533A;&#x522B;&#x5728;&#x4E8E;: &#x540E;&#x8005;&#x8131;&#x79BB;&#x6587;&#x6863;&#x6D41;&#xFF0C;&#x800C;&#x524D;&#x8005;&#x4E0D;&#x662F;,&#x6240;&#x6709;&#x7684;&#x6548;&#x679C;&#x5DEE;&#x5F02;&#x90FD;&#x662F;&#x8FD9;&#x4E00;&#x70B9;&#x9020;&#x6210;&#x7684;&#xFF0C;&#x5982;&#x524D;&#x8005;&#x4F1A;&#x5728;&#x9690;&#x85CF;&#x7684;&#x90E8;&#x5206;&#x4FDD;&#x6301;&#x7A7A;&#x767D;&#xFF0C;&#x800C;&#x540E;&#x8005;&#x4E0D;&#x4F1A;&#xFF0C;&#x518D;&#x5982;&#x5728;hidden&#x4EE5;&#x540E;&#xFF0C;&#x524D;&#x8005;&#x53EF;&#x68C0;&#x6D4B;&#x5BBD;&#x9AD8;offSet&#x7B49;&#x4F4D;&#x7F6E;&#x4FE1;&#x606F;&#xFF0C;&#x800C;&#x540E;&#x8005;&#x6CA1;&#x6709;&#xFF0C;&#x5728;&#x4F5C;&#x9875;&#x9762;&#x81EA;&#x52A8;&#x52A0;&#x8F7D;&#x65F6;&#x9047;&#x5230;&#x4E86;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x5728;&#x6B64;&#x8BB0;&#x5F55;</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/03/24/Hive初探/"><span>Hive初探</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/03/24/Hive初探/" rel="bookmark">
        <time class="entry-date published" datetime="2017-03-24T15:26:46.000Z">
          2017-03-24
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="hive-&#x521D;&#x63A2;"><a href="#Hive-&#x521D;&#x63A2;" class="headerlink" title="Hive &#x521D;&#x63A2;"></a>Hive &#x521D;&#x63A2;</h2><p>&#x5728;hadoop&#x751F;&#x6001;&#xFF0C;&#x6700;&#x91CD;&#x8981;&#x7684;&#x65E0;&#x7591;&#x662F;HDFS &#x548C; MapReduce/Spark&#x7B49;&#x8FD0;&#x7B97;&#x6846;&#x67B6;&#xFF0C;&#x4F46;&#x4F9D;&#x6258;&#x4E8E;HDFS&#x7684;&#x6570;&#x636E;&#x5E93;&#x5B58;&#x50A8;&#x5C42;&#x5DE5;&#x5177;&#x5F80;&#x5F80;&#x662F;&#x5E73;&#x65F6;&#x7528;&#x5230;&#x7684;&#x6700;&#x591A;&#x7684;&#xFF0C;&#x5F53;&#x524D;2&#x5927;&#x4F9D;&#x6258;&#x4E8E;HDFS&#x7684;&#x7ED3;&#x6784;&#x5316;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x6709;&#xFF1A;<code>HBase</code>&#x548C;<code>Hive</code>    </p>
<p>&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x5C31;&#x6765;&#x8BF4;&#x8BF4;Hive&#x7684;&#x65B9;&#x65B9;&#x9762;&#x9762;&#x3002;</p>
<p>&#x867D;&#x7136;Hive&#x662F;hadoop&#x751F;&#x6001;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x5316;&#x7BA1;&#x7406;&#x5C42;,&#x4F46;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x4E0D;&#x540C;&#x4E8E;mySQL&#x7B49;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x4E5F;&#x6839;Hbase&#x4E0D;&#x540C;&#xFF0C;hive&#x672C;&#x8EAB;&#x88AB;&#x8BBE;&#x8BA1;&#x7684;&#x76EE;&#x7684;&#x5C31;&#x4E0D;&#x5728;&#x4E8E;&#x5176;&#x5B9E;&#x65F6;&#x67E5;&#x8BE2;&#xFF0C;&#x56E0;&#x6B64;&#x5B83;&#x7684;&#x67E5;&#x8BE2;&#x662F;&#x4E00;&#x4E2A;&#x8017;&#x65F6;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x4F46;&#x4ED6;&#x53EF;&#x4EE5;&#x652F;&#x6301;&#x7C7B;SQL&#x8BED;&#x8A00;&#xFF0C;&#x53EF;&#x4EE5;&#x8BA9;job&#x4E0D;&#x518D;&#x8981;&#x6C42;&#x6211;&#x4EEC;&#x4E00;&#x884C;&#x4E00;&#x884C;&#x7684;&#x5199;&#x4EE3;&#x7801;&#xFF0C;&#x4F1A;&#x6839;&#x636E;&#x8BED;&#x53E5;&#x81EA;&#x52A8;&#x751F;&#x6210;MapReduce&#x4EE3;&#x7801;&#xFF0C;&#x4ECE;&#x800C;&#x7B80;&#x5316;&#x64CD;&#x4F5C;&#x3002;&#x603B;&#x4E4B;&#xFF0C;Hive&#x63D0;&#x4F9B;&#x7ED9;&#x6211;&#x4EEC;HQL&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x65B9;&#x4FBF;&#x7684;MapReduce&#xFF0C;&#x6700;&#x7EC8;&#x7528;&#x4EE5;&#x5BF9;hdfs&#x4E0A;&#x6570;&#x636E;&#x7684;<code>&#x63D0;&#x53D6;/&#x8F6C;&#x5316;/&#x52A0;&#x8F7D;(ETL)</code>,&#x5BF9;&#x6620;&#x5C04;&#x5230;&#x6570;&#x636E;&#x5E93;&#x8868;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x65B9;&#x4FBF;&#x7684;&#x64CD;&#x4F5C;,&#x5176;&#x63D0;&#x4F9B;&#x4E86;3&#x79CD;&#x7528;&#x6237;&#x63A5;&#x53E3;:</p>
<ul>
<li>CLI: &#x6839;mySQL&#x7684;&#x547D;&#x4EE4;&#x57FA;&#x672C;&#x76F8;&#x540C;</li>
<li>WebUI: &#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;9999</li>
<li>Client&#xFF1A;&#x901A;&#x8FC7;JDBC&#x7B49;&#x6765;&#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;</li>
</ul>
<h3 id="&#x6784;&#x67B6;"><a href="#&#x6784;&#x67B6;" class="headerlink" title="&#x6784;&#x67B6;"></a>&#x6784;&#x67B6;</h3><p>&#x501F;&#x7528;hive - facebook&#x7238;&#x7238;&#x7684;&#x6784;&#x67B6;&#x56FE;&#xFF1A;<br><img src="http://wx3.sinaimg.cn/mw690/006mou3Bly1fdydkl7lugj31kw13q7bt.jpg" alt="&#x6765;&#x81EA;facebook&#x7238;&#x7238;&#x7684;hive&#x6784;&#x67B6;&#x56FE;"></p>
<h3 id="&#x5B89;&#x88C5;&#x53CA;&#x9519;&#x8BEF;&#x5904;&#x7406;"><a href="#&#x5B89;&#x88C5;&#x53CA;&#x9519;&#x8BEF;&#x5904;&#x7406;" class="headerlink" title="&#x5B89;&#x88C5;&#x53CA;&#x9519;&#x8BEF;&#x5904;&#x7406;"></a>&#x5B89;&#x88C5;&#x53CA;&#x9519;&#x8BEF;&#x5904;&#x7406;</h3><p>&#x4F5C;&#x4E3A;Hadoop&#x7EC4;&#x5EFA;&#xFF0C;&#x5B89;&#x88C5;&#x8D77;&#x6765;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x5173;&#x952E;&#x5728;&#x4E8E;&#x914D;&#x7F6E;&#xFF0C;&#x901A;&#x5E38;&#x90FD;&#x4F7F;&#x7528;mySQL&#x5B58;&#x50A8;metaStore,&#x6240;&#x4EE5;&#x5728;&#x8BBE;&#x7F6E;&#x4E2D;:</p>
<p>&#x5728;&#x5B89;&#x88C5;&#x65F6;&#x6CE8;&#x610F;&#x7248;&#x672C;&#x5BF9;&#x5E94;&#xFF0C;&#x786E;&#x4FDD;&#x5404;&#x4E2A;&#x8282;&#x70B9;&#x673A;&#x5668;&#x7684;ssh&#x901A;&#x4FE1;&#x6B63;&#x5E38;&#xFF0C;&#x4F1A;&#x7701;&#x53BB;&#x4E0D;&#x5C11;&#x9EBB;&#x70E6;<br>&#x542F;&#x52A8;&#x65F6;&#x9700;&#x6CE8;&#x610F;&#x4FDD;&#x8BC1;&#x96C6;&#x7FA4;&#x542F;&#x52A8;&#x6B63;&#x5E38;&#xFF0C;&#x4E00;&#x4E2A;&#x5E38;&#x89C1;&#x7684;&#x9519;&#x8BEF;&#xFF1A;<br><img src="" alt="&#x7559;&#x5F85;&#x56FE;&#x7247;"><br>&#x5C31;&#x662F;&#x56E0;&#x4E3A;namenode&#x4E3A;&#x542F;&#x52A8;&#x6210;&#x529F;&#xFF0C;&#x5728;hadoop&#x751F;&#x6001;&#xFF0C;&#x51E0;&#x4E4E;&#x6240;&#x6709;&#x7684;&#x7EC4;&#x4EF6;&#x90FD;&#x662F;&#x4F9D;&#x8D56;&#x4E0E;hdfs&#xFF0C;yarn&#x7684;&#xFF0C;&#x7136;&#x540E;&#x914D;&#x5408;zookeeper&#x70ED;&#x5907;&#xFF0C;&#x4E00;&#x65E6;&#x51FA;&#x73B0;&#x542F;&#x52A8;&#x4E0D;&#x4E86;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x9996;&#x5148;&#x5C31;&#x8981;&#x53BB;&#x68C0;&#x67E5;&#x4F9D;&#x8D56;&#x7684;&#x8FD0;&#x884C;&#x73AF;&#x5883;&#x662F;&#x5426;&#x542F;&#x52A8;&#x6B63;&#x5E38;</p>
<h3 id="&#x57FA;&#x672C;&#x64CD;&#x4F5C;&#x76F8;&#x5173;"><a href="#&#x57FA;&#x672C;&#x64CD;&#x4F5C;&#x76F8;&#x5173;" class="headerlink" title="&#x57FA;&#x672C;&#x64CD;&#x4F5C;&#x76F8;&#x5173;"></a>&#x57FA;&#x672C;&#x64CD;&#x4F5C;&#x76F8;&#x5173;</h3><p>1 &#x8868;&#x7684;&#x521B;&#x5EFA;&#x76F8;&#x5173;</p>
<ul>
<li>&#x521B;&#x5EFA;&#x8868;&#x57FA;&#x672C;&#x4E0A;&#x6839;&#x666E;&#x901A;&#x7684;SQL&#x8BED;&#x53E5;&#x4E00;&#x81F4;&#xFF0C;&#x53EA;&#x662F;&#x6211;&#x4EEC;&#x5E38;&#x5E38;&#x9700;&#x8981;&#x6307;&#x5B9A;&#x5206;&#x5272;&#x7B26;&#x53F7;&#xFF0C;&#x6307;&#x5B9A;&#x6392;&#x5E8F;&#xFF0C;&#x5B58;&#x50A8;&#x7C7B;&#x578B;&#x7B49;&#x7B49;&#xFF0C;&#x5E38;&#x89C1;&#x7684;&#x901A;&#x7528;&#x6A21;&#x578B;&#x5982;&#xFF1A;<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> [<span class="keyword">EXTERNAL</span>] <span class="keyword">TABLE</span> [<span class="keyword">IF</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span>] table_name [<span class="keyword">LIKE</span>] patternTable</span><br><span class="line">  [(col_name data_type [<span class="keyword">COMMENT</span> col_comment], ...)]</span><br><span class="line">  [<span class="keyword">COMMENT</span> table_comment]</span><br><span class="line">  [PARTITIONED <span class="keyword">BY</span> (col_name data_type [<span class="keyword">COMMENT</span> col_comment], ...)] <span class="comment">-- &#x6307;&#x5B9A;&#x5206;&#x533A;&#x65B9;&#x5F0F;</span></span><br><span class="line">  [CLUSTERED <span class="keyword">BY</span> (col_name, col_name, ...)</span><br><span class="line">  [SORTED <span class="keyword">BY</span> (col_name [<span class="keyword">ASC</span>|<span class="keyword">DESC</span>], ...)] <span class="keyword">INTO</span> num_buckets BUCKETS]</span><br><span class="line">  [<span class="keyword">ROW</span> <span class="keyword">FORMAT</span> row_format] </span><br><span class="line">  [<span class="keyword">STORED</span> <span class="keyword">AS</span> file_format] <span class="comment">-- &#x5B58;&#x50A8;&#x7C7B;&#x578B;</span></span><br><span class="line">  [LOCATION hdfs_path]</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>&#x5173;&#x952E;&#x5B57;<code>ROW FORMAT DELIMITED</code>:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">FIELDS TERMINATED BY &#x2018;,&#x2019;           <span class="comment">//&#x6307;&#x5B9A;&#x6BCF;&#x884C;&#x4E2D;&#x5B57;&#x6BB5;&#x5206;&#x9694;&#x7B26;&#x4E3A;&#x9017;&#x53F7;</span></span><br><span class="line">LINES TERMINATED BY &#x2018;\n&#x2019;           <span class="comment">//&#x6307;&#x5B9A;&#x884C;&#x5206;&#x9694;&#x7B26;</span></span><br><span class="line">COLLECTION ITEMS TERMINATED BY &#x2018;,&#x2019; <span class="comment">//&#x6307;&#x5B9A;&#x96C6;&#x5408;&#x4E2D;&#x5143;&#x7D20;&#x4E4B;&#x95F4;&#x7684;&#x5206;&#x9694;&#x7B26;</span></span><br><span class="line">MAP KEYS TERMINATED BY &#x2018;:&#x2019;         <span class="comment">//&#x6307;&#x5B9A;&#x6570;&#x636E;&#x4E2D;Map&#x7C7B;&#x578B;&#x7684;Key&#x4E0E;Value&#x4E4B;&#x95F4;&#x7684;&#x5206;&#x9694;&#x7B26;</span></span><br></pre></td></tr></table></figure></p>
<p>&#x5173;&#x952E;&#x5B57;<code>PARTITIONED BY</code>&#xFF1A; &#x5C31;&#x662F;&#x5BF9;&#x5E94;&#x4E8E;mapreduce&#x4E2D;&#x7684;&#x5206;&#x533A;     </p>
<p>&#x5173;&#x952E;&#x5B57;<code>CLUSTERED BY</code>: &#x79F0;&#x4E4B;&#x4E3A;&#x5206;&#x6876;</p>
<p>&#x5173;&#x952E;&#x5B57;<code>STORED AS</code>&#xFF1A;&#x6307;&#x5B9A;&#x8868;&#x5728;HDFS&#x4E0A;&#x7684;&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x683C;&#x5F0F;&#xFF0C;&#x53EF;&#x9009;&#x7684;&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x683C;&#x5F0F;&#x6709;&#xFF1A;<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">TEXTFILE 		<span class="comment">//&#x6587;&#x672C;&#xFF0C;&#x9ED8;&#x8BA4;&#x503C;</span></span><br><span class="line">SEQUENCEFILE    <span class="comment">// &#x4E8C;&#x8FDB;&#x5236;&#x5E8F;&#x5217;&#x6587;&#x4EF6;</span></span><br><span class="line">RCFILE          <span class="comment">//&#x5217;&#x5F0F;&#x5B58;&#x50A8;&#x683C;&#x5F0F;&#x6587;&#x4EF6; Hive0.6&#x4EE5;&#x540E;&#x5F00;&#x59CB;&#x652F;&#x6301;</span></span><br><span class="line">ORC             <span class="comment">//&#x5217;&#x5F0F;&#x5B58;&#x50A8;&#x683C;&#x5F0F;&#x6587;&#x4EF6;&#xFF0C;&#x6BD4;RCFILE&#x6709;&#x66F4;&#x9AD8;&#x7684;&#x538B;&#x7F29;&#x6BD4;&#x548C;&#x8BFB;&#x5199;&#x6548;&#x7387;&#xFF0C;Hive0.11&#x4EE5;&#x540E;&#x5F00;&#x59CB;&#x652F;&#x6301;</span></span><br><span class="line">PARQUET         <span class="comment">//&#x5217;&#x51FA;&#x5B58;&#x50A8;&#x683C;&#x5F0F;&#x6587;&#x4EF6;&#xFF0C;Hive0.13&#x4EE5;&#x540E;&#x5F00;&#x59CB;&#x652F;&#x6301;</span></span><br></pre></td></tr></table></figure></p>
<p>&#x4E00;&#x4E2A;&#x5177;&#x4F53;&#x7684;&#x1F330;&#xFF0C;eg&#xFF1A;<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> tableDemo </span><br><span class="line">(sno <span class="built_in">INT</span>,sname <span class="keyword">STRING</span>,age <span class="built_in">INT</span>,sex <span class="keyword">STRING</span>)</span><br><span class="line"><span class="keyword">ROW</span> <span class="keyword">FORMAT</span> <span class="keyword">DELIMITED</span></span><br><span class="line"><span class="keyword">FIELDS</span> <span class="keyword">TERMINATED</span> <span class="keyword">BY</span> <span class="string">&apos;\t&apos;</span></span><br><span class="line"><span class="keyword">STORED</span> <span class="keyword">AS</span> TEXTFILE;</span><br></pre></td></tr></table></figure></p>
<p>&#x4E0A;&#x8FF0;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x884C;&#x5206;&#x5272;&#x7B26;&#x53F7;&#x4E3A;tab&#x7684;&#x8868;tableDemo&#xFF0C;&#x4F7F;&#x7528;<code>show tables;</code>&#x53EF;&#x67E5;&#x770B;</p>
<ul>
<li>&#x5220;&#x9664;&#x2013; DROP</li>
<li>&#x4FEE;&#x6539;&#x8868;&#x7ED3;&#x6784;&#x7528;<code>ALTER TABLE tableName [ADD COLUMNS][RENAME TO xxx]&#x7B49;</code></li>
</ul>
<p>2 &#x6570;&#x636E;&#x64CD;&#x4F5C;</p>
<ul>
<li><p>&#x52A0;&#x8F7D;&#x6570;&#x636E;</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">LOAD</span> <span class="keyword">DATA</span> <span class="keyword">LOCAL</span> INPATH <span class="string">&apos;$local_Dir/xxxx.txt&apos;</span> <span class="keyword">INTO</span> <span class="keyword">TABLE</span> tableName; <span class="comment">-- &#x52A0;&#x8F7D;&#x672C;&#x5730;&#x6570;&#x636E;</span></span><br><span class="line"><span class="keyword">LOAD</span> <span class="keyword">DATA</span> INPATH <span class="string">&apos;$hdfs_dataDir/xxxx.txt&apos;</span> <span class="keyword">INTO</span> <span class="keyword">TABLE</span> tableName; <span class="comment">-- &#x52A0;&#x8F7D;hdfs&#x6570;&#x636E;</span></span><br></pre></td></tr></table></figure>
<p><strong>&#x8BF4;&#x660E;&#xFF1A;&#x8FD9;&#x91CC;&#x53EA;&#x662F;&#x603B;&#x7ED3;&#x64CD;&#x4F5C;&#xFF0C;&#x5177;&#x4F53;&#x6982;&#x5FF5;&#x540E;&#x6587;&#x8BE6;&#x8FF0;</strong></p>
<ul>
<li><p>&#x52A0;&#x8F7D;&#x6570;&#x636E;&#x5230;&#x5206;&#x533A;&#xFF0C;eg&#xFF1A;</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">LOAD</span> <span class="keyword">DATA</span> <span class="keyword">LOCAL</span> INPATH</span><br><span class="line"><span class="string">&apos;$loacl_dir/data.txt`</span><br><span class="line">overwrite INTO TABLE tableName</span><br><span class="line">PARTITION (dt=&apos;</span>part001<span class="string">&apos;)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x52A0;&#x8F7D;&#x6570;&#x636E;&#x5230;&#x6876;&#x8868;&#xFF1A;<br>&#x9996;&#x5148;&#x8981;&#x5F00;&#x542F;&#x6876;&#xFF1A;<code>set hive.enforce.bucketing = true</code>,eg:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> OVERWRITE <span class="keyword">TABLE</span> tb_bucket_shop </span><br><span class="line"><span class="keyword">SELECT</span> shop_id, shop_name, shopkeeper <span class="keyword">FROM</span> tb_part_shop </span><br><span class="line">CLUSTER <span class="keyword">BY</span> shop_id;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>&#x63D2;&#x5165;&#x64CD;&#x4F5C;</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- &#x5355;&#x8868;&#x63D2;&#x5165;</span></span><br><span class="line"><span class="keyword">INSERT</span> OVERRITE <span class="keyword">TABLE</span> copied_table </span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> meta_table</span><br><span class="line"><span class="comment">-- &#x591A;&#x8868;&#x63D2;&#x5165;</span></span><br><span class="line"><span class="keyword">FROM</span> meta_table</span><br><span class="line"><span class="keyword">INSERT</span> OVERRITE <span class="keyword">TABLE</span> copied_table1 </span><br><span class="line"><span class="keyword">SELECT</span> * </span><br><span class="line"><span class="keyword">INSERT</span> OVERRITE <span class="keyword">TABLE</span> copied_table2 </span><br><span class="line"><span class="keyword">SELECT</span> *</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x67E5;&#x8BE2;&#x64CD;&#x4F5C;<br>&#x901A;&#x7528;&#x683C;&#x5F0F;&#xFF1A;</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> [<span class="keyword">DISTINCT</span>] col_name </span><br><span class="line"><span class="keyword">LIMIT</span> <span class="keyword">num</span></span><br><span class="line"><span class="keyword">FROM</span> table1 [table2 ...]</span><br><span class="line">[<span class="keyword">ORDER</span> <span class="keyword">BY</span> col_name]</span><br><span class="line">[<span class="keyword">GROUP</span> <span class="keyword">BY</span> col_name]</span><br><span class="line">[<span class="keyword">SORT</span> <span class="keyword">BY</span> col_name]</span><br><span class="line">[<span class="keyword">DISTRIBUTE</span> <span class="keyword">BY</span> func(col_name)]</span><br><span class="line">[CLUSTER <span class="keyword">BY</span> col_name]</span><br><span class="line">[<span class="keyword">WHERE</span> col_name <span class="keyword">OPERATOR</span> [<span class="keyword">AND</span>   <span class="keyword">OPERATOR</span>...] ]</span><br></pre></td></tr></table></figure>
<ul>
<li><em>GROUP BY</em>: &#x5206;&#x7EC4;</li>
<li><p><em>ORDER BY</em>: &#x5168;&#x5C40;&#x6392;&#x5E8F;<br>Hive&#x4F18;&#x5316;&#x5E38;&#x5E38;&#x8981;&#x7528;&#x5230;&#xFF0C;&#x4E0D;&#x540C;&#x4E8E;&#x6570;&#x636E;&#x5E93;&#x7684;order&#xFF0C;&#x4F7F;  &#x65F6;&#x9700;&#x8981;&#x6307;&#x5B9A;<code>hive.mapred.mode</code>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hive.mapred.mode = nonstrict; <span class="comment">// &#x9ED8;&#x8BA4;</span></span><br><span class="line">hive.mapred.mode = strict; <span class="comment">// &#x5FC5;&#x987B;&#x6307;  limit</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><em>SORT BY</em>: &#x5206;&#x533A;&#x5185;&#x6392;&#x5E8F;&#x5E76;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;task&#x6570;<br>&#x5982;task=1&#xFF0C;&#x90A3;&#x4E48;&#x6548;&#x679C;&#x7B49;&#x540C;&#x4E8E;ORDER BY, &#x6307;&#x5B9A;Reduc  &#x4E2A;&#x6570;&#xFF1A;<code>set mapred.reduce.tasks=num</code></p>
</li>
<li><em>DISTRIBUTE BY&#x548C;CLUSTER BY</em><br><code>distribute by</code>&#xFF1A;&#x6309;&#x7167;&#x6307;&#x5B9A;&#x7684;&#x5B57;&#x6BB5;&#x6216;&#x8868;&#x8FBE;&#x5F0F;&#x5BF9;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5212;&#x5206;&#xFF0C;&#x8F93;&#x51FA;&#x5230;&#x5BF9;&#x5E94;&#x7684;Reduce&#x6216;&#x8005;&#x6587;&#x4EF6;&#x4E2D;&#x3002;<br><code>cluster by</code>&#xFF1A;&#x9664;&#x4E86;&#x517C;&#x5177;distribute by&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x8FD8;&#x517C;&#x5177;sort by&#x7684;&#x6392;&#x5E8F;&#x529F;&#x80FD;&#x3002;</li>
</ul>
</li>
</ul>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/03/16/hadoop集群搭建tip-md/"><span>hadoop集群搭建tip.md</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/03/16/hadoop集群搭建tip-md/" rel="bookmark">
        <time class="entry-date published" datetime="2017-03-16T02:28:42.000Z">
          2017-03-16
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="hadoop-yarn-zookeeper-5&#x4E2A;&#x8282;&#x70B9;&#x642D;&#x5EFA;demo"><a href="#hadoop-yarn-zookeeper-5&#x4E2A;&#x8282;&#x70B9;&#x642D;&#x5EFA;Demo" class="headerlink" title="hadoop + yarn + zookeeper: 5&#x4E2A;&#x8282;&#x70B9;&#x642D;&#x5EFA;Demo"></a>hadoop + yarn + zookeeper: 5&#x4E2A;&#x8282;&#x70B9;&#x642D;&#x5EFA;Demo</h2><p>1 &#x89C4;&#x5212;</p>
<ul>
<li>&#x7EDF;&#x4E00;useradd&#xFF1A;<code>hadoop + passwd</code>,&#x76EE;&#x5F55;<code>~&#xFF0F;app</code> + <code>~/data</code> + <code>~/tools</code></li>
</ul>
<table>
<thead>
<tr>
<th>&#x7F16;&#x53F7;</th>
<th style="text-align:right">nameNode</th>
<th style="text-align:center">dataNode</th>
<th style="text-align:center">journalnode</th>
<th style="text-align:center">resoucrcemanager</th>
<th style="text-align:center">datamanager</th>
<th style="text-align:center">zookeeper</th>
</tr>
</thead>
<tbody>
<tr>
<td>node1</td>
<td style="text-align:right">&#x221A;</td>
<td style="text-align:center"></td>
<td style="text-align:center">&#x221A;</td>
<td style="text-align:center">&#x221A;</td>
<td style="text-align:center"></td>
<td style="text-align:center">&#x221A;</td>
</tr>
<tr>
<td>node2</td>
<td style="text-align:right">&#x221A;</td>
<td style="text-align:center"></td>
<td style="text-align:center">&#x221A;</td>
<td style="text-align:center">&#x221A;</td>
<td style="text-align:center"></td>
<td style="text-align:center">&#x221A;</td>
</tr>
<tr>
<td>node3</td>
<td style="text-align:right"></td>
<td style="text-align:center">&#x221A;</td>
<td style="text-align:center">&#x221A;</td>
<td style="text-align:center"></td>
<td style="text-align:center">&#x221A;</td>
<td style="text-align:center">&#x221A;</td>
</tr>
<tr>
<td>node4</td>
<td style="text-align:right"></td>
<td style="text-align:center">&#x221A;</td>
<td style="text-align:center">&#x221A;</td>
<td style="text-align:center"></td>
<td style="text-align:center">&#x221A;</td>
<td style="text-align:center">&#x221A;</td>
</tr>
<tr>
<td>node5</td>
<td style="text-align:right"></td>
<td style="text-align:center">&#x221A;</td>
<td style="text-align:center">&#x221A;</td>
<td style="text-align:center"></td>
<td style="text-align:center">&#x221A;</td>
<td style="text-align:center">&#x221A;</td>
</tr>
</tbody>
</table>
<ul>
<li><code>hadoop2.6.9 stable</code> + <code>jdk1.7</code> + <code>zookeeper 3.4</code></li>
<li><code>ntpdate</code>&#x65F6;&#x949F;&#x540C;&#x6B65; + ssh + &#x811A;&#x672C;</li>
</ul>
<p>2 &#x5B89;&#x88C5;      </p>
<ul>
<li>jdk + &#x73AF;&#x5883;&#x53D8;&#x91CF;  </li>
<li><p>Zookeeper+ &#x73AF;&#x5883;&#x53D8;&#x91CF;  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">zoo.cfg:</span><br><span class="line">	clientPort = 2181; </span><br><span class="line">	service.1=node1:2888:3888</span><br><span class="line">	service.2=node1:2888:3888</span><br><span class="line">	service.3=node1:2888:3888</span><br><span class="line">	service.4=node1:2888:3888</span><br><span class="line">	service.5=node1:2888:3888</span><br><span class="line">	dataDir=/home/hadoop/data/zookeeper/zkdata</span><br><span class="line">	dataLogDir=/home/hadoop/data/zookeeper/zkdatalog</span><br><span class="line">----</span><br><span class="line">zkdata&#x4E0B;&#xFF1A;</span><br><span class="line">	myid &gt;&gt; &#x8282;&#x70B9;&#x7F16;&#x53F7; </span><br><span class="line">&#x542F;&#x52A8;&#x6D4B;&#x8BD5;&#xFF1A;</span><br><span class="line">	&#x811A;&#x672C; + ~/app/zookeeper/bin/zkServir.sh start/status + jps</span><br></pre></td></tr></table></figure>
</li>
<li><p>hadoop + &#x73AF;&#x5883;&#x53D8;&#x91CF;    </p>
<pre><code>hadoop-env.sh + core-site.xml + hdfs-site.xml
</code></pre><p> &#x9996;&#x6B21;&#x987A;&#x5E8F;: zookeeper &gt;&gt; journalnode &gt;&gt; namebode format &gt;&gt; zkfc format &gt;&gt; &#x542F;&#x52A8;namenode + &#x5907;&#x7528;namenode&#x542F;&#x52A8;&#x5E76;&#x540C;&#x6B65;  &gt;&gt; journalnode stop<br> &#x65E0;&#x8BEF;&#x53EF;&#x4F7F;&#x7528;sbin/start-dfs.sh&#x542F;&#x52A8;</p>
</li>
<li>YARN&#x914D;&#x7F6E;&#xFF1A; mapred-site.xml + yarn-site.xml(resourcemanager&#x914D;&#x7ED9;node1&#xFF0C;node2&#xFF0C;&#x542F;&#x52A8;&#x70ED;&#x5907;&#xFF0C;mapReduce-shufflehandler)</li>
</ul>
<p>3 &#x6D4B;&#x8BD5;</p>
<ul>
<li>namenode&#x70ED;&#x5907;&#x6D4B;&#x8BD5;&#xFF1A;&#x67E5;&#x770B;<code>host:8088</code> &gt;&gt; active/standby &gt;&gt; &#x5173;&#x95ED;active &gt;&gt; &#x67E5;&#x770B;standy&#x81EA;&#x52A8;active</li>
<li>recourcemanager&#x6D4B;&#x8BD5;&#xFF1A;&#x67E5;&#x770B;&#x72B6;&#x6001; rmadmin -getServiceStae node1/2 &gt;&gt; active/standby &gt;&gt; &#x5173;&#x95ED;active &gt;&gt; standy&#x81EA;&#x52A8;&#x6FC0;&#x6D3B;</li>
<li>&#x5B98;&#x65B9;Demo&#x6D4B;&#x8BD5;</li>
</ul>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/03/12/JS跨域/"><span>跨域操作</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/03/12/JS跨域/" rel="bookmark">
        <time class="entry-date published" datetime="2017-03-12T08:06:07.000Z">
          2017-03-12
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h3 id="&#x8DE8;&#x57DF;&#x64CD;&#x4F5C;"><a href="#&#x8DE8;&#x57DF;&#x64CD;&#x4F5C;" class="headerlink" title="&#x8DE8;&#x57DF;&#x64CD;&#x4F5C;"></a>&#x8DE8;&#x57DF;&#x64CD;&#x4F5C;</h3><p>&#x6D4F;&#x89C8;&#x5668;&#x51FA;&#x4E8E;&#x5B89;&#x5168;&#x65B9;&#x9762;&#x7684;&#x8003;&#x8651;&#xFF0C;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#x5185;&#x7684;&#x6240;&#x6709;&#x7684;&#x8BF7;&#x6C42;&#x505A;&#x4E86;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x9650;&#x5236;&#xFF0C;&#x79F0;&#x4E4B;&#x4E3A;&#xFF1A;&#x540C;&#x6E90;&#x7B56;&#x7565;&#xFF0C;&#x4F46;&#x6709;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x7684;&#x786E;&#x6709;&#x8FD9;&#x65B9;&#x9762;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E00;&#x4E0B;&#x8BF4;&#x660E;&#x4E00;&#x4E0B;&#xFF1A;</p>
<ul>
<li><code>&#x540C;&#x6E90;Same origin Policy</code>: &#x5373;&#x662F;&#x6307;3&#x76F8;&#x540C;&#x2013;&#x76F8;&#x540C;&#x534F;&#x8BAE; + &#x76F8;&#x540C;origin(&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x534F;&#x8BAE;&#x540E;&#x7684;<code>&#xFF0F;</code>&#x5230;<code>&#x7B2C;&#x4E00;&#x4E2A;&#xFF0F;</code>&#x4E4B;&#x95F4;&#x7684;&#x5185;&#x5BB9;) + &#x76F8;&#x540C;&#x7AEF;&#x53E3;     </li>
<li><code>&#x8DE8;&#x57DF;&#x8BBF;&#x95EE;&#xFF0F;&#x4E0D;&#x540C;&#x6E90;</code>: &#x5C31;&#x662F;&#x4E0E;&#x4E0D;&#x540C;&#x57DF;&#x95F4;&#x63A5;&#x53E3;&#x901A;&#x4FE1;,&#x4ECE;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x89D2;&#x5EA6;&#x57FA;&#x672C;&#x6709;4&#x79CD;&#x5E38;&#x89C1;&#x5F62;&#x5F0F;<code>JSONP</code>,<code>CROS</code>,<code>(&#x6EE1;&#x8DB3;&#x4E00;&#x5B9A;&#x6761;&#x4EF6;&#x4E0B;&#x7684;)&#x964D;&#x57DF;&#x65B9;&#x5F0F;</code>,<code>&#x901A;&#x8FC7;window&#x7684;message&#x4E8B;&#x4EF6;</code></li>
</ul>
<p>&#x9996;&#x5148;&#x6F14;&#x793A;&#x4E00;&#x4E0B;&#x6B63;&#x5E38;&#x8BF7;&#x6C42;&#x64CD;&#x4F5C;&#xFF1A;<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge,chrome=1&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>&#x8DE8;&#x57DF;&#x64CD;&#x4F5C;<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span><br><span class="line">  .container{</span><br><span class="line">    width: 900px;</span><br><span class="line">    margin: 0 auto;</span><br><span class="line">		background: slategray;</span><br><span class="line">  }</span><br><span class="line"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>aaa&#x57DF;&#x4E2D;&#x7684;html<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">hr</span>&gt;</span> &#x70B9;&#x51FB;&#x53BB;&#x53E6;&#x4E00;&#x57DF;bbb&#x4E2D;&#x52A0;&#x8F7D;&#x6570;&#x636E;</span><br><span class="line">		<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">button</span>&gt;</span>&#x70B9;&#x51FB;<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js&quot;</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span><br><span class="line">		<span class="keyword">var</span> btn = $(<span class="string">&apos;button&apos;</span>)[<span class="number">0</span>]</span><br><span class="line">		<span class="keyword">var</span> container = $(<span class="string">&apos;.container&apos;</span>)[<span class="number">0</span>]</span><br><span class="line">		btn.addEventListener(<span class="string">&apos;click&apos;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">			xhr = <span class="keyword">new</span> XMLHttpRequest()</span><br><span class="line">			xhr.open(<span class="string">&apos;get&apos;</span>, <span class="string">&apos;http://aaa.com:3000/info&apos;</span>, <span class="literal">true</span>)</span><br><span class="line">			xhr.send()</span><br><span class="line">			<span class="keyword">var</span> html = <span class="string">&quot;&quot;</span></span><br><span class="line">			xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">				<span class="keyword">if</span>(xhr.readyState === <span class="number">4</span> &amp;&amp; (xhr.status === <span class="number">200</span> || xhr.status === <span class="number">304</span>)) {</span><br><span class="line">					result = <span class="built_in">JSON</span>.parse(xhr.responseText)</span><br><span class="line">					html = <span class="built_in">document</span>.createElement(<span class="string">&apos;p&apos;</span>)</span><br><span class="line">					html.innerText = result[<span class="string">&apos;info&apos;</span>]</span><br><span class="line">					container.appendChild(html)</span><br><span class="line">				}<span class="keyword">else</span> {</span><br><span class="line">					<span class="built_in">console</span>.log(<span class="string">&apos;error&apos;</span>)</span><br><span class="line">				}</span><br><span class="line">			}				</span><br><span class="line">		})</span><br><span class="line">	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x4F7F;&#x7528;node&#x7684;mock-server&#xFF0C;&#x5728;router.js&#x4E2D;&#x56DE;&#x5E94;&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">app.get(<span class="string">&apos;/info&apos;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>{</span><br><span class="line">	<span class="keyword">var</span> data = {info: <span class="string">&apos;Greating from router.js&apos;</span>}</span><br><span class="line">	res.send(data)</span><br><span class="line">});</span><br></pre></td></tr></table></figure></p>
<p>&#x5F97;&#x5230;&#xFF1A;<br><img src="http://wx1.sinaimg.cn/mw690/006mou3Bly1fdk0lay053g31kw0t5npd.gif" alt="&#x540C;&#x6E90;&#x7B56;&#x7565;&#x4E0B;&#x8BF7;&#x6C42;"></p>
<p>&#x73B0;&#x5728;&#x6765;&#x8FDB;&#x884C;&#x7B80;&#x5355;&#x7684;&#x8DE8;&#x57DF;&#x8BF7;&#x6C42;&#xFF0C;&#x5982;<code>xhr.open(&apos;get&apos;, &apos;http://aaa.com:3000/info&apos;, true)</code>&#x4E2D;&#x7684;url&#x6539;&#x4E3A;<code>http://bbb.com:3000/info&apos;</code>&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x4F1A;&#x62A5;&#x9519;&#xFF1A;<br><img src="http://wx3.sinaimg.cn/large/006mou3Bly1fdk0rjzqkaj31kw04rq51.jpg" alt="&#x274C;&#x9519;&#x8BEF;"></p>
<ul>
<li>CORS<br>&#x521A;&#x624D;&#x4ECE;&#x63D0;&#x793A;&#x4E2D;&#x5DF2;&#x7ECF;&#x9690;&#x542B;&#x4E86;&#x63D0;&#x793A;&#xFF1A;<code>No &apos;Access-Control-Allow-Origin&apos; header is present on the requested resource. Origin &apos;http://aaa.com:3000&apos; is therefore not allowed access.</code>&#x5982;&#x679C;&#x6211;&#x4EEC;&#x5728;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x7684;&#x4E3A;&#x8BF7;&#x6C42;&#x5934;&#x6DFB;&#x52A0;&#x6743;&#x9650;&#xFF0C;&#x5C31;&#x80FD;&#x6B63;&#x5E38;&#x8BBF;&#x95EE;&#x4E86;&#x5982;&#xFF1A;<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">app.get(<span class="string">&apos;/info&apos;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>{</span><br><span class="line">	<span class="keyword">var</span> data = {info: <span class="string">&apos;Greating from router.js&apos;</span>}</span><br><span class="line">	res.header(<span class="string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="string">&quot;*&quot;</span>); </span><br><span class="line">	res.send(data)</span><br><span class="line">});</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x731C;&#x6D4B;&#x5B9E;&#x9645;&#x4E0A;request&#x662F;&#x5230;&#x8FBE;&#x4E86;&#xFF0C;&#x4F46;&#x6CA1;&#x6709;&#x54CD;&#x5E94;&#x6743;&#x9650;&#xFF0C;&#x54CD;&#x5E94;&#x5185;&#x5BB9;&#x4E3A;&#x7A7A;&#xFF0C;&#x6709;&#x4E9B;&#x6D4F;&#x89C8;&#x5668;&#x751A;&#x81F3;&#x72B6;&#x6001;&#x7801;&#x90FD;&#x663E;&#x793A;200&#xFF0C;&#x8FD9;&#x4E00;&#x70B9;&#x6311;&#x98DF;&#x65F6;&#x6CE8;&#x610F;&#xFF0C;<br>&#x7531;&#x4E8E;&#x8FD9;&#x79CD;&#x5904;&#x7406;&#x4E3B;&#x8981;&#x662F;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x5904;&#x7406;&#x7684;&#x8D44;&#x6E90;&#x5206;&#x4EAB;&#x65B9;&#x5F0F;&#xFF0C;&#x6240;&#x4EE5;&#x79F0;&#x4E3A;<code>CORS [Cross-Origan Resource Sharing] &#x8DE8;&#x57DF;&#x8D44;&#x6E90;&#x5171;&#x4EAB;</code></p>
<p>&#x8FD9;&#x6837;&#x867D;&#x7136;&#x89E3;&#x51B3;&#x4E86;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x90FD;&#x662F;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x64CD;&#x4F5C;&#xFF0C;&#x4E0B;&#x9762;&#x91CD;&#x70B9;&#x4ECB;&#x7ECD;&#x4ECE;&#x6D4F;&#x89C8;&#x5668;&#x7AEF;&#x7684;&#x64CD;&#x4F5C;      </p>
<ul>
<li>JSONP<br>&#x672C;&#x8D28;&#x4E0A;&#x5C31;&#x662F;&#x4E00;&#x4E2A;script&#x6807;&#x7B7E;&#x8C03;&#x7528;&#x7684;&#x8FDC;&#x7A0B;&#x811A;&#x672C;&#xFF0C;&#x5229;&#x7528;script&#x6807;&#x7B7E;&#x7684;src&#x5C5E;&#x6027;&#xFF0C;&#x62FF;&#x5230;&#x4E0D;&#x540C;&#x57DF;&#x7684;&#x8FDC;&#x7A0B;&#x811A;&#x672C;&#x5185;&#x5BB9;&#x5B9E;&#x73B0;&#x8DE8;&#x57DF;&#x901A;&#x4FE1;&#xFF0C;&#x5176;&#x5185;&#x5BB9;&#x683C;&#x5F0F;&#x4E3A;<code>callBack({data})</code>&#xFF0C;&#x603B;&#x4E4B;&#x57FA;&#x672C;&#x4E0A;&#x5C31;&#x662F;js&#x8C03;&#x7528;&#x51FD;&#x6570;&#x7684;&#x683C;&#x5F0F;&#xFF0C;script&#x4F1A;&#x6267;&#x884C;&#x627E;&#x5230;&#x672C;&#x6267;&#x884C;&#x672C;&#x5730;&#x65B9;&#x6CD5;<code>callBack</code>,&#x5C06;&#x4E0A;&#x8BC9;&#x4EE3;&#x7801;&#x66F4;&#x6539;&#x4E00;&#x4E0B;&#xFF1A;<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">scrip</span>&gt;</span></span><br><span class="line">	var callBack = function(data) {</span><br><span class="line">		console.log(&quot;^^^^ . ^^^^^&quot; + data)</span><br><span class="line">		alert(&apos;&#x672C;&#x5730;&#x5199;&#x597D;&#x4E86;&#x7684;callBack&#xFF0C;&#x88AB;&#x8FDC;&#x7A0B;js&#x8C03;&#x7528;&#xFF0C;&#x5E76;&#x4F20;&#x9012;&#x6570;&#x636E;: &apos; + data.info)</span><br><span class="line">	}</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;http://bbb.com:3000/info.js&quot;</span>&gt;</span><span class="undefined">&lt;/script</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>&#x5237;&#x65B0;&#x9875;&#x9762;&#x5C31;&#x80FD;&#x770B;&#x5230;callBack&#x88AB;&#x8C03;&#x7528;&#x4E86;,&#x8FD9;&#x5C31;&#x662F;JSONP&#x7684;&#x6838;&#x5FC3;&#x5185;&#x5BB9;<br>&#x4F46;&#x662F;&#x5982;&#x679C;&#x4EC5;&#x4EC5;&#x662F;&#x8FD9;&#x6837;&#xFF0C;&#x5C31;&#x8981;&#x6C42;&#x6211;&#x4EEC;&#x63D0;&#x8D77;&#x5728;&#x672C;&#x5730;&#x5199;&#x597D;callBack&#x5E76;&#x901A;&#x77E5;&#x7ED9;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x534F;&#x5546;&#x7684;&#x6210;&#x672C;&#x592A;&#x9AD8;&#xFF0C;&#x6240;&#x4EE5;&#x5C06;callBack&#x51FD;&#x6570;&#x540D;&#x5E26;&#x5728;url&#x4E2D;&#xFF0C;url&#x505A;&#x6210;<code>?callback=funcName</code>,&#x540E;&#x53F0;&#x83B7;&#x53D6;&#x5230;funcName&#xFF0C;&#x5728;&#x7EC4;&#x7EC7;JSONP&#x6587;&#x4EF6;&#x4F20;&#x5165;&#x6570;&#x636E;&#x5373;&#x53EF;<br>&#x6CE8;&#x610F;&#xFF1A;<strong>&#x867D;&#x7136;&#x603B;&#x662F;&#x6839;ajax&#x4E00;&#x8D77;&#x51FA;&#x73B0;&#xFF0C;&#x4F46;&#x672C;&#x8D28;&#x4E0A;&#x662F;2&#x4E2D;&#x4E1C;&#x897F;&#xFF0C;&#x524D;&#x8005;&#x662F;&#x5F02;&#x6B65;&#x7F51;&#x7EDC;&#x6280;&#x672F;&#xFF0C;&#x800C;&#x540E;&#x8005;&#x5C31;&#x662F;&#x4E2A;&#x666E;&#x901A;script&#x811A;&#x672C;</strong></p>
<ul>
<li>postMessage<br>&#x9002;&#x7528;&#x4E8E;&#x5171;&#x7528;&#x4E00;&#x4E2A;window&#x4E0B;&#x4E0D;&#x540C;frame&#x7684;&#x901A;&#x4FE1;&#xFF0C;&#x5373;&#x4E0D;&#x540C;html&#x95F4;&#x53EF;&#x8DE8;&#x57DF;&#x7684;&#x901A;&#x4FE1;&#xFF0C;eg&#xFF0C;&#x8FD9;&#x662F;&#x5728;<code>bbb.com&#x57DF;&#x4E0B;&#x7684;iframe.html</code>&#xFF1A;<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span><br><span class="line">        body {</span><br><span class="line">            background: palevioletred;</span><br><span class="line">        }</span><br><span class="line">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>iframe &#x4E2D;&#x7684;html -- &#x6765;&#x81EA;&#x4E0D;&#x540C;&#x57DF;bbb.com&#x4E2D;&#x7684;html<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;page&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">			&#x8F93;&#x5165;&#xFF1A;<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;input&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js&quot;</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span><br><span class="line">		<span class="keyword">var</span> input = $(<span class="string">&apos;.page .input&apos;</span>)[<span class="number">0</span>]</span><br><span class="line">		input.addEventListener(<span class="string">&apos;input&apos;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>{</span><br><span class="line">			<span class="built_in">console</span>.log(<span class="keyword">this</span>.value)</span><br><span class="line">			<span class="built_in">window</span>.parent.postMessage(<span class="keyword">this</span>.value, <span class="string">&apos;*&apos;</span>)</span><br><span class="line">		})</span><br><span class="line"></span><br><span class="line">		<span class="built_in">window</span>.addEventListener(<span class="string">&apos;message&apos;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>{</span><br><span class="line">			input.value = e.data</span><br><span class="line">			<span class="built_in">console</span>.log(e.data)</span><br><span class="line">		})</span><br><span class="line">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span></span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>&#x7136;&#x540E;&#x589E;&#x52A0;&#x65B0;&#x4EE3;&#x7801;&#x540E;&#x7684;<code>index.html</code>&#x4E3A;&#xFF1A;<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge,chrome=1&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>server-mock&#x4F7F;&#x7528;&#x8BF4;&#x660E;<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span><br><span class="line">  .container{</span><br><span class="line">    width: 900px;</span><br><span class="line">    margin: 0 auto;</span><br><span class="line">		background: slategray;</span><br><span class="line">  }</span><br><span class="line">	.page {</span><br><span class="line">		background: lightseagreen;</span><br><span class="line">		text-align: center;</span><br><span class="line">	}</span><br><span class="line">	iframe {</span><br><span class="line">		width: 300px;</span><br><span class="line">	}</span><br><span class="line"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">h1</span>&gt;</span>aaa&#x57DF;&#x4E2D;&#x7684;html<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">hr</span>&gt;</span> &#x70B9;&#x51FB;&#x53BB;&#x53E6;&#x4E00;&#x57DF;bbb&#x4E2D;&#x52A0;&#x8F7D;&#x6570;&#x636E;</span><br><span class="line">		<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">button</span>&gt;</span>&#x70B9;&#x51FB;<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;page&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">			&#x8F93;&#x5165;&#xFF1A;<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;input&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;http://bbb.com:3000/iframe.html&quot;</span> <span class="attr">frameborder</span>=<span class="string">&quot;0&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span>		</span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js&quot;</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span><br><span class="line">		<span class="keyword">var</span> btn = $(<span class="string">&apos;button&apos;</span>)[<span class="number">0</span>]</span><br><span class="line">		<span class="keyword">var</span> container = $(<span class="string">&apos;.container&apos;</span>)[<span class="number">0</span>]</span><br><span class="line">		btn.addEventListener(<span class="string">&apos;click&apos;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">			xhr = <span class="keyword">new</span> XMLHttpRequest()</span><br><span class="line">			xhr.open(<span class="string">&apos;get&apos;</span>, <span class="string">&apos;http://bbb.com:3000/info&apos;</span>, <span class="literal">true</span>)</span><br><span class="line">			xhr.send()</span><br><span class="line">			<span class="keyword">var</span> html = <span class="string">&quot;&quot;</span></span><br><span class="line">			xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">				<span class="keyword">if</span>(xhr.readyState === <span class="number">4</span> &amp;&amp; (xhr.status === <span class="number">200</span> || xhr.status === <span class="number">304</span>)) {</span><br><span class="line">					result = <span class="built_in">JSON</span>.parse(xhr.responseText)</span><br><span class="line">					html = <span class="built_in">document</span>.createElement(<span class="string">&apos;p&apos;</span>)</span><br><span class="line">					html.innerText = result[<span class="string">&apos;info&apos;</span>]</span><br><span class="line">					container.appendChild(html)</span><br><span class="line">				}<span class="keyword">else</span> {</span><br><span class="line">					<span class="built_in">console</span>.log(<span class="string">&apos;error&apos;</span>)</span><br><span class="line">				}</span><br><span class="line">			}				</span><br><span class="line">		})</span><br><span class="line"></span><br><span class="line">		<span class="keyword">var</span> callBack = <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>{</span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">&quot;^^^^ . ^^^^^&quot;</span> + data)</span><br><span class="line">			alert(<span class="string">&apos;&#x672C;&#x5730;&#x5199;&#x597D;&#x4E86;&#x7684;callBack&#xFF0C;&#x88AB;&#x8FDC;&#x7A0B;js&#x8C03;&#x7528;&#xFF0C;&#x5E76;&#x4F20;&#x9012;&#x6570;&#x636E;: &apos;</span> + data.info)</span><br><span class="line">		}</span><br><span class="line">	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;http://bbb.com:3000/info.js&quot;</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span><br><span class="line">		<span class="keyword">var</span> iframe = $(<span class="string">&apos;.page iframe&apos;</span>)[<span class="number">0</span>]</span><br><span class="line">		<span class="keyword">var</span> input = $(<span class="string">&apos;.page .input&apos;</span>)[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">		input.addEventListener(<span class="string">&apos;input&apos;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>{</span><br><span class="line">			<span class="built_in">console</span>.log(<span class="keyword">this</span>.value)</span><br><span class="line">			<span class="built_in">window</span>.frames[<span class="number">0</span>].postMessage(<span class="keyword">this</span>.value, <span class="string">&apos;*&apos;</span>)</span><br><span class="line">		})</span><br><span class="line"></span><br><span class="line">		<span class="built_in">window</span>.addEventListener(<span class="string">&apos;message&apos;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>{</span><br><span class="line">			input.value = e.data</span><br><span class="line">			<span class="built_in">console</span>.log(e.data)</span><br><span class="line">		})</span><br><span class="line">	</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>&#x9A8C;&#x8BC1;&#x7ED3;&#x679C;&#x540E;&#x6700;&#x7EC8;&#x5B9E;&#x73B0;2&#x4E0D;&#x540C;&#x57DF;&#x4E0D;&#x540C;html&#x6587;&#x4EF6;&#x4E4B;&#x95F4;&#x7684;&#x901A;&#x4FE1;</p>
<ul>
<li>&#x4E00;&#x5B9A;&#x6761;&#x4EF6;&#x4E0B;&#x7684;<em>&#x964D;&#x57DF;</em><br>&#x5728;&#x4E3B;&#x57DF;&#x76F8;&#x540C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x901A;&#x8FC7;&#x8BBE;&#x7F6E;<code>document.domain</code>&#x4E3A;&#x5171;&#x540C;&#x7684;&#x81EA;&#x8EAB;&#x6216;&#x8005;&#x66F4;&#x9AD8;&#x4E00;&#x7EA7;&#x7684;&#x8D4B;&#x4E88;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<br><code>window.fram[0].document.querySelecotr(&apos;.page .inpu&apos;)</code>&#x8BBF;&#x95EE;&#x5230;iframe.html&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x4E86;&#xFF0C;&#x4E25;&#x683C;&#x8BF4;&#x6765;&#x5E76;&#x4E0D;&#x662F;&#x4E00;&#x79CD;&#x8DE8;&#x57DF;<br>&#xFF0C;&#x6BD4;&#x5982;&#x5B8C;&#x5168;demain&#x4E0D;&#x7528;&#x7684;2&#x4E2A;&#x57DF;&#x662F;&#x4E0D;&#x5141;&#x8BB8;&#x8FD9;&#x6837;&#x64CD;&#x4F5C;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x771F;&#x6B63;&#x9700;&#x8981;&#x8DE8;&#x57DF;&#x7684;&#x65F6;&#x5019;&#x5E76;&#x4E0D;&#x5E38;&#x7528;</li>
</ul>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/JS/">JS</a>
    </span>
    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/03/07/MapReduce思想/"><span>MapReduce设计思想</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/03/07/MapReduce思想/" rel="bookmark">
        <time class="entry-date published" datetime="2017-03-07T07:26:20.000Z">
          2017-03-07
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>so&#x4E0A;&#x63A8;&#x8350;&#x4E86;&#x4E00;&#x7BC7;&#x901A;&#x4FD7;&#x7684;&#x4ECB;&#x7ECD;&#x4E86;<code>MapReduce</code>&#x8BBE;&#x8BA1;&#x601D;&#x60F3;&#x7684;&#x6587;&#x7AE0;&#xFF0C;&#x7B80;&#x5355;&#x7684;&#x505A;&#x4E86;&#x7FFB;&#x8BD1;&#xFF1A;<br>     &#x5148;&#x4ECE;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x9700;&#x6C42;&#x5F00;&#x59CB;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x5728;js&#x4E2D;&#x60F3;&#x8F93;&#x51FA;&#x8FD9;&#x6837;&#x7684;&#x5185;&#x5BB9;&#x65F6;&#xFF0C;&#x6700;&#x76F4;&#x63A5;&#x7684;&#x65B9;&#x6CD5;&#x662F;&#x4F7F;&#x7528;<code>alert</code>&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">alert(<span class="string">&apos;apple!&apos;</span>);</span><br><span class="line">alert(<span class="string">&apos;bannaner!&apos;</span>);</span><br></pre></td></tr></table></figure></p>
<p>&#x4F46;&#x8FD9;&#x7EDD;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x597D;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;&#x7410;&#x788E;&#x7EDD;&#x5E76;&#x4E14;&#x7E41;&#x7410;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x5C06;&#x5B83;&#x5C01;&#x88C5;&#x6210;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fruit</span>(<span class="params">str</span>) </span>{</span><br><span class="line">	alert(str + <span class="string">&apos;!&apos;</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">fruit(<span class="string">&apos;apple&apos;</span>); <span class="comment">// apple!</span></span><br><span class="line">fruit(<span class="string">&apos;plum&apos;</span>); <span class="comment">// plum!</span></span><br></pre></td></tr></table></figure></p>
<p>&#x901A;&#x8FC7;&#x5C06;&#x62E5;&#x6709;&#x76F8;&#x4F3C;&#x529F;&#x80FD;&#x7684;&#x4EE3;&#x7801;&#x5C01;&#x88C5;&#x4E3A;&#x51FD;&#x6570;&#xFF0C;&#x53EF;&#x4EE5;&#x8BA9;&#x4EE3;&#x7801;&#x7B80;&#x6D01;&#x660E;&#x4E86;<br>&#x90A3;&#x4E48;&#x5982;&#x679C;&#x662F;&#x4E0B;&#x9762;&#x7684;&#x60C5;&#x51B5;&#x5462;&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">alert(<span class="string">&apos;Tim like:&apos;</span>)</span><br><span class="line">fruit(<span class="string">&apos;apple&apos;</span>)</span><br><span class="line">fruit(<span class="string">&apos;plum&apos;</span>)</span><br><span class="line"></span><br><span class="line">alert(<span class="string">&apos;Jerry like:&apos;</span>)</span><br><span class="line">fruit(<span class="string">&apos;lemmon&apos;</span>)</span><br><span class="line">fruit(<span class="string">&apos;orange&apos;</span>)</span><br></pre></td></tr></table></figure></p>
<p>&#x6BD4;&#x521A;&#x624D;&#x7A0D;&#x5FAE;&#x590D;&#x6742;&#x4E00;&#x70B9;&#x513F;&#xFF0C;&#x4F46;&#x4E5F;&#x5F88;&#x5BB9;&#x6613;&#x5C31;&#x80FD;&#x88AB;&#x5305;&#x88C5;&#x4E3A;&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">someOneDo</span>(<span class="params">someone, f1, f2, f</span>) </span>{</span><br><span class="line">  alert(someOne + <span class="string">&apos;like:&apos;</span>)</span><br><span class="line">  f(f1)</span><br><span class="line">  f(f2)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">someOneDo(<span class="string">&apos;Tim&apos;</span>,<span class="string">&apos;apple&apos;</span>, <span class="string">&apos;lemmon&apos;</span>, fruit);</span><br><span class="line"><span class="comment">// &#x4F7F;&#x7528;&#x533F;&#x540D;&#x51FD;&#x6570;&#xFF1A;</span></span><br><span class="line">someOneDo(<span class="string">&apos;Jerry&apos;</span>,<span class="string">&apos;lemmon&apos;</span>,<span class="string">&apos;orange&apos;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">str</span>) </span>{</span><br><span class="line">  	alert(str + <span class="string">&apos;!&apos;</span>);</span><br><span class="line">});</span><br></pre></td></tr></table></figure></p>
<p>&#x628A;fruit&#x51FD;&#x6570;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x5728;someOneDo&#x4E2D;&#x8C03;&#x7528;&#xFF0C;&#x8FD9;&#x662F;js&#x4E2D;&#x5178;&#x578B;&#x7684;&#x56DE;&#x8C03;&#x3002;<br>&#x63A5;&#x4E0B;&#x6765;&#x4EFF;&#x7167;&#x4E0A;&#x8FF0;&#x6765;&#x5904;&#x7406;&#x4E00;&#x4E2A;&#x6839;&#x6570;&#x7EC4;&#x6709;&#x5173;&#x7684;&#x95EE;&#x9898;&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;a.length; i++) {</span><br><span class="line">  a[i] = a[i] * <span class="number">2</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;a.length; i++) {</span><br><span class="line">  a[i] = alert(a[i])</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<p>&#x5206;&#x6790;&#x4E00;&#x4E0B;&#xFF0C;&#x6839;&#x4E0A;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#x5B8C;&#x5168;&#x4E00;&#x6837;&#xFF0C;&#x4EE3;&#x7801;&#x7C7B;&#x4F3C;&#xFF0C;&#x90FD;&#x6709;for&#x5FAA;&#x73AF;&#xFF0C;&#x90FD;&#x518D;&#x5BF9;&#x5143;&#x7D20;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x4E0D;&#x59A8;&#x8FD9;&#x6837;&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">map(f,arr) {</span><br><span class="line">  f(arr)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">map(<span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>{ <span class="keyword">return</span> x*<span class="number">2</span>}, a);</span><br><span class="line">map(alert, a);</span><br></pre></td></tr></table></figure></p>
<p>&#x7F16;&#x7A0B;&#x4E2D;&#x4E2D;&#x4F1A;&#x6709;&#x9047;&#x5230;&#x8FD9;&#x6837;&#x7684;&#x72B6;&#x51B5;&#xFF0C;&#x5C31;&#x62FF;&#x6570;&#x7EC4;&#x6765;&#x8BF4;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a</span>)</span><br><span class="line"></span>{</span><br><span class="line">  <span class="keyword">var</span> s = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; a.length; i++)</span><br><span class="line">    s += a[i];</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> s;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">join</span>(<span class="params">a</span>)</span><br><span class="line"></span>{</span><br><span class="line">  <span class="keyword">var</span> s = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; a.length; i++)</span><br><span class="line">  	s += a[i];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> s;</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<p><code>sum&#x5143;&#x7D20;&#x6C42;&#x548C;</code>&#x548C;<code>join&#x62FC;&#x63A5;&#x5143;&#x7D20;</code>&#x4EE3;&#x7801;&#x662F;&#x5982;&#x6B64;&#x7684;&#x7C7B;&#x4F3C;&#xFF0C;&#x5FCD;&#x4E0D;&#x4F4F;&#x5728;&#x62BD;&#x8C61;&#x4E00;&#x4E0B;&#xFF1A;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reduce</span>(<span class="params">fn, a, init</span>) </span>{</span><br><span class="line">  <span class="keyword">var</span> s = init;</span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; a.length; i++) {</span><br><span class="line">	s = fn(s, a[i])</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">return</span> s</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a</span>) </span>{</span><br><span class="line">  <span class="keyword">return</span> reduce(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>{ <span class="keyword">return</span> a+b }, a, <span class="number">0</span>)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">jion</span>(<span class="params">a</span>) </span>{</span><br><span class="line">  <span class="keyword">return</span> reduce(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>{ <span class="keyword">return</span> a+b}, a, <span class="string">&quot;&quot;</span>)</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<p>&#x8FD9;&#x6837;&#x5C31;&#x628A;&#x91CC;&#x9762;&#x7684;&#x64CD;&#x4F5C;&#x5C01;&#x88C5;&#x5230;&#x4E86;reduce&#x4E0A;&#xFF0C;&#x73B0;&#x5728;&#x4E0D;&#x7BA1;&#x662F;&#x6C42;&#x548C;&#x8FD8;&#x662F;&#x62FC;&#x63A5;&#x90FD;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x6765;&#x5B8C;&#x6210;&#x4E86;<br>&#x5F88;&#x591A;&#x7684;&#x8001;&#x65E7;&#x7684;&#x8BED;&#x8A00;&#x6CA1;&#x529E;&#x6CD5;&#x50CF;&#x8FD9;&#x91CC;&#x7684;js&#x4E00;&#x6837;&#x628A;&#x51FD;&#x6570;&#x7F6E;&#x4E3A;<code>first class object</code>&#xFF0C;&#x6BD4;&#x5982;C&#xFF0F;C++&#x4E2D;&#x867D;&#x7136;&#x6709;&#x51FD;&#x6570;&#x6307;&#x9488;&#xFF0C;&#x4F46;&#x4E5F;&#x505A;&#x4E0D;&#x5230;&#x8FD9;&#x6837;&#x7684;&#x7B80;&#x4FBF;&#xFF0C;&#x5F88;&#x591A;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7684;&#x8BED;&#x8A00;&#x5E72;&#x8106;&#x4E0D;&#x63D0;&#x5021;&#x5BF9;&#x51FD;&#x6570;&#x505A;&#x8FC7;&#x591A;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x6BD4;&#x5982;&#x8981;&#x5728;Java&#x4E2D;&#x8FD9;&#x6837;&#x5C06;&#x51FD;&#x6570;&#x7F6E;&#x4E3A;<code>first class object</code>,&#x9700;&#x8981;&#x4F60;&#x4ECE;&#x5934;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;<code>functor</code>&#x7C7B;&#x4F5C;&#x4E3A;&#x51FD;&#x6570;&#x57FA;&#x7840;&#x5BF9;&#x8C61;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x5728;&#x6570;&#x636E;&#x5904;&#x7406;&#x9886;&#x57DF;&#x5185;&#xFF0C;&#x73B0;&#x4EE3;&#x4E00;&#x70B9;&#x7684;&#x8BED;&#x8A00;&#x90FD;&#x4E0D;&#x4F1A;&#x81EA;&#x5927;&#x5230;&#x2013;&#x6B7B;&#x62B1;&#x7740;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x4E00;&#x5207;&#x95EE;&#x9898;&#x7684;&#x8C2C;&#x8BBA;&#x3002;<br>&#x4E0A;&#x8FF0;&#x5185;&#x5BB9;&#x591A;&#x6570;&#x4EBA;&#x770B;&#x5230;&#x8FD9;&#x91CC;&#x5C31;&#x89C9;&#x5F97;&#x5176;&#x5B9E;&#x4F60;&#x4E5F;&#x6CA1;&#x8BF4;&#x4EC0;&#x4E48;&#xFF0C;&#x4E0D;&#x8FC7;&#x662F;&#x5C06;&#x51FD;&#x6570;&#x5728;&#x62BD;&#x8C61;&#x4E86;&#x800C;&#x5DF2;&#xFF0C;&#x90A3;&#x6211;&#x4EEC;&#x5C31;&#x56DE;&#x5230;<code>map</code>&#x51FD;&#x6570;&#x521A;&#x521A;&#x5BF9;&#x6570;&#x7EC4;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x770B;&#x770B;&#x6211;&#x4EEC;&#x5230;&#x5E95;&#x80FD;&#x6709;&#x54EA;&#x4E9B;&#x83B7;&#x76CA;&#x5427;&#xFF01;</p>
<p>&#x901A;&#x8FC7;&#x4E0A;&#x8FF0;map&#x53D1;&#x73B0;&#xFF1A;&#x5F53;&#x4F60;<strong>&#x5BF9;&#x6570;&#x7EC4;&#x5143;&#x7D20;&#x6709;&#x4EFB;&#x4F55;&#x7684;&#x64CD;&#x4F5C;&#x65F6;&#xFF0C;&#x65E0;&#x8BBA;&#x6570;&#x7EC4;&#x600E;&#x6837;&#x4FBF;&#x5229;&#x90FD;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x7ED3;&#x679C;</strong>&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4ECE;0..last,&#x4E5F;&#x53EF;&#x4EE5;&#x4ECE;last&#x2026;0&#xFF0C;&#x66F4;&#x53EF;&#x4EE5;&#x628A;&#x6570;&#x7EC4;&#x4E00;&#x5206;&#x4E3A;&#x4E8C;&#xFF0C;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x4ECE;0&#x2026;half,&#x53E6;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x4ECE;half..last&#xFF0C;&#x5BF9;&#x770B;&#x5230;&#x4E86;&#x5417;&#xFF1F;map&#x5BF9;&#x6570;&#x7EC4;&#x7684;&#x64CD;&#x4F5C;&#x6574;&#x6574;&#x5FEB;&#x4E86;&#x4E00;&#x500D;&#x3002;<br>&#x73B0;&#x5728;&#x5047;&#x8BBE;&#x4F60;&#x6709;&#x6210;&#x767E;&#x4E2A;&#x4E0A;&#x5343;&#x4E2A;&#x5206;&#x5E03;&#x4E8E;&#x4E16;&#x754C;&#x5404;&#x5730;&#x7684;&#x6570;&#x636E;&#x4E2D;&#x5FC3;&#xFF0C;&#x6BCF;&#x53F0;&#x673A;&#x5668;&#x90FD;&#x8FD0;&#x884C;&#x7740;&#x5FAE;&#x5C0F;&#x7684;<code>map</code>&#x64CD;&#x4F5C;&#xFF0C;&#x5904;&#x7406;&#x4E00;&#x5C0F;&#x4E2A;&#x5C0F;&#x5C0F;&#x7684;&#x6570;&#x636E;&#x7247;&#x6BB5;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x7EC4;&#x5408;&#x8D77;&#x6765;&#x7684;&#x5904;&#x7406;&#x80FD;&#x529B;&#x5C06;&#x4F7F;TP&#xFF0C;BP&#x7EA7;&#x522B;&#x7684;&#xFF0C;&#x8FD9;&#x5C31;&#x4E3A;&#x5904;&#x7406;&#x5927;&#x6570;&#x636E;&#x95EE;&#x9898;&#x63D0;&#x4F9B;&#x4E86;&#x601D;&#x8DEF;</p>
<blockquote>
<p>By abstracting away the very concept of looping, you can implement looping any way you want, including implementing it in a way that scales nicely with extra hardware.   </p>
</blockquote>
<p>&#x8FD9;&#x5C31;&#x662F;MapReduce&#x5904;&#x7406;&#x5927;&#x6570;&#x636E;&#x7684;&#x6838;&#x5FC3;&#x601D;&#x60F3;&#xFF1A;<strong>&#x901A;&#x8FC7;&#x62BD;&#x8C61;&#x51FA;&#x5FAA;&#x73AF;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x53EF;&#x4EE5;&#x4EE5;&#x4EFB;&#x4F55;&#x4F60;&#x60F3;&#x8981;&#x7684;&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;&#x5FAA;&#x73AF;&#xFF0C;&#x540C;&#x65F6;&#x652F;&#x6301;&#x4EFB;&#x4F55;&#x7A0B;&#x5EA6;&#x4E0A;&#x7684;&#x968F;&#x610F;&#x6269;&#x5C55;&#x989D;&#x5916;&#x7684;&#x786C;&#x4EF6;&#x6DFB;&#x52A0;&#x8282;&#x70B9;&#x3002;</strong></p>
<p>&#x53C2;&#x8003;&#xFF1A;<br><a href="https://www.joelonsoftware.com/2006/08/01/can-your-programming-language-do-this" target="_blank" rel="external">https://www.joelonsoftware.com/2006/08/01/can-your-programming-language-do-this</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2017/02/11/swift-tip004-闭包closure面面观/"><span>swift-tip004 闭包closure面面观</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/02/11/swift-tip004-闭包closure面面观/" rel="bookmark">
        <time class="entry-date published" datetime="2017-02-11T13:22:30.000Z">
          2017-02-11
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p><code>&#x95ED;&#x5305;</code>: &#x81EA;&#x5305;&#x542B;&#x7684;&#x51FD;&#x6570;&#x4EE3;&#x7801;&#x5757;&#xFF0C;&#x5F88;&#x50CF;OC&#x4E2D;&#x7684;Block&#xFF0C;&#x53EF;&#x4EE5;&#x88AB;&#x4F20;&#x9012;&#xFF0C;&#x4F5C;&#x7528;&#x5F80;&#x5F80;&#x662F;&#x6355;&#x83B7;&#x4E0E;&#x5B58;&#x50A8;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x7684;&#x53D8;&#x91CF;&#x6216;&#x5F15;&#x7528;&#xFF0C;&#x5B9E;&#x73B0;&#x5BF9;&#x4E0D;&#x5728;&#x540C;&#x4E00;&#x4F5C;&#x7528;&#x57DF;&#x5185;&#x7684;&#x6570;&#x636E;&#x7684;&#x8BBF;&#x95EE;&#xFF0C;&#x4ECE;&#x8FD9;&#x4E2A;&#x610F;&#x4E49;&#x4E0A;&#x6765;&#x8BB2;&#xFF0C;&#x53EA;&#x8981;&#x80FD;&#x53BB;&#x8BBF;&#x95EE;&#x5230;&#x4E0D;&#x662F;&#x81EA;&#x5DF1;&#x4F5C;&#x7528;&#x57DF;&#x5185;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x90FD;&#x53EF;&#x4EE5;&#x7B97;&#x662F;&#x95ED;&#x5305;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;</p>
<ul>
<li>&#x5168;&#x5C40;&#x51FD;&#x6570;&#x662F;&#x4E00;&#x4E2A;&#x6709;&#x540D;&#x5B57;&#x4F46;&#x4E0D;&#x4F1A;&#x6355;&#x83B7;&#x4EFB;&#x4F55;&#x503C;&#x5F97;&#x95ED;&#x5305;&#xFF0C;&#x56E0;&#x4E3A;&#x4F4D;&#x4E8E;&#x6700;&#x5916;&#x5C42;&#xFF0C;&#x5728;&#x4E00;&#x4E9B;&#x8BED;&#x8A00;&#x4E2D;&#x5F53;&#x6210;&#x7279;&#x6B8A;&#x7684;&#x95ED;&#x5305;&#xFF1B;</li>
<li>&#x5D4C;&#x5957;&#x51FD;&#x6570;&#x662F;&#x4E00;&#x4E2A;&#x6709;&#x540D;&#x5B57;&#x5E76;&#x53EF;&#x4EE5;&#x6355;&#x83B7;&#x5176;&#x5916;&#x5C42;&#x4F5C;&#x7528;&#x57DF;&#x5185;&#x503C;&#x7684;&#x95ED;&#x5305;</li>
<li>&#x95ED;&#x5305;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x662F;&#x53EF;&#x4EE5;&#x6355;&#x83B7;&#x4E0A;&#x4E0B;&#x6587;&#x53D8;&#x91CF;&#x7684;&#x533F;&#x540D;&#x95ED;&#x5305;</li>
</ul>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/swift-tips-闭包-closure/">swift, tips, 闭包, closure</a>
    </span>
    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2016/08/19/Coredata-and-protocol-oriented-programming-in-Swift/"><span>Coredata and protocol oriented programming in Swift</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2016/08/19/Coredata-and-protocol-oriented-programming-in-Swift/" rel="bookmark">
        <time class="entry-date published" datetime="2016-08-19T05:43:32.000Z">
          2016-08-19
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>&#x9996;&#x5148;&#xFF0C;&#x5148;&#x7ED9;&#x51FA;&#x4E00;&#x4E2A;&#x7A0D;&#x6709;&#x96BE;&#x5EA6;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x5173;&#x4E8E;<code>Core data &#xFF0B; protocol</code>&#x7684;&#x5177;&#x4F53;&#x4F7F;&#x7528;&#xFF0C;&#x5982;&#x679C;&#x770B;&#x4E0D;&#x4E0B;&#x53BB;&#xFF0C;&#x5C31;&#x4E0D;&#x7528;&#x6307;&#x671B;&#x80FD;&#x5B66;&#x4F1A;&#x4E86;</p>
<ul>
<li><p>&#x4F7F;&#x7528;protocol&#x7B80;&#x5316;&#x548C;&#x89C4;&#x8303;NSManagedObject&#x7684;&#x64CD;&#x4F5C;</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x4F7F;&#x7528;protocol &#x5206;&#x79BB;<code>NSFetchedResultsController</code> &#x6570;&#x636E;&#x64CD;&#x4F5C;</p>
</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2016/07/19/struct-or-class-关于swift中Model的Tip/"><span>struct? or class? 关于swift中Model的Tip</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2016/07/19/struct-or-class-关于swift中Model的Tip/" rel="bookmark">
        <time class="entry-date published" datetime="2016-07-19T03:47:47.000Z">
          2016-07-19
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>&#x8DDF;&#x522B;&#x4EBA;&#x5439;&#x725B;&#xFF0C;&#x8BBA;&#x622A;&#x6B62;&#x5230;&#x76EE;&#x524D;&#x4E3A;&#x6B62;&#xFF0C;&#x5728;&#x5B9E;&#x9645;&#x9879;&#x76EE;&#x4E2D;&#x4F7F;&#x7528;<code>swfit</code>&#x548C;<code>Objective-C</code>&#x6700;&#x5927;&#x7684;&#x4E0D;&#x540C;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x63D0;&#x5230;<code>Model</code>&#x9009;&#x578B;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x4E2A;&#x4EBA;&#x611A;&#x89C1;&#xFF1A;&#x8FD9;&#x4E2A;&#x4EBA;&#x8981;&#x4E48;&#x5C31;&#x662F;&#x6CBF;&#x7528;OC&#x7684;&#x65B9;&#x5F0F;&#x5728;&#x7528;<code>swift</code>&#xFF0C;&#x8981;&#x4E48;&#x5C31;&#x662F;totality&#x8C0E;&#x8A00;&#xFF0C;&#x603B;&#x4E4B;&#x90FD;&#x4E0D;&#x80FD;&#x7B97;&#x662F;&#x771F;&#x6B63;&#x7684;<code>swifter</code></p>
<p>&#x6211;&#x628A;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x79F0;&#x4E4B;&#x4E3A;<code>swift</code>&#x4E2D;&#x7684;&#x6700; <em>WTF</em> &#x95EE;&#x9898;</p>
<p>&#x5982;&#x4E00;&#x4E2A;&#x5E38;&#x89C1;&#x7684;&#x4E2A;&#x4EBA;&#x8D44;&#x6599;&#xFF3B;Profile&#xFF3D;&#x90E8;&#x5206;&#x7684;&#x5B9E;&#x73B0;&#xFF1A;&#x5728;&#x9875;&#x9762;&#x52A0;&#x8F7D;&#x4E4B;&#x524D;&#xFF0C;&#x5F00;&#x59CB;loadData&#xFF0C;&#x5B8C;&#x6210;&#x4EE5;&#x540E;&#x63A5;&#x7740;&#x88C5;&#x586B;proflieModel&#xFF0C;&#x7136;&#x540E;&#x5C55;&#x793A;model&#xFF0C;</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2016/06/29/swift-tip之开发中的封装讨论/"><span>swift-tip之开发中的封装讨论</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2016/06/29/swift-tip之开发中的封装讨论/" rel="bookmark">
        <time class="entry-date published" datetime="2016-06-29T01:48:21.000Z">
          2016-06-29
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="swift-&#x5F00;&#x53D1;&#x7ECF;&#x9A8C;&#x4E4B;&#x5E38;&#x89C1;&#x5C01;&#x88C5;&#x8BA8;&#x8BBA;"><a href="#swift-&#x5F00;&#x53D1;&#x7ECF;&#x9A8C;&#x4E4B;&#x5E38;&#x89C1;&#x5C01;&#x88C5;&#x8BA8;&#x8BBA;" class="headerlink" title="swift &#x5F00;&#x53D1;&#x7ECF;&#x9A8C;&#x4E4B;&#x5E38;&#x89C1;&#x5C01;&#x88C5;&#x8BA8;&#x8BBA;"></a>swift &#x5F00;&#x53D1;&#x7ECF;&#x9A8C;&#x4E4B;&#x5E38;&#x89C1;&#x5C01;&#x88C5;&#x8BA8;&#x8BBA;</h2><p>&#x516C;&#x53F8;&#x7684;&#x9879;&#x76EE;&#x7EC8;&#x4E8E;&#x5168;&#x9762;swift&#x5316;&#x4E86;&#xFF0C;&#x8F6C;&#x5230;swift&#x4E4B;&#x540E;&#x6700;&#x5927;&#x7684;&#x611F;&#x53D7;&#x5728;&#x4E8E;&#x5199;&#x4EE3;&#x7801;&#x7684;&#x81EA;&#x7531;&#x6027;&#xFF0C;&#x4E0D;&#x7BA1;&#x662F;struct&#x548C;enum&#x90FD;&#x88AB;&#x5927;&#x5927;&#x62D3;&#x5C55;&#xFF0C;&#x4E2A;&#x4EBA;&#x611F;&#x53D7;&#x6765;&#x8BF4;&#x786E;&#x5B9E;&#x7801;&#x7816;&#x65F6;&#x5F00;&#x5FC3;&#x4E86;&#x5F88;&#x591A;&#xFF0C;&#x4EE3;&#x7801;&#x4E5F;&#x7B80;&#x6D01;&#x4E86;&#x5F88;&#x591A;&#xFF0C;&#x5373;&#x4FBF;&#x662F;&#x81EA;&#x5DF1;&#x521D;&#x7EA7;&#x7684;&#x6C34;&#x5E73;&#xFF0C;&#x4F46;&#x8FD8;&#x662F;&#x60F3;&#x6597;&#x80C6;&#x6765;&#x505A;&#x4E00;&#x4E0B;&#x5E38;&#x7528;&#x529F;&#x80FD;&#x9700;&#x6C42;&#x5728;swift&#x4E2D;&#x7684;&#x5B9E;&#x73B0;&#x53CA;&#x5C01;&#x88C5;&#x7684;&#x8BA8;&#x8BBA;&#xFF0C;&#x6BD4;&#x5982;&#x5BF9;&#x7F51;&#x7EDC;&#x90E8;&#x5206;&#x7684;&#x5C01;&#x88C5;&#xFF0C;&#x6743;&#x9650;&#x8BF7;&#x6C42;&#x7684;&#x5C01;&#x88C5;&#x7B49;&#x7B49;&#xFF0C;&#x9274;&#x4E8E;&#x6C34;&#x5E73;&#x6709;&#x9650;&#xFF0C;&#x8BF8;&#x591A;&#x4E0D;&#x8DB3;&#xFF0C;&#x8D3B;&#x7B11;&#x5927;&#x65B9;&#xFF0C;&#x4E14;&#x4F5C;&#x6D88;&#x9063;&#x6392;&#x6324;&#x4E4B;&#x7528;&#xFF01;</p>
<h3 id="&#x7F51;&#x7EDC;&#x90E8;&#x5206;"><a href="#&#x7F51;&#x7EDC;&#x90E8;&#x5206;" class="headerlink" title="&#x7F51;&#x7EDC;&#x90E8;&#x5206;"></a>&#x7F51;&#x7EDC;&#x90E8;&#x5206;</h3><p>&#x4F5C;&#x4E3A;&#x6B63;&#x5E38;&#x7684;&#x5730;&#x7403;&#x4EBA;&#xFF0B;&#x5C0F;&#x516C;&#x53F8;&#x72EC;&#x7ACB;&#x5F00;&#x53D1;&#x5C5E;&#x6027;&#xFF0C;&#x4F7F;&#x7528;<code>Matt</code>&#x5927;&#x795E;&#x7684;<code>Alamofire</code>&#x6211;&#x60F3;&#x662F;&#x7684;&#x9009;&#x62E9;&#xFF0C;&#x5F53;&#x7136;&#x5982;&#x679C;&#x60A8;&#x53F8;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x79C1;&#x6709;&#x5E93;&#xFF0C;&#x90A3;&#x5C31;&#x4E0D;&#x5B58;&#x5728;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x7684;&#x8BA8;&#x8BBA;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x4E5F;&#x5F88;&#x81EA;&#x7136;&#x7684;&#x9009;&#x62E9;&#x4E86;&#x5B83;&#x3002;</p>
<p>&#x4F5C;&#x4E3A;&#x6700;&#x8457;&#x540D;&#x7684;&#x7B2C;&#x4E09;&#x53D1;&#x6846;&#x67B6;&#x548C;&#x8BF8;&#x591A;&#x5F00;&#x53D1;&#x8005;&#x4FE1;&#x8A89;&#x52A0;&#x6210;&#xFF0C;<code>Alamofire</code>&#x672C;&#x8EAB;&#x5DF2;&#x8DB3;&#x591F;&#x4F18;&#x79C0;&#xFF0C;&#x4F46;&#x5728;&#x4F7F;&#x7528;&#x4E2D;&#xFF0C;&#x5F80;&#x5F80;&#x6211;&#x4EEC;&#x90FD;&#x4F1A;&#x6309;&#x7167;&#x81EA;&#x5DF1;&#x7684;&#x4E60;&#x60EF;&#x505A;&#x4E00;&#x4E0B;&#x5C01;&#x88C5;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;&#x8FD9;&#x4E00;&#x90E8;&#x5206;&#x7684;&#x4E3B;&#x9898;&#xFF0C;&#x7B14;&#x8005;&#x4F1A;&#x4ECB;&#x7ECD;&#x4E00;&#x4E0B;&#x81EA;&#x5DF1;&#x7684;&#x4E60;&#x60EF;&#xFF1A;</p>
<p>&#x603B;&#x4F53;&#x539F;&#x5219;&#xFF1A;        </p>
<ol>
<li><p><strong>&#x53BB;&#x8026;</strong>: &#x4E0D;&#x7BA1;&#x600E;&#x6837;&#x4F18;&#x79C0;&#xFF0C;&#x4F46;<code>Alamofire</code>&#x7EC8;&#x5F52;&#x662F;&#x7B2C;&#x4E09;&#x65B9;&#x6846;&#x67B6;&#xFF0C;&#x524D;&#x53F8;&#x5347;&#x7EA7;<code>AFNetwork 3.0</code>&#x7684;&#x75C7;&#x75DB;&#x8FD8;&#x5386;&#x5386;&#x5728;&#x76EE;&#xFF0C;&#x5982;&#x679C;&#x5228;&#x9664;&#x5F53;&#x65F6;&#x81EA;&#x5DF1;&#x534A;&#x8DEF;&#x63A5;&#x624B;&#xFF0B;&#x7ECF;&#x9A8C;&#x4E0D;&#x8DB3;&#x7684;&#x5B89;&#x6170;&#x7406;&#x7531;&#x5916;&#xFF0C;&#x5BF9;&#x8FD9;&#x79CD;&#x9AD8;&#x8026;&#x5408;&#x5F0F;&#x7684;&#x4F7F;&#x7528;&#x7B2C;&#x4E09;&#x65B9;&#x6846;&#x67B6;&#x7684;&#x6559;&#x8BAD;&#x4E0D;&#x591F;&#x4E5F;&#x662F;&#x4E3B;&#x8981;&#x539F;&#x56E0;&#xFF0C;&#x5403;&#x8FC7;&#x4E8F;&#x81EA;&#x7136;&#x5C31;&#x77E5;&#x9053;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x539F;&#x5219;&#x4E0A;&#xFF0C;&#x5728;&#x4F7F;&#x7528;&#x4EFB;&#x4F55;&#x7B2C;&#x4E09;&#x65B9;&#x6846;&#x67B6;&#x65F6;&#xFF0C;&#x5C3D;&#x91CF;&#x81EA;&#x5DF1;&#x505A;&#x4E00;&#x66FE;&#x5C01;&#x88C5;&#xFF0C;&#x5373;&#x4FBF;&#x662F;&#x610F;&#x4E49;&#x4E0D;&#x5927;&#x6280;&#x672F;&#x542B;&#x91CF;&#x4F4E;&#x7EA7;&#x7684;&#x5C01;&#x88C5;&#xFF0C;&#x5BF9;&#x7B2C;&#x4E09;&#x65B9; API &#x7684;&#x8C03;&#x7528;&#x5C3D;&#x91CF;&#x96C6;&#x4E2D;&#x5728;&#x5C01;&#x88C5;&#x5185;&#xFF0C;&#x8FD9;&#x4E5F;&#x5C31;&#x662F;&#x4E3A;&#x4F55;&#x6211;&#x4E00;&#x76F4;&#x63A8;&#x5D07;&#x7E41;&#x590D;&#x7684; CoreData &#x800C;&#x907F;&#x514D;&#x6240;&#x8C13;&#x4FBF;&#x5229;&#x7684; Rleam &#x7B49;&#x7684;&#x539F;&#x56E0;&#x3002;</p>
</li>
<li><p><strong>&#x7B80;&#x5316;</strong>: &#x8DDF;&#x540E;&#x53F0;&#x7D27;&#x5BC6;&#x914D;&#x5408;&#xFF0C;&#x5355;&#x72EC;&#x5265;&#x79BB;&#x4E0D;&#x540C;url&#x8BF7;&#x6C42;&#xFF0C;&#x505A;&#x5230;&#x6BCF;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x5C31;&#x662F;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x8FD9;&#x6837;&#x6700;&#x5927;&#x7684;&#x597D;&#x5904;&#x5C31;&#x662F;&#x8BF7;&#x6C42;&#x6E05;&#x6670;&#x7B80;&#x660E;&#xFF0C;&#x522B;&#x4EBA;&#x5728;&#x63A5;&#x624B;&#x4E5F;&#x5BB9;&#x6613;</p>
</li>
<li><p><strong>&#x5B8C;&#x5907;</strong>: &#x96C6;&#x4E2D;&#x5904;&#x7406;&#x8BF8;&#x5982;&#x6743;&#x9650;&#xFF0C;&#x9519;&#x8BEF;&#xFF0C;&#x63D0;&#x793A;&#x7684;&#x5904;&#x7406;&#xFF0C;&#x96C6;&#x4E2D;&#x8BBE;&#x7F6E;&#x8BF7;&#x6C42;&#x5934;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x65B9;&#x6CD5;&#xFF0C;&#x8F93;&#x51FA;&#x8BF7;&#x6C42;&#x8C03;&#x8BD5;&#x5185;&#x5BB9;&#xFF0C;&#x505A;&#x5230;&#x51FA;&#x4E86;&#x95EE;&#x9898;&#x8FC5;&#x901F;&#x5B9A;&#x4F4D;&#xFF0C;&#x7528;&#x6237;&#x4F53;&#x9A8C;&#x4E0D;&#x5272;&#x88C2;</p>
</li>
</ol>
<p>&#x4EE5;&#x4E0A;&#x90FD;&#x662F;&#x5E38;&#x89C1;&#x7684;&#x8C03;&#x8C03;&#xFF0C;&#x4E0D;&#x770B;&#x4E5F;&#x7F62;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x5145;&#x5206;&#x5229;&#x7528;swift&#x7684;&#x7279;&#x70B9;&#xFF0C;&#x5B8C;&#x6210;&#x5C01;&#x88C5;&#x7684;&#x5177;&#x4F53;&#x8FC7;&#x7A0B;</p>
<p>&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;<br>&#x1F648;&#x1F648;&#x1F648;&#x1F648;&#x1F648;&#x1F648;&#x1F648;&#x1F648; &#x5047;&#x88C5;&#x770B;&#x4E0D;&#x89C1;&#x7684;&#x5206;&#x5272;&#x7EBF; &#x1F648;&#x1F648;&#x1F648;&#x1F648;&#x1F648;&#x1F648;&#x1F648;&#x1F648;&#x1F648;<br>&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;</p>
<h4 id="&#x907F;&#x514D;&#x76F4;&#x63A5;&#x4F7F;&#x7528;string&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x501F;&#x52A9;swift&#x7684;enum&#x548C;struct&#x907F;&#x514D;-&#x9762;&#x5411;&#x5B57;&#x7B26;&#x4E32;&#x7F16;&#x7A0B;"><a href="#&#x907F;&#x514D;&#x76F4;&#x63A5;&#x4F7F;&#x7528;String&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#xFF0C;&#x501F;&#x52A9;swift&#x7684;enum&#x548C;struct&#x907F;&#x514D;-&#x9762;&#x5411;&#x5B57;&#x7B26;&#x4E32;&#x7F16;&#x7A0B;" class="headerlink" title="&#x907F;&#x514D;&#x76F4;&#x63A5;&#x4F7F;&#x7528;String&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#xFF0C;&#x501F;&#x52A9;swift&#x7684;enum&#x548C;struct&#x907F;&#x514D; &#x9762;&#x5411;&#x5B57;&#x7B26;&#x4E32;&#x7F16;&#x7A0B;"></a>&#x907F;&#x514D;&#x76F4;&#x63A5;&#x4F7F;&#x7528;<code>String</code>&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#xFF0C;&#x501F;&#x52A9;swift&#x7684;<code>enum</code>&#x548C;<code>struct</code>&#x907F;&#x514D; &#x9762;&#x5411;&#x5B57;&#x7B26;&#x4E32;&#x7F16;&#x7A0B;</h4><p>&#x5982;&#x4F7F;&#x7528;&#x679A;&#x4E3E;&#x96C6;&#x4E2D;&#x6574;&#x7406;url&#x548C;method,&#x914D;&#x5408;<code>CustomStringConvertible</code>&#x8F93;&#x51FA;<code>description</code>&#xFF0C;<code>Method</code>&#x5DF2;&#x5728;<code>Alamofire</code>&#x4E2D;&#x5B9E;&#x73B0;&#xFF0C;like this&#xFF1A;<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Method</span>: <span class="title">String</span>, <span class="title">CustomStringConvertible</span> </span>{</span><br><span class="line">    <span class="keyword">case</span> <span class="type">OPTIONS</span> = <span class="string">&quot;OPTIONS&quot;</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">GET</span> = <span class="string">&quot;GET&quot;</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">HEAD</span> = <span class="string">&quot;HEAD&quot;</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">POST</span> = <span class="string">&quot;POST&quot;</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">PUT</span> = <span class="string">&quot;PUT&quot;</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">PATCH</span> = <span class="string">&quot;PATCH&quot;</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">DELETE</span> = <span class="string">&quot;DELETE&quot;</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">TRACE</span> = <span class="string">&quot;TRACE&quot;</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">CONNECT</span> = <span class="string">&quot;CONNECT&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">var</span> description: <span class="type">String</span> {</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.rawValue</span><br><span class="line">    }	</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<h3 id="&#x52A0;&#x4E00;&#x4E9B;-protocal-oriented"><a href="#&#x52A0;&#x4E00;&#x4E9B;-&#x201C;Protocal-Oriented&#x201D;" class="headerlink" title="&#x52A0;&#x4E00;&#x4E9B; &#x201C;Protocal-Oriented&#x201D;"></a>&#x52A0;&#x4E00;&#x4E9B; &#x201C;Protocal-Oriented&#x201D;</h3><p>&#x4ECE;&#x4E0D;&#x5C11;&#x5F00;&#x6E90;&#x4EE3;&#x7801;&#x4E2D;&#x770B;&#x5230;&#x4E0D;&#x5C11;&#x8FD9;&#x6837;&#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x5728;WWDC&#x4E0A;&#x4E5F;&#x6709;&#x76F8;&#x5173;&#x5185;&#x5BB9;&#xFF0C;&#x968F;&#x7740;&#x81EA;&#x5DF1;&#x5BF9;swift&#x4F7F;&#x7528;&#x7ECF;&#x9A8C;&#x7684;&#x79EF;&#x7D2F;&#xFF0C;&#x8D8A;&#x6765;&#x8D8A;&#x4F53;&#x4F1A;&#x5230;&#x201C;&#x7EC4;&#x5408;&#x201D;&#x6BD4;&#x4E4B;&#x4F59;&#x201C;&#x7EE7;&#x627F;&#x201D;&#x7684;&#x65B9;&#x4FBF;&#x4E4B;&#x5904;     </p>
<p>&#x4ECE;&#x4E00;&#x4E2A;&#x5E38;&#x89C1;&#x7684;&#x4F7F;&#x7528;&#x573A;&#x666F;&#xFF0C;<code>performSegueWuthIdentifer(identifer: String, sender: AnyObject?)</code>&#x65B9;&#x6CD5;&#xFF0C;&#x6839;&#x636E;&#x4E0D;&#x7528;&#x7684;<code>identifer</code>&#x6267;&#x884C;&#x4E0D;&#x540C;&#x7684;&#x8DF3;&#x8F6C;&#xFF0C;&#x539F;&#x6765;&#x53EA;&#x80FD;&#x501F;&#x52A9;&#x4E8E;<code>switch</code>&#x8BED;&#x53E5;&#xFF0C;&#x7531;&#x4E8E;&#x90FD;&#x662F;string&#xFF0C;&#x5F88;&#x5BB9;&#x6613;&#x5199;&#x9519;&#xFF0C;&#x90A3;&#x4E48;&#x5728;swift&#x4E2D;&#x5462;&#xFF1F;</p>
<p>&#x4E5F;&#x8BB8;&#x53EF;&#x4EE5;&#x7528;<code>enum</code>&#x628A;identifer&#x88C5;&#x9970;&#x4E00;&#x4E0B;&#xFF0C;&#x907F;&#x514D;&#x9891;&#x7E41;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;like this&#xFF1A;<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">	<span class="class"><span class="keyword">enum</span> <span class="title">SegueIdentifer</span>: <span class="title">String</span> </span>{</span><br><span class="line">		<span class="keyword">case</span> aaa</span><br><span class="line">		<span class="keyword">case</span> bbb</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">prepareForSegue</span><span class="params">(segue: UIStoryboardSegue, sender: AnyObject?)</span></span> {</span><br><span class="line">    	<span class="keyword">guard</span> <span class="keyword">let</span> idf = segue.identifer, segueIdf = <span class="type">SegueIdentifer</span>(raValue: idf) <span class="keyword">else</span> {</span><br><span class="line">			fataError(<span class="string">&quot;wrong idf:\(segue.identifer)&quot;</span>)</span><br><span class="line">		}</span><br><span class="line"></span><br><span class="line">		<span class="keyword">switch</span> segueIdf {</span><br><span class="line">		<span class="keyword">case</span> .aaa:	</span><br><span class="line">			<span class="comment">// do some thing</span></span><br><span class="line">		<span class="keyword">case</span> .bbb</span><br><span class="line">			<span class="comment">// do some thing</span></span><br><span class="line">		}</span><br><span class="line">	}</span><br></pre></td></tr></table></figure></p>
<p>&#x4F46;&#x662F;&#x8DDF;&#x539F;&#x5148;&#x7684;&#x5199;&#x6CD5;&#x6CA1;&#x4EC0;&#x4E48;&#x4E0D;&#x901A;&#xFF0C;&#x672A;&#x89C1;&#x7684;&#x5982;&#x4F55;swift&#xFF0C;&#x5982;&#x679C;&#x5728;&#x522B;&#x5904;&#x9700;&#x8981;&#x8DF3;&#x8F6C;&#x8FD9;&#x4E9B;&#x4EE3;&#x7801;&#x4ECD;&#x7136;&#x8981;&#x91CD;&#x590D;&#xFF0C;&#x600E;&#x4E48;&#x529E;&#x5462;&#xFF1F;<br>&#x4E0D;&#x5982;&#x8FD9;&#x6837;&#xFF1A;</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">SegueHeadlerType</span> </span>{</span><br><span class="line">	<span class="keyword">typealias</span> <span class="type">SegueIdentifer</span>: <span class="type">RawRepresentable</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2016/06/24/swift-tips003/"><span>swift-tips003</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2016/06/24/swift-tips003/" rel="bookmark">
        <time class="entry-date published" datetime="2016-06-24T02:13:18.000Z">
          2016-06-24
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h3 id="&#x679A;&#x4E3E;&#x7684;&#x4F7F;&#x7528;tip"><a href="#&#x679A;&#x4E3E;&#x7684;&#x4F7F;&#x7528;tip" class="headerlink" title="&#x679A;&#x4E3E;&#x7684;&#x4F7F;&#x7528;tip"></a>&#x679A;&#x4E3E;&#x7684;&#x4F7F;&#x7528;tip</h3><p>&#x679A;&#x4E3E;&#x5728;swift&#x4E2D;&#x88AB;&#x5927;&#x5927;&#x52A0;&#x5F3A;&#x4E86;&#xFF0C;&#x5728;&#x5B9E;&#x9645;&#x4F7F;&#x7528;&#x4E2D;&#x7684;&#x4E00;&#x6700;&#x5927;&#x7684;&#x611F;&#x53D7;&#x5C31;&#x662F;&#x771F;TM&#x7684;&#x7075;&#x6D3B;&#xFF0C;&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x57FA;&#x672C;&#x90FD;&#x53EF;&#x4EE5;&#x505A;&#x679A;&#x4E3E;&#xFF0C;&#x57FA;&#x672C;&#x90FD;&#x80FD;&#x88AB;&#x7EC4;&#x5408;&#xFF0C;&#x7B14;&#x8005;&#x5E38;&#x7528;&#x7684;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A;</p>
<p><strong>&#x8FDB;&#x53EF;&#x5F53;value&#xFF0C;&#x9000;&#x53EF;&#x5C45;enum</strong><br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x8FDB;&#x53EF;&#x5F53;value&#xFF0C;&#x9000;&#x53EF;&#x5C45;enum</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">TransStyle</span>: <span class="title">String</span> </span>{</span><br><span class="line">	<span class="keyword">case</span> car = <span class="string">&quot;car&quot;</span></span><br><span class="line">	<span class="keyword">case</span> bicycle = <span class="string">&quot;bicycle&quot;</span>	   	</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="type">TransStyle</span>.car.<span class="keyword">dynamicType</span>) <span class="comment">// TransStyle</span></span><br><span class="line"><span class="built_in">print</span>(<span class="type">String</span>(<span class="type">TransStyle</span>.car).<span class="keyword">dynamicType</span>)<span class="comment">// String</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x60F3;&#x56DE;&#x5230;&#x8FC7;&#x53BB;...</span></span><br><span class="line"><span class="type">TransStyle</span>(rawVale: <span class="string">&quot;car&quot;</span>) <span class="comment">// &#x53C8;&#x53D8;&#x6210;&#x4E86;enum</span></span><br></pre></td></tr></table></figure></p>
<h3 id="swift&#x7684;&#x534F;&#x8BAE;"><a href="#swift&#x7684;&#x534F;&#x8BAE;" class="headerlink" title="swift&#x7684;&#x534F;&#x8BAE;"></a>swift&#x7684;&#x534F;&#x8BAE;</h3><p>&#x53EF;&#x80FD;&#x90FD;&#x542C;&#x8BF4;&#x8FC7;swift&#x662F;&#x9762;&#x5411;&#x534F;&#x8BAE;&#x7684;&#x8BED;&#x8A00;&#xFF0C;&#x4ECE;&#x5176;&#x6700;&#x57FA;&#x672C;&#x7684;&#x5E93;&#x4E2D;&#x5C31;&#x80FD;&#x770B;&#x51FA;&#xFF0C;&#x5F97;&#x76CA;&#x4E8E;&#x5F00;&#x6E90;&#x8BA9;&#x6211;&#x4EEC;&#x6709;&#x673A;&#x4F1A;&#x80FD;&#x4E00;&#x7AA5;&#x4E00;&#x95E8;&#x8BED;&#x8A00;&#x662F;&#x5982;&#x4F55;&#x4E00;&#x6B65;&#x4E00;&#x6B65;&#x901A;&#x8FC7;&#x5404;&#x79CD;&#x5404;&#x6837;&#x7684;&#x534F;&#x8BAE;&#x7EC4;&#x5408;&#x5F3A;&#x5927;&#x8D77;&#x6765;&#x7684;</p>
<p>&#x8FD9;&#x4E00;&#x90E8;&#x5206;&#x5185;&#x5BB9;&#x4F1A;&#x5F88;&#x591A;&#xFF0C;&#x9047;&#x5230;&#x4E86;&#x5C31;&#x4E0D;&#x65AD;&#x7684;&#x8BB0;&#x5F55;&#x5728;&#x8FD9;&#x91CC;&#xFF1A;</p>
<ul>
<li>Hashable</li>
</ul>
<p>&#x6B64;&#x534F;&#x8BAE;&#x7ED9;&#x4F60;&#x4E00;&#x4E2A;int&#x578B;&#x7684;hashValue&#xFF0C;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x5B57;&#x5178;&#x7684;key&#x540C;&#x65F6;&#x53EF;&#x4EE5;&#x88AB;&#x6BD4;&#x8F83;<br>&#x6BD4;&#x5982;&#x6E38;&#x620F;&#x4E2D;&#x5E38;&#x89C1;&#x7684;&#x5355;&#x4F4D;&#x7684;&#x4F4D;&#x7F6E;address&#xFF0C;&#x6211;&#x4EEC;&#x81EA;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x7C7B;<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Address</span>: <span class="title">Hashable</span> </span>{</span><br><span class="line">    <span class="keyword">var</span> point: <span class="type">CGPoint</span></span><br><span class="line">    <span class="keyword">init</span>(point: <span class="type">CGPoint</span>) {</span><br><span class="line">        <span class="keyword">self</span>.point = point</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> hashValue: <span class="type">Int</span> {</span><br><span class="line">        <span class="keyword">get</span> {</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;\(self.point.x),\(self.point.y)&quot;</span>.hashValue</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> ==<span class="params">(lhs: Bit, rhs: Bit)</span></span> -&gt; <span class="type">Bool</span> {</span><br><span class="line">    <span class="keyword">return</span> lhs.hashValue == rhs.hashValue</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<p>&#x6CE8;&#x610F;&#xFF1A; hashable&#x534F;&#x8BAE;&#x81EA;&#x8EAB;&#x5B9E;&#x73B0;&#x4E86;Equatable &#x534F;&#x8BAE;&#xFF0C;&#x6240;&#x4EE5;&#x8FD8;&#x8981;&#x5B9E;&#x73B0;&#x5176;&#x552F;&#x4E00;&#x7684;<code>func ==(lhs: Self, rhs: Self) -&gt; Bool</code>&#x65B9;&#x6CD5;<br>&#x8FD9;&#x6837;&#x5C31;&#x80FD;&#x5B9E;&#x73B0;Address&#x662F;&#x5426;&#x76F8;&#x7B49;&#x7684;&#x6BD4;&#x8F83;&#x4E86;<br><img src="/img/swifttips003_001.png" alt="Address&#x662F;&#x5426;&#x76F8;&#x7B49;&#x6BD4;&#x8F83;"></p>
<p>&#x5F53;&#x7136;&#x5728;&#x6B64;&#x57FA;&#x7840;&#x4E0A;&#xFF0C;&#x7EE7;&#x7EED;&#x5B9E;&#x73B0;<code>Camparable</code>&#x534F;&#x8BAE;&#xFF0C;&#x8FD8;&#x80FD;&#x5B9E;&#x73B0;&lt;=, &lt; &#x2026;&#x7B49;&#x5177;&#x4F53;&#x7684;&#x6BD4;&#x8F83;</p>
<p>&#x5177;&#x4F53;&#x53C2;&#x8003;</p>
<blockquote>
<p><a href="http://nshipster.com/swift-comparison-protocols/" target="_blank" rel="external">Swift Comparison Protocols</a></p>
</blockquote>
<h3 id="&#x534F;&#x8BAE;&#x8FD8;&#x80FD;&#x5728;&#x8DF3;&#x8131;&#x4E00;&#x70B9;&#x513F;&#x5417;-&#x5173;&#x8054;&#x7C7B;&#x578B;"><a href="#&#x534F;&#x8BAE;&#x8FD8;&#x80FD;&#x5728;&#x8DF3;&#x8131;&#x4E00;&#x70B9;&#x513F;&#x5417;&#xFF1F;&#xFF01;-&#xFF0D;&#xFF0D;-&#x5173;&#x8054;&#x7C7B;&#x578B;" class="headerlink" title="&#x534F;&#x8BAE;&#x8FD8;&#x80FD;&#x5728;&#x8DF3;&#x8131;&#x4E00;&#x70B9;&#x513F;&#x5417;&#xFF1F;&#xFF01; &#xFF0D;&#xFF0D; &#x5173;&#x8054;&#x7C7B;&#x578B;"></a>&#x534F;&#x8BAE;&#x8FD8;&#x80FD;&#x5728;&#x8DF3;&#x8131;&#x4E00;&#x70B9;&#x513F;&#x5417;&#xFF1F;&#xFF01; &#xFF0D;&#xFF0D; &#x5173;&#x8054;&#x7C7B;&#x578B;</h3><p>swift &#x4E2D;&#x7684;&#x534F;&#x8BAE;&#x5DF2;&#x7ECF;&#x8DB3;&#x591F;&#x8DF3;&#x8131;&#x4E86;&#xFF0C;&#x6BD5;&#x7ADF;&#x80FD;&#x968F;&#x610F;&#x7EC4;&#x5408;&#xFF0C;&#x8FD8;&#x80FD;&#x901A;&#x8FC7;&#x6269;&#x5C55;<code>extension</code>&#x9ED8;&#x8BA4;&#x5E26;&#x4E0A;&#x81EA;&#x5E26;&#x5B9E;&#x73B0;&#x7684;&#x4E3B;&#xFF0C;&#x5230;&#x5E95;&#x8FD8;&#x80FD;&#x4E0D;&#x80FD;&#x597D;&#x597D;&#x505A;&#x534F;&#x8BAE;&#x4E86;&#xFF0C;&#x4F46;protocol&#x8FD8;&#x771F;&#x7684;&#x80FD;&#x5728;&#x8DF3;&#x8131;&#x4E00;&#x4E9B;&#xFF1A;&#x548C;&#x6CDB;&#x578B;&#x96C6;&#x5408;&#xFF0C;&#x4E0D;&#x8FC7;&#x4E0D;&#x53EB;&#x6CDB;&#x578B;&#x800C;&#x662F;&#x4E00;&#x4E2A;&#x4E13;&#x6709;&#x7684;&#x540D;&#x79F0;&#xFF0D;&#xFF0D; &#x5173;&#x8054;&#x7C7B;&#x578B;&#xFF0C;&#x76EE;&#x7684;&#x662F;&#x8DDF;&#x6CDB;&#x578B;&#x4E00;&#x6837;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x5360;&#x4F4D;&#xFF0C;&#x5728;&#x4F7F;&#x7528;&#x65F6;&#x5728;&#x786E;&#x8BA4;&#x5177;&#x4F53;&#x7C7B;&#x578B;&#xFF0C;&#x5982;&#xFF1A;<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">anyType</span> &lt;<span class="title">Element</span>&gt; </span>{</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">something</span><span class="params">()</span></span> -&gt; <span class="type">Self</span>.<span class="type">Element</span>?</span><br><span class="line">} </span><br><span class="line">```    </span><br><span class="line">&#x9057;&#x61BE;&#x7684;&#x662F;&#xFF0C;swift&#x4E2D;&#x5E76;&#x4E0D;&#x652F;&#x6301;&#x5728;&#x534F;&#x8BAE;&#x4E2D;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;`&#x53C2;&#x6570;&#x5316;&#x7C7B;&#x578B;&#x4EE3;&#x6307;&#x6CDB;&#x578B;`&#xFF0C;&#x800C;&#x662F;&#x5E94;&#x8BE5;&#x662F;&#x4F7F;&#x7528;`&#x5173;&#x8054;&#x7C7B;&#x578B;`,like this:</span><br><span class="line">```swift</span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">anyType</span> </span>{</span><br><span class="line">	associatedType <span class="type">Element</span> <span class="comment">// 2.2&#x7248;&#x672C;&#x4E4B;&#x524D;&#x7528;typealias</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">something</span><span class="params">()</span></span> -&gt; <span class="type">Self</span>.<span class="type">Element</span>?</span><br><span class="line">} </span><br><span class="line">```    </span><br><span class="line"></span><br><span class="line">&#x81F3;&#x4E8E;&#x4E3A;&#x4EC0;&#x4E48;&#xFF0C;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;[proposale](https:<span class="comment">//github.com/apple/swift-evolution/blob/master/proposals/0011-replace-typealias-associated.md)&#x80FD;&#x731C;&#x5230;&#x4E00;&#x4E8C;</span></span><br><span class="line"></span><br><span class="line">&#x6BD5;&#x7ADF;&#x534F;&#x8BAE;&#x8DDF;<span class="class"><span class="keyword">class</span>, <span class="title">enum</span>, <span class="title">struct</span>&#x4E2D;&#x5BF9;&#x6CDB;&#x578B;&#x7684;&#x8981;&#x6C42;&#x4E0D;&#x540C;&#xFF0C;&#x6BD4;&#x5982;<span class="title">Array</span>&lt;<span class="title">String</span>&gt; ...</span><br><span class="line"></span><br><span class="line">&#x53C2;&#x8003;&#xFF1A;<span class="title">http</span>://<span class="title">www</span>.<span class="title">jianshu</span>.<span class="title">com</span>/<span class="title">p</span>/<span class="title">ef4a9b56f951</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### <span class="title">swift</span>&#x4E2D;&#x7684;<span class="title">mutable</span> &#x5B57;&#x5178;</span><br><span class="line"></span><br><span class="line">&#x5BF9;&#x4E8E;<span class="title">swift</span>&#x4E2D;&#x7684;<span class="title">mutable</span>&#x5B57;&#x5178;&#xFF0C;&#x5982;&#x679C;&#x5C06;&#x5176;&#x8F6C;&#x5316;&#x4E3A;`<span class="title">NSDictionary</span>` &#x548C;`<span class="title">NSMutableDictionary</span>`&#x90A3;&#x5C31;&#x5F53;&#x6211;&#x6CA1;&#x8BF4;    </span><br><span class="line">&#x5982;&#x679C;&#x4F7F;&#x7528;&#x5143;&#x7EC4;&#x7684;&#x8BDD;&#xFF0C;&#x4F1A;&#x9047;&#x5230;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;</span><br><span class="line">```<span class="title">swift</span></span><br><span class="line"><span class="title">var</span> <span class="title">mutableDict</span> = [&quot;<span class="title">key1</span>&quot;: <span class="title">value1</span>, &quot;<span class="title">key2</span>&quot;: <span class="title">value2</span>]</span></span><br></pre></td></tr></table></figure></p>
<p>&#x73B0;&#x5728;&#x60F3;&#x6DFB;&#x52A0;&#x4E00;&#x5BF9;&#x6570;&#x636E;&#xFF0C;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x6572;&#x51FA;<code>updateValue(value:  forKey:  )</code>&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x53EA;&#x80FD;&#x66F4;&#x65B0;<code>key</code>&#x5DF2;&#x5B58;&#x5728;&#x7684;&#x503C;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x5168;&#x65B0;&#x7684;key&#x7684;&#x8BDD;&#x5C31;&#x4F1A;&#x8FD4;&#x56DE;<code>nil</code></p>
<p>&#x6240;&#x4EE5;&#xFF0C;&#x7B80;&#x5355;&#x7684;&#x529E;&#x6CD5;&#x662F;&#x4F7F;&#x7528;&#x6700;&#x76F4;&#x63A5;&#x7684;&#x65B9;&#x5F0F;,like this :<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mutableDict[<span class="string">&quot;key007&quot;</span>] = value007</span><br></pre></td></tr></table></figure></p>
<p>&#x89C9;&#x5F97;&#x53C8;&#x70B9;&#x513F;&#x602A;&#x800C;&#x5DF2;&#xFF0C;&#x4E13;&#x95E8;&#x8BB0;&#x4E0B;&#x6765;</p>
<h4 id="custom-presentation-controller"><a href="#Custom-Presentation-controller" class="headerlink" title="Custom Presentation controller"></a>Custom Presentation controller</h4><p>&#x6211;&#x4EEC;&#x90FD;&#x77E5;&#x9053;&#x5728;iOS7&#x4E4B;&#x524D;&#xFF0C;presentation controller&#x662F;&#x53EA;&#x80FD;&#x6309;&#x7CFB;&#x7EDF;&#x63D0;&#x4F9B;&#x7684;&#x6700;&#x76F4;&#x63A5;&#x7684;&#x65B9;&#x5F0F;Modal&#xFF0C;&#x76F4;&#x5230;iOS7&#x4E2D;&#x5F00;&#x653E;&#x4E86;&#x8FD9;&#x90E8;&#x5206;&#x7684;API&#xFF0C;&#x7ECF;&#x8FC7;iOS8&#x7684;&#x8FDB;&#x4E00;&#x6B65;&#x6539;&#x8FDB;&#x5DF2;&#x7ECF;&#x53D8;&#x5F97;&#x5F88;&#x597D;&#x7528;&#x4E86;</p>
<blockquote>
<p>An <strong>anomation controller</strong>(<strong>UIViewControllerAnimatedTransitioning</strong>) is responsible for the animation and the display of the view controller&#x2019;s content, and the <strong>presentation controller</strong>(<strong>UIViewControllerTransitioningDelegate</strong><br>                ) is responsible for the appearance of everything else.     </p>
</blockquote>
<p>&#x2026;</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2016/05/11/CoreData-五/"><span>CoreData-五</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2016/05/11/CoreData-五/" rel="bookmark">
        <time class="entry-date published" datetime="2016-05-11T06:28:43.000Z">
          2016-05-11
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>&#x7EC8;&#x4E8E;&#x817E;&#x51FA;&#x65F6;&#x95F4;&#x4E86;&#xFF0C;&#x628A;CoreData&#x7684;&#x5176;&#x4ED6;&#x90E8;&#x5206;&#x8865;&#x5145;&#x4E0A;</p>
<p>&#x4E00;&#x4E9B;&#x56DE;&#x987E;&#xFF1A;&#x76EE;&#x524D;&#x4E3A;&#x6B62;&#xFF0C;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x589E;&#x5220;&#x67E5;&#x6539;&#xFF0C;&#x4E5F;&#x4F1A;&#x4F7F;&#x7528;<code>NSFetchedResultsController</code>&#x8FD9;&#x4E2A;&#x65B9;&#x4FBF;&#x7684;&#x5B98;&#x65B9;&#x4E3A;<code>UITableView</code>&#x4E13;&#x95E8;&#x670D;&#x52A1;&#x7684;&#x7C7B;&#x4E86;&#xFF0C;&#x4E0B;&#x9762;&#x8FDB;&#x5165;&#x4E00;&#x4E2A;&#x4F7F;&#x7528;&#x4E2D;&#x5F02;&#x5E38;&#x91CD;&#x8981;&#x7684;&#x8BDD;&#x9898;&#xFF0C;&#x5373;CoreData&#x6570;&#x636E;&#x4E0D;&#x540C;app&#x7248;&#x672C;&#x7684;&#x53D8;&#x66F4;&#x548C;&#x8FC1;&#x79FB;</p>
<p>&#x5F53;&#x6211;&#x4EEC;&#x65B0;&#x7684;&#x7248;&#x672C;&#x53D1;&#x5E03;&#x65F6;&#xFF0C;&#x5FC5;&#x7136;&#x4F1A;&#x6709;&#x6570;&#x636E;&#x7684;&#x53D8;&#x52A8;&#xFF0C;&#x5BF9;&#x4E8E;&#x539F;&#x6765;&#x6CA1;&#x6709;&#x7684;&#x8981;&#x91CD;&#x65B0;&#x6DFB;&#x4E0A;&#xFF0C;&#x800C;&#x539F;&#x6765;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x7684;&#x8981;&#x8FC1;&#x79FB;&#x5230;&#x65B0;&#x7684;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x8FD9;&#x662F;&#x4E2A;&#x5F88;&#x5371;&#x9669;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x5982;&#x679C;&#x53D1;&#x751F;&#x4E86;&#x9519;&#x8BEF;&#x6216;&#x662F;&#x4E0D;&#x517C;&#x5BB9;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x90FD;&#x5C06;&#x662F;&#x81F4;&#x547D;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x4E86;&#x89E3;&#x548C;&#x638C;&#x63E1;&#x6570;&#x636E;&#x7684;&#x8FC1;&#x79FB;&#x662F;&#x4E0D;&#x53EF;&#x6216;&#x7F3A;&#x7684;</p>
<h3 id="coradata&#x7684;&#x6570;&#x636E;&#x8FC1;&#x79FB;&#x8FC7;&#x7A0B;-the-migration-progress"><a href="#CoraData&#x7684;&#x6570;&#x636E;&#x8FC1;&#x79FB;&#x8FC7;&#x7A0B;&#xFF0D;&#xFF0D;The-Migration-Progress" class="headerlink" title="CoraData&#x7684;&#x6570;&#x636E;&#x8FC1;&#x79FB;&#x8FC7;&#x7A0B;&#xFF0D;&#xFF0D;The Migration Progress"></a>CoraData&#x7684;&#x6570;&#x636E;&#x8FC1;&#x79FB;&#x8FC7;&#x7A0B;&#xFF0D;&#xFF0D;The Migration Progress</h3>
      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2016/05/03/swift-tip002-later-v2-2/"><span>swift - tip002(later v2.2)</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2016/05/03/swift-tip002-later-v2-2/" rel="bookmark">
        <time class="entry-date published" datetime="2016-05-03T02:46:44.000Z">
          2016-05-03
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h3 id="swift-tips"><a href="#swift-tips" class="headerlink" title="swift tips"></a>swift tips</h3><p>&#x53EF;&#x4EE5;&#x9884;&#x89C1;&#x4ECA;&#x5E74;&#x7684;WWDC&#x6211;&#x4EEC;&#x4F1A;&#x8FCE;&#x6765;<code>Swift3.0</code>,&#x521A;&#x521A;&#x53D1;&#x5E03;&#x7684;2.2&#x7248;&#x672C;&#xFF0C;&#x5DF2;&#x7ECF;&#x5728;&#x9010;&#x6E10;&#x63D0;&#x793A;&#x6709;&#x4E9B;&#x5E94;&#x8BE5;&#x4F1A;&#x6539;&#x52A8;&#x7684;&#x5730;&#x65B9;&#x4E86;&#xFF0C;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x5199;Demo&#x7684;&#x8FC7;&#x7A0B;&#x9010;&#x6E10;&#x8BB0;&#x5F55;&#x4E86;&#x4E00;&#x4E9B;:</p>
<ul>
<li>for &#x5FAA;&#x73AF;&#x7684;&#x6539;&#x52A8;<br>&#x4E0D;&#x5728;&#x5B8C;&#x5168;C&#x4E00;&#x6837;&#x7684;&#x98CE;&#x683C;&#x4E86;&#xFF0C;&#x8FD9;&#x4E00;&#x70B9;&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x5230;swift&#x7684;&#x73B0;&#x4EE3;&#x4E4B;&#x5904;&#x4E86;&#xFF0C;&#x6452;&#x5F03;&#x6C89;&#x91CD;&#x7684;&#x5386;&#x53F2;&#x5305;&#x88B1;&#xFF0C;&#x6240;&#x4EE5;&#x5927;&#x80C6;&#x7684;&#x62E5;&#x62B1;&#x5427;,eg:<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x6570;&#x636E;&#x904D;&#x5386; &#xFF0D; &#x63A8;&#x8350;&#x4F7F;&#x7528;enumerate()</span></span><br><span class="line"><span class="keyword">for</span> (index, item) <span class="keyword">in</span> items.<span class="built_in">enumerate</span>() {</span><br><span class="line">	...</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x66F4;&#x52A0;&#x7075;&#x6D3B;&#x7684;&#x6307;&#x5B9A;&#x95F4;&#x9694;,&#x4F7F;&#x7528;stride</span></span><br><span class="line"><span class="keyword">for</span> index int <span class="number">2</span>.<span class="built_in">stride</span>(to: items.<span class="built_in">count</span>, by: <span class="number">2</span>) {</span><br><span class="line">	<span class="built_in">print</span>(index) <span class="comment">// 2, 4, 6 ...</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x964D;&#x5E8F; - reverse()</span></span><br><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> (<span class="number">0</span>...<span class="number">100</span>).<span class="built_in">reverse</span>() {</span><br><span class="line">	<span class="built_in">print</span>(index) <span class="comment">// 100, 99, 98, 97 ... 0</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>&#x4F46;&#x662F;&#xFF0C;&#x50CF;&#x590D;&#x6742;&#x4E00;&#x4E9B;&#x7684;&#x591A;&#x4E2A;&#x7EC4;&#x5408;&#x903B;&#x8F91;&#x7684;for&#xFF0C;&#x6BD4;&#x5982;<code>for(int i=0; i &lt; sum &amp;&amp; i / 2 == 0; ++i)</code>&#x8FD9;&#x6837;&#xFF0C;&#x5982;&#x4F55;&#x5408;&#x9002;&#x7684;&#x66F4;&#x6539;&#xFF0C;&#x73B0;&#x5728;&#x8FD8;&#x6CA1;&#x627E;&#x5230;&#x5408;&#x9002;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x76EE;&#x524D;&#x6211;&#x7528;&#x7684;&#x662F;<code>while &#xFF0B; if</code></p>
<ul>
<li>OC&#x4E2D;&#x7684;<code>__FUNCTION__</code> &#x53D8;&#x4E3A; <code>#function</code>, &#x4E0D;&#x8FC7;&#x8FD9;&#x4E00;&#x7D2F;&#xFF1D;&#x7C7B;&#x7684;&#x53D8;&#x52A8;Xcode&#x90FD;&#x4F1A;&#x63D0;&#x793A;&#x4F60;<em>fix it</em></li>
<li><p>++ and &#x2013; &#x7EC8;&#x4E8E; deprecated &#x4E86;: &#x8BDD;&#x8BF4;&#x8FD9;&#x6837;&#x7684;&#x8BED;&#x610F;&#x4E0D;&#x660E;&#x7684;&#x8BED;&#x6CD5;&#x65E9;TM&#x8BE5;&#x5E9F;&#x4E86;&#xFF0C;&#x679C;&#x7136;&#x6CA1;&#x6709;&#x5305;&#x88B1;&#x5C31;&#x662F;&#x597D;&#xFF0C;swift3&#x4E2D;&#x8981;&#x4F7F;&#x7528;&#xFF1A;</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i += <span class="number">1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x8001;&#x53E4;&#x8463;<code>Selector</code>&#x53D8;&#x52A8;<br>  &#x4ECE;&#x201D;functionName&#x201D;  &gt;&gt;&gt;  <code>#selector(XXX.func)</code> </p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">selectBtn.addTarget(self, action: #selector(ViewController.selectPhoto), forControlEvents: .TouchUpInside)</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>guard</code>&#x8BED;&#x6CD5;    </p>
<p>&#x5176;&#x5B9E;&#x8FD9;&#x4E2A;&#x8BED;&#x6CD5;&#x65E9;&#x5728;2.0&#x7248;&#x672C;&#x5C31;&#x6709;&#x4E86;&#xFF0C;&#x4F46;&#x4E00;&#x76F4;&#x6CA1;&#x6709;&#x4ED4;&#x7EC6;&#x4F7F;&#x7528;&#xFF0C;&#x7C97;&#x6D45;&#x7684;&#x6D89;&#x730E;&#x5E76;&#x6CA1;&#x6709;&#x8BF4;&#x670D;&#x81EA;&#x5DF1;&#xFF0C;&#x76F4;&#x5230;3.0&#x8FD8;&#x4FDD;&#x7559;&#x770B;&#x6765;&#x662F;&#x65F6;&#x5019;&#x63A5;&#x53D7;&#x4E86;&#xFF0C;&#x5373;&#x4FBF;&#x4E0D;&#x4F7F;&#x7528;&#x7684;&#x8BDD;&#x5B8C;&#x5168;&#x4E5F;&#x6CA1;&#x4EC0;&#x4E48;&#x5F71;&#x54CD;&#xFF0C;swift&#x63D0;&#x4F9B;&#x8FD9;&#x79CD;&#x5FAE;&#x5999;&#x7684;&#x8BED;&#x6CD5;&#x8868;&#x8FBE;&#xFF0C;&#x5F88;&#x5951;&#x5408;&#x5176;&#x7B80;&#x5355;&#x660E;&#x786E;&#x7684;&#x8BED;&#x8A00;&#x98CE;&#x683C;&#x540C;&#x65F6;&#x4E5F;&#x4FDD;&#x8BC1;&#x4E86;&#x8DB3;&#x591F;&#x7684;&#x5065;&#x58EE;&#x6027;</p>
<p>&#x662F;&#x5426;&#x771F;&#x7684;&#x662F;&#x8FD9;&#x6837;&#x5462;&#xFF1F;&#x5982;&#x9700;&#x8981;&#x5C06;<code>string</code>&#x8F6C;&#x5316;&#x4E3A;<code>UInt8</code>&#xFF0C;<code>UInt8</code>&#x672C;&#x8EAB;&#x5DF2;&#x7ECF;&#x5B9E;&#x73B0;&#x4E86;&#x4E00;&#x4E2A;&#x53EF;&#x63A5;&#x53D7;<code>string</code>&#x7684;&#x521D;&#x59CB;&#x5316;&#x65B9;&#x6CD5;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x629B;&#x51FA;&#x9519;&#x8BEF;&#xFF0C;&#x4F46;&#x5E76;&#x8FD8;&#x9700;&#x8981;&#x8DB3;&#x591F;&#x7684;&#x63D0;&#x793A;&#x6765;&#x5904;&#x7406;&#x4E0A;&#x4E0B;&#x6587;&#x6211;&#x4EEC;&#x4E0D;&#x80FD;&#x9884;&#x77E5;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x6BD4;&#x5982;&#x683C;&#x5F0F;&#x9519;&#x8BEF;&#xFF0C;&#x6216;&#x8005;&#x8D85;&#x51FA;&#x4E86;&#x6570;&#x503C;&#x8FB9;&#x754C;&#xFF0C;&#x6240;&#x4EE5;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x65B0;&#x7684;<code>Init(fromString string: String)</code>&#x53EF;&#x4EE5;&#x629B;&#x51FA;&#x4E00;&#x4E2A;&#x80FD;&#x591F;&#x63D0;&#x4F9B;&#x66F4;&#x5177;&#x4F53;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x7684;<code>ConversionError</code></p>
<p><strong>Tip</strong>: <em>guard&#x5E76;&#x4E0D;&#x610F;&#x5473;&#x7740;&#x8981;&#x66FF;&#x6362;&#x6240;&#x6709;&#x7684;if..else &#x548C; if let,&#x5207;&#x5FCC;&#x6EE5;&#x7528;</em></p>
</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x5316;&#x4E3A;UInt8&#x7684;&#x521D;&#x59CB;&#x5316;&#x65B9;&#x6CD5;&#xFF0C;&#x5E76;&#x53EF;&#x629B;&#x51FA;&#x4E09;&#x79CD;Error</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">ConversionError</span>: <span class="title">ErrorType</span> </span>{</span><br><span class="line">		<span class="keyword">case</span> <span class="type">InvalidFormat</span>, <span class="type">OutOfBounds</span>, <span class="type">Unknown</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">UInt8</span> </span>{</span><br><span class="line">	<span class="keyword">init</span>(fromString string: <span class="type">String</span>) <span class="keyword">throws</span> {</span><br><span class="line">		<span class="keyword">if</span> <span class="keyword">let</span> <span class="number">_</span> = string.rangeOfString(<span class="string">&quot;^\\d+$&quot;</span>, options: [.<span class="type">RegularExpressionSearch</span>]) {</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> string.compare(<span class="string">&quot;\(UInt8.max)&quot;</span>, options:  [.<span class="type">NumericSearch</span>]) != <span class="type">NSComparisonResult</span>.<span class="type">OrderedAscending</span> { </span><br><span class="line">				<span class="keyword">throw</span> <span class="type">ConversionError</span>.<span class="type">OutOfBounds</span></span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">if</span> <span class="keyword">let</span> value = <span class="type">UInt8</span>(string) {</span><br><span class="line">				<span class="keyword">self</span>.<span class="keyword">init</span>(value)</span><br><span class="line">			} <span class="keyword">else</span> {</span><br><span class="line">				<span class="keyword">throw</span> <span class="type">ConversionError</span>.<span class="type">Unknown</span></span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">throw</span> <span class="type">ConversionError</span>.<span class="type">InvalidFormat</span></span><br><span class="line">	}</span><br></pre></td></tr></table></figure>
<p>&#x4E0A;&#x8FB9;&#x662F;&#x4F20;&#x7EDF;&#x7684;&#x5199;&#x6CD5;&#xFF0C;&#x6211;&#x4EEC;&#x660E;&#x660E;&#x53EA;&#x662F;&#x8865;&#x5145;&#x4E00;&#x4E0B;3&#x79CD;&#x53EF;&#x629B;&#x51FA;&#x9519;&#x8BEF;&#xFF0C;&#x4F46;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x5F88;&#x4E0D;&#x5BB9;&#x6613;&#x770B;&#x51FA;&#x6765;&#xFF0C;&#x81F3;&#x5C11;&#x4E00;&#x773C;&#x662F;&#x770B;&#x4E0D;&#x51FA;&#x6765;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x7528;&#x4E0A;&#x4E86;<code>guard</code>&#xFF0C;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A;<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Unit8</span> </span>{</span><br><span class="line"></span><br><span class="line">	<span class="keyword">init</span> (fromString string: <span class="type">String</span>) <span class="keyword">throws</span> {</span><br><span class="line"></span><br><span class="line">		<span class="keyword">guard</span> <span class="keyword">let</span> <span class="number">_</span> = string.rangeOfString(<span class="string">&quot;^\\d+$&quot;</span>, options: [.<span class="type">RegularExpressionSearch</span>])</span><br><span class="line">			<span class="keyword">else</span> { <span class="keyword">throw</span> <span class="type">ConversionError</span>.<span class="type">InvalidFormat</span> }</span><br><span class="line"></span><br><span class="line">		<span class="keyword">guard</span> string.compare(<span class="string">&quot;\(UInt8.max)&quot;</span>, options:  [.<span class="type">NumericSearch</span>]) != <span class="type">NSComparisonResult</span>.<span class="type">OrderedAscending</span></span><br><span class="line">			<span class="keyword">else</span> { <span class="keyword">throw</span> <span class="type">ConversionError</span>.<span class="type">OutOfBounds</span> }</span><br><span class="line"></span><br><span class="line">		<span class="keyword">guard</span> <span class="keyword">let</span> value = <span class="type">UInt</span>(string)</span><br><span class="line">			<span class="keyword">else</span> { <span class="keyword">throw</span> <span class="type">ConversionError</span>.<span class="type">Unknown</span> }</span><br><span class="line"></span><br><span class="line">		<span class="keyword">self</span>.<span class="keyword">init</span>(value)</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<p>&#x540C;&#x6837;&#x662F;&#x60F3;&#x8868;&#x8FBE;&#x5224;&#x65AD;throw&#x6307;&#x5B9A;&#x5F02;&#x5E38;&#xFF0C;&#x4F7F;&#x7528;guard&#x8BED;&#x53E5;&#x6BD4;&#x4F20;&#x7EDF;&#x7684;&#x660E;&#x786E;&#x5F88;&#x591A;&#xFF0C;&#x751A;&#x81F3;&#x5230;&#x4E86;&#x4E00;&#x773C;&#x770B;&#x51FA;&#x7684;&#x7A0B;&#x5EA6;</p>
<p>&#x8FD9;&#x91CC;&#x4E5F;&#x80FD;&#x770B;&#x5230;&#xFF0C;<strong>&#x539F;&#x5219;&#x662F;&#x5224;&#x65AD;&#x5728;&#x524D;&#xFF0C;&#x6700;&#x540E;&#x6267;&#x884C;<code>self.init(value)</code></strong></p>
<p>&#x81EA;swift&#x53D8;&#x91CF;&#x7684;&#x8BBE;&#x8BA1;<code>Optional</code>&#x8FD9;&#x4E00;&#x7279;&#x6027;&#x4E4B;&#x521D;&#xFF0C;&#x4ECE;&#x8BED;&#x8A00;&#x5C42;&#x9762;&#x4E0A;&#x867D;&#x8BF4;&#x662F;&#x73B0;&#x4EE3;&#x7684;&#x4E25;&#x8C28;&#x7684;&#xFF0C;&#x4F46;&#x5176;&#x5B9E;&#x5728;&#x5F88;&#x591A;&#x65F6;&#x5019;&#x589E;&#x52A0;&#x4E86;&#x6211;&#x4EEC;&#x7684;&#x4EE3;&#x7801;&#x91CF;&#xFF0C;&#x5E38;&#x5E38;&#x65F6;&#x4E0D;&#x65F6;&#x7684;&#x9700;&#x8981;&#x5D4C;&#x5957;&#x7684;<code>if let</code>&#x624D;&#x80FD;&#x4FDD;&#x8BC1;&#x540E;&#x9762;&#x5BF9;&#x53D8;&#x91CF;&#x7684;&#x5F3A;&#x5236;&#x89E3;&#x5305;&#x7684;&#x6709;&#x6548;&#x6027;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x5728;&#x9047;&#x5230;&#x590D;&#x6742;&#x7684;<code>Optional chain</code>&#x60C5;&#x51B5;&#x4E0B;&#x3002;</p>
<p>&#x5728;&#x521A;&#x521A;&#x5B66;&#x4E60;&#x7684;&#x5F88;&#x957F;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x5185;&#x90FD;&#x662F;&#x9760;&#x7740;&#x7F16;&#x8BD1;&#x5668;&#x7684;&#x63D0;&#x793A;&#x6765;&#x8FC7;&#x65E5;&#x5B50;&#xFF0C;&#x8FD8;&#x5E38;&#x5E38;&#x51FA;&#x73B0;&#x5404;&#x79CD;crush&#xFF0C;&#x8FD9;&#x4E00;&#x70B9;&#x4E5F;&#x7B97;&#x5F97;&#x4E0A;&#x662F;&#x5165;&#x95E8;swift &#x7684;&#x6700;&#x5927;&#x95E8;&#x69DB;&#x4E86;&#xFF0C;&#x4F46;&#x603B;&#x5B66;<code>if let</code>&#x4E5F;<code>swift</code>&#x672C;&#x8EAB;&#x7B80;&#x6D01;&#x7684;&#x7279;&#x8D28;&#x4E0D;&#x7B26;&#xFF0C;&#x597D;&#x5728;&#x7EC8;&#x4E8E;&#x6709;<code>guard</code>&#x5E2E;&#x6211;&#x4EEC;&#x5206;&#x62C5;&#x4E86;</p>
<p><code>guard</code>&#x5BF9;&#x6211;&#x6765;&#x8BF4;&#x7684;&#x53E6;&#x4E00;&#x4E2A;&#x597D;&#x5904;&#x662F;&#xFF0C;&#x5B83;&#x4E0D;&#x7528;&#x8BA9;&#x6211;&#x968F;&#x65F6;&#x64CD;&#x5FC3;<code>if</code>&#x903B;&#x8F91;&#x4E0D;&#x5168;&#x7684;&#x95EE;&#x9898;&#x4E86;&#xFF0C;&#x5F88;&#x591A;&#x65F6;&#x5019;&#x6211;&#x5728;&#x5199;&#x7684;&#x4EE3;&#x7801;&#x65F6;&#x603B;&#x662F;&#x81EA;&#x4EE5;&#x4E3A;&#x662F;&#x7684;&#x8BA4;&#x4E3A;&#x903B;&#x8F91;&#x6E05;&#x6670;&#xFF0C;&#x53EA;&#x5199;<code>if</code>&#x800C;&#x4E0D;&#x662F;&#x4FDD;&#x8BC1;<code>if .. else</code>&#x6210;&#x5BF9;&#x51FA;&#x73B0;&#xFF0C;&#x8FD9;&#x5728;&#x903B;&#x8F91;&#x590D;&#x6742;&#x65F6;&#x6216;&#x8005;&#x5D4C;&#x5165;&#x5F0F;&#x5F00;&#x53D1;&#x4E2D;&#x8FDF;&#x65E9;&#x4F1A;&#x9047;&#x5230;&#x5927;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x5E73;&#x767D;&#x7684;&#x5199;&#x5F88;&#x591A;&#x4E2A;<code>else { }</code>&#x603B;&#x662F;&#x663E;&#x5F97;&#x4E0D;&#x90A3;&#x4E48;&#x7F8E;&#x89C2;&#xFF0C;&#x611F;&#x8C22;&#x6709;&#x4E86;<code>guard</code>&#x1F64F;</p>
<p>&#x6BD4;&#x5982;&#x5728;&#x4E00;&#x4E2A;&#x5178;&#x578B;&#x7684;<code>Alamofire</code>&#x8BF7;&#x6C42;&#x4E4B;&#x4E2D;&#xFF1A;</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">guard</span> response.result.isSuccess</span><br><span class="line">	<span class="keyword">else</span> {</span><br><span class="line">		<span class="keyword">let</span> alert = <span class="type">UIAlertView</span>(title: <span class="string">&quot;&#x7F51;&#x7EDC;&#x5F02;&#x5E38;&quot;</span>, message: <span class="string">&quot;&#x8BF7;&#x68C0;&#x67E5;&#x8BBE;&#x5907;&#x7F51;&#x7EDC;&#x8BBE;&#x7F6E;&quot;</span>, delegate: <span class="literal">nil</span>, cancelButtonTitle: <span class="string">&quot;&#x786E;&#x5B9A;&quot;</span>)</span><br><span class="line">        alert.show()</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">    }</span><br></pre></td></tr></table></figure>
<p>&#x1F446;&#x7684;&#x5199;&#x6CD5;&#x6709;&#x5F85;&#x5546;&#x69B7;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x5F88;&#x591A;&#x4EBA;&#x90FD;&#x4E0D;&#x5EFA;&#x8BAE;&#x8FD9;&#x6837;&#x53BB;&#x5199;&#xFF0C;else&#x91CC;&#x9762;&#x5E94;&#x8BE5;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x5176;&#x6B21;&#x683C;&#x5F0F;&#x4E5F;&#x4E0D;&#x4E00;&#x5B9A;&#x8981;&#x8FD9;&#x6837;&#xFF0C;&#x4F46;&#x662F;&#x76EE;&#x524D;&#x6765;&#x770B;&#x4E2A;&#x4EBA;&#x8FD8;&#x662F;&#x5F88;&#x8BA4;&#x540C;&#x8FD9;&#x79CD;&#x89C4;&#x8303;&#x7684;</p>
<ul>
<li><em>SupplementaryView&#x7684;&#x4F7F;&#x7528;&#x6CE8;&#x610F;</em></li>
</ul>
<ol>
<li>register&#x8981;&#x6307;&#x5B9A;kind&#xFF0C;&#x81EA;&#x5B9A;&#x4E49;<code>UICollectionReusableView</code></li>
<li><p>dataSource&#x4EE3;&#x7406;&#x4E2D;&#x88C5;&#x586B;&#x6570;&#x636E;&#xFF1A;<br>&#x4F7F;&#x7528;<code>switch</code>&#x533A;&#x5206;&#x88C5;&#x586B;</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(collectionView: UICollectionView, viewForSupplementaryElementOfKind kind: String, atIndexPath indexPath: NSIndexPath)</span></span> -&gt; <span class="type">UICollectionReusableView</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x6700;&#x91CD;&#x8981;&#x7684;layout&#x4E2D;&#x8981;&#x8BBE;&#x7F6E;<code>headerReferenceSize</code>,&#x5426;&#x5219;&#x4EE3;&#x7406;&#x65B9;&#x6CD5;not be called</p>
</li>
<li><p><strong>&#x6700;&#x5927;&#x7684;&#x4E00;&#x4E2A;&#x5751;</strong>,&#x518D;&#x7ED9;supplyView&#x6DFB;&#x52A0;subView&#x65F6;&#xFF0C;&#x4F7F;&#x7528;<code>bounds</code>&#x800C;&#x4E0D;&#x80FD;&#x662F;<code>frame</code>,&#x5426;&#x5219;&#x5C31;&#x4F1A;&#x51FA;&#x73B0;&#x6240;&#x8C13;drop&#x7684;&#x73B0;&#x8C61;</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="keyword">init</span>(frame: <span class="type">CGRect</span>) {</span><br><span class="line">	<span class="keyword">super</span>.<span class="keyword">init</span>(frame: frame)</span><br><span class="line">	label.frame = bounds <span class="comment">// &#x800C;&#x4E0D;&#x662F;frame</span></span><br><span class="line">	addSubview(label)</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ul>
<li>&#x63A5;&#x4E0A;&#x8212;&#xFF0C;&#x8FD8;&#x6709;&#x51E0;&#x4E2A;&#x4E0D;&#x5E38;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x662F;&#x4F5C;&#x4E3A;cell&#x6ED1;&#x52A8;&#x4EE5;&#x53CA;&#x52A0;&#x52A8;&#x753B;&#x573A;&#x5408;&#x7684;&#x4F7F;&#x7528;<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(collectionView: UICollectionView, willDisplayCell cell: UICollectionViewCell, forItemAtIndexPath indexPath: NSIndexPath)</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(collectionView: UICollectionView, willDisplaySupplementaryView view: UICollectionReusableView, forElementKind elementKind: String, atIndexPath indexPath: NSIndexPath)</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(collectionView: UICollectionView, didEndDisplayingCell cell: UICollectionViewCell, forItemAtIndexPath indexPath: NSIndexPath)</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(collectionView: UICollectionView, didEndDisplayingSupplementaryView view: UICollectionReusableView, forElementOfKind elementKind: String, atIndexPath indexPath: NSIndexPath)</span></span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>&#x60F3;&#x4E0D;&#x8D77;&#x6765;&#x5C31;&#x53BB;&#x6587;&#x6863;&#x4E2D;&#x770B;&#x770B;&#xFF0C;&#x8FD9;&#x91CC;&#x8BB0;&#x4E0B;&#x6765;&#x4E00;&#x6B21;</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2016/04/29/collectionView-Pinterest布局实现/"><span>collectionView - Pinterest布局实现</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2016/04/29/collectionView-Pinterest布局实现/" rel="bookmark">
        <time class="entry-date published" datetime="2016-04-29T09:43:10.000Z">
          2016-04-29
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p><code>UICollectionView</code>&#x8FC7;&#x4E8E;&#x5F3A;&#x5927;&#x4EE5;&#x81F3;&#x4E8E;&#x5230;&#x73B0;&#x5728;&#x90FD;&#x6CA1;&#x6709;&#x5BF9;&#x5B83;&#x6DF1;&#x5165;&#x4E86;&#x89E3;&#xFF0C;&#x5176;&#x826F;&#x597D;&#x7684;<code>custemed</code>&#x7279;&#x6027;&#xFF0C;&#x5E2E;&#x52A9;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5B8C;&#x6210;&#x5404;&#x79CD;&#x5404;&#x6837;&#x7684;&#x70AB;&#x9177;&#x6548;&#x679C;&#xFF0C;&#x6BD4;&#x8F83;&#x5178;&#x578B;&#x7684;&#x5982;&#xFF1A;Pinterest&#x7684;&#x6D41;&#x6C34;&#x5E03;&#x5C40;&#xFF0C;&#x8001;&#x7248;paper&#x7684;&#x7FFB;&#x9875;&#x6298;&#x53E0;&#xFF0C;&#x4EE5;&#x53CA;&#x7CFB;&#x7EDF;&#x4EFB;&#x52A1;&#x5207;&#x6362;&#x65F6;&#x7684;&#x6ED1;&#x9875;&#x5F0F;&#x6548;&#x679C;&#x7B49;</p>
<p>&#x5F53;&#x7136;&#x6240;&#x6709;&#x7684;custom&#x90FD;&#x662F;&#x9700;&#x8981;&#x501F;&#x52A9;<code>UICollectionViewLayout</code>&#xFF0C;&#x5728;&#x5B9E;&#x9645;&#x4F7F;&#x7528;&#x4E2D;&#xFF0C;&#x9664;&#x975E;&#x5B8C;&#x5168;&#x81EA;&#x5B9A;&#x7684;&#x6548;&#x679C;&#x4E4B;&#x5916;&#xFF0C;&#x7EDD;&#x5927;&#x591A;&#x662F;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x4EE5;&#x5B9A;&#x4E49;&#x4E00;&#x90E8;&#x5206;&#x7684;<code>UICollectionViewFlowLayout</code>&#x5373;&#x53EF;&#xFF0C;&#x90A3;&#x5C31;&#x5FAA;&#x5E8F;&#x6E10;&#x8FDB;&#xFF0C;&#x4ECE;&#x5B83;&#x5165;&#x624B;&#x3002;</p>
<p>&#x5F53;&#x4F7F;&#x7528;collectionView&#x65F6;&#xFF0C;&#x521D;&#x59CB;&#x5316;&#x7684;&#x65F6;&#x5019;&#x5E38;&#x5E38;&#x4E2A;&#x4EBA;&#x6765;&#x8BF4;&#x4F1A;&#x6709;&#x4E00;&#x4E9B;&#x2018;&#x70E6;&#x607C;&#x2019;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x5728;swift&#x4E2D;&#x628A;collectionView&#x5F53;&#x4E2D;&#x5355;&#x72EC;&#x7684;&#x5C5E;&#x6027;&#x521D;&#x59CB;&#x5316;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x56E0;&#x4E3A;&#x9700;&#x8981;layout&#xFF0C;&#x800C;&#x5F88;&#x591A;&#x65F6;&#x5019;layout&#x662F;&#x9700;&#x8981;&#x5355;&#x72EC;&#x63D0;&#x51FA;&#x6765;&#x8BBE;&#x7F6E;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x603B;&#x4F1A;&#x5E26;&#x6765;&#x4E00;&#x4E9B;&#x70E6;&#x607C;&#xFF0C;&#x4EE3;&#x7801;&#x7684;&#x533A;&#x5206;&#x5E76;&#x4E0D;&#x660E;&#x786E;&#xFF0C;&#x540E;&#x6765;&#x624D;&#x53D1;&#x73B0;&#x7684;&#x786E;&#x662F;&#x81EA;&#x5DF1;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x56E0;&#x4E3A;UICollectionView&#x672C;&#x8EAB;&#x7684;&#x5C5E;&#x6027;&#x662F;&#x6709;&#x53EF;set&#x548C;get&#x7684;collectionViewLayout&#x7684;&#x996E;&#x7528;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x57FA;&#x672C;&#x4E0A;&#x662F;&#x81EA;&#x5DF1;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x8FD9;&#x91CC;&#x987A;&#x4FBF;&#x8BB0;&#x5F55;</p>
<h4 id="&#x91CD;&#x70B9;&#x65B9;&#x6CD5;"><a href="#&#x91CD;&#x70B9;&#x65B9;&#x6CD5;&#xFF1A;" class="headerlink" title="&#x91CD;&#x70B9;&#x65B9;&#x6CD5;&#xFF1A;"></a>&#x91CD;&#x70B9;&#x65B9;&#x6CD5;&#xFF1A;</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// UICollectionView calls these four methods to determine the layout information.</span></span><br><span class="line"><span class="comment">// Implement -layoutAttributesForElementsInRect: to return layout attributes for for supplementary or decoration views, or to perform layout in an as-needed-on-screen fashion.</span></span><br><span class="line"><span class="comment">// Additionally, all layout subclasses should implement -layoutAttributesForItemAtIndexPath: to return layout attributes instances on demand for specific index paths.</span></span><br><span class="line"><span class="comment">// If the layout supports any supplementary or decoration view types, it should also implement the respective atIndexPath: methods for those types.</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">layoutAttributesForElementsInRect</span><span class="params">(rect: CGRect)</span></span> -&gt; [<span class="type">UICollectionViewLayoutAttributes</span>]? <span class="comment">// return an array layout attributes instances for all the views in the given rect</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">layoutAttributesForItemAtIndexPath</span><span class="params">(indexPath: NSIndexPath)</span></span> -&gt; <span class="type">UICollectionViewLayoutAttributes</span>?</span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">layoutAttributesForSupplementaryViewOfKind</span><span class="params">(elementKind: String, atIndexPath indexPath: NSIndexPath)</span></span> -&gt; <span class="type">UICollectionViewLayoutAttributes</span>?</span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">layoutAttributesForDecorationViewOfKind</span><span class="params">(elementKind: String, atIndexPath indexPath: NSIndexPath)</span></span> -&gt; <span class="type">UICollectionViewLayoutAttributes</span>?</span><br></pre></td></tr></table></figure>
<p>&#x6CE8;&#x91CA;&#x90E8;&#x5206;&#x5DF2;&#x7ECF;&#x8BF4;&#x4E86;&#xFF1A;&#x4E0A;&#x8FB9;&#x7684;4&#x4E2A;&#x65B9;&#x6CD5;&#x51B3;&#x5B9A;&#x4E86;&#x6700;&#x7EC8;&#x7684;layout&#x4FE1;&#x606F;</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2016/04/13/swift-－-tip001/"><span>swift － tip001</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2016/04/13/swift-－-tip001/" rel="bookmark">
        <time class="entry-date published" datetime="2016-04-13T02:11:40.000Z">
          2016-04-13
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h3 id="swift&#x7684;tip"><a href="#swift&#x7684;tip" class="headerlink" title="swift&#x7684;tip"></a><code>swift</code>&#x7684;tip</h3><hr>
<ul>
<li>lazy&#x7684;&#x4F7F;&#x7528;    </li>
</ul>
<p>lazy &#x51E0;&#x7ECF;&#x66F4;&#x6539;&#xFF0C;&#x6700;&#x7EC8;&#x56FA;&#x5B9A;&#x5728;&#x6700;&#x7B80;&#x5355;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x52A0;&#x4E0A;&#x5173;&#x952E;&#x5B57;<code>lazy</code>&#x5C31;&#x884C;&#x4E86;&#xFF0C;&#x8FD8;&#x8981;&#x6CE8;&#x610F;&#x53EA;&#x6709;&#x53D8;&#x91CF;<code>var</code>&#x624D;&#x80FD;&#x62E5;&#x6709;&#x61D2;&#x60F0;&#x7279;&#x6027;&#xFF0C;&#x56E0;&#x4E3A;&#x53EA;&#x6709;<code>let</code>&#x5728;&#x5B9E;&#x4F8B;&#x5316;&#x8C03;&#x7528;<code>super.init()</code>&#x4E4B;&#x524D;&#x5DF2;&#x7ECF;&#x521D;&#x59CB;&#x5316;&#x597D;&#x4E86;&#xFF0C;&#x800C;<code>var</code>&#x662F;&#x5728;&#x5176;&#x540E;&#x624D;&#x88AB;&#x7D22;&#x5F15;&#x7684;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x7684;&#x521D;&#x59CB;&#x5316;&#x9700;&#x8981;&#x590D;&#x6742;&#x548C;&#x9AD8;&#x6602;&#x7684;&#x4EE3;&#x4EF7;&#x65F6;&#xFF0C;&#x5728;&#x9700;&#x8981;&#x65F6;&#x8D4B;&#x503C;&#xFF0C;&#x5C31;&#x80FD;&#x770B;&#x51FA;<code>lazy</code>&#x7684;&#x610F;&#x4E49;&#x4E86;</p>
<p>&#x540C;&#x65F6;&#xFF0C;<code>lazy</code>&#x5E76;&#x975E;&#x662F;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x540C;&#x65F6;&#x88AB;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#x540C;&#x65F6;&#x8C03;&#x7528;&#xFF0C;&#x5C31;&#x4E0D;&#x80FD;&#x4FDD;&#x8BC1;&#x53EA;&#x521D;&#x59CB;&#x5316;&#x4E00;&#x6B21;</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//MARK: lazy</span></span><br><span class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> collectionView: <span class="type">UICollectionView</span> = {</span><br><span class="line">	<span class="keyword">var</span> collectionView = <span class="type">UICollectionView</span>(frame: <span class="keyword">self</span>.view.frame, collectionViewLayout: <span class="keyword">self</span>.flowLayout)</span><br><span class="line">	collectionView.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">	collectionView.registerClass(<span class="type">YRContentCollectionViewCell</span>.<span class="keyword">self</span>, forCellWithReuseIdentifier: <span class="string">&quot;collection_cell&quot;</span>)</span><br><span class="line">	collectionView.registerClass(<span class="type">UICollectionReusableView</span>.<span class="keyword">self</span>, forSupplementaryViewOfKind: <span class="type">UICollectionElementKindSectionHeader</span>, withReuseIdentifier: <span class="string">&quot;headerView&quot;</span>)</span><br><span class="line">		<span class="keyword">return</span> collectionView</span><br><span class="line">}()</span><br><span class="line"></span><br><span class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> flowLayout:<span class="type">UICollectionViewFlowLayout</span> = {</span><br><span class="line">	<span class="keyword">var</span> collectionViewLayout = <span class="type">UICollectionViewFlowLayout</span>()</span><br><span class="line">	collectionViewLayout.itemSize = <span class="type">CGSizeMake</span>(<span class="number">300</span>, <span class="number">180</span>)</span><br><span class="line">	collectionViewLayout.headerReferenceSize = <span class="type">CGSizeMake</span>(<span class="number">0</span>, <span class="number">20</span>)</span><br><span class="line">	<span class="keyword">return</span> collectionViewLayout</span><br><span class="line">}()</span><br></pre></td></tr></table></figure>
<ul>
<li><p>switch<br>  &#x5176;&#x5B9E;&#x5728;&#x6700;&#x5F00;&#x59CB;&#x63A5;&#x89E6;&#x7F16;&#x7A0B;&#x65F6;&#xFF0C;&#x5B66;&#x4E60;&#x5230;<code>switch</code>&#x8BED;&#x53E5;&#xFF0C;&#x867D;&#x8BF4;&#x7406;&#x89E3;&#x8D77;&#x6765;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x4F46;&#x662F;&#x5199;&#x8D77;&#x6765;&#x548C;&#x7F16;&#x7801;&#x8FC7;&#x7A0B;&#x603B;&#x6709;&#x79CD;&#x201C;&#x505A;&#x7684;&#x4E0D;&#x591F;&#x201D;&#x7684;&#x611F;&#x89C9;&#xFF0C;&#x7EDD;&#x5927;&#x591A;&#x6570;&#x7684;&#x8BED;&#x8A00;&#x4E2D;<code>switch</code>&#x8BED;&#x53E5;&#x90FD;&#x662F;&#x8DDF;C&#x4E2D;&#x7684;&#x4E00;&#x6837;&#xFF0C;&#x8FC7;&#x4E86;&#x8FD9;&#x4E48;&#x591A;&#x5E74;&#x7EC8;&#x4E8E;&#x5728;swift&#x4E2D;&#x770B;&#x5230;&#x4E86;&#x6211;&#x6240;&#x5E0C;&#x671B;&#x7684;&#x6837;&#x5B50;</p>
<ul>
<li>&#x9996;&#x5148;&#x662F;&#x4E0D;&#x8981;&#x4E00;&#x4E2A;&#x4E00;&#x4E2A;&#x7684;break&#x4E86;</li>
<li>&#x5176;&#x6B21;&#xFF0C;&#x5927;&#x5927;&#x589E;&#x5F3A;<code>Matching</code>&#x7C7B;&#x578B;&#xFF0C;&#x4E8B;&#x5B9E;&#x4E0A;&#x53EF;&#x4EE5;&#x5339;&#x914D;<code>any data</code>,&#x8FD8;&#x53EF;&#x4EE5;&#x7EC4;&#x5408;&#x5339;&#x914D;&#xFF0C;&#x9644;&#x52A0;&#x5339;&#x914D;</li>
<li>&#x6700;&#x540E;&#xFF0C;&#x6C38;&#x8FDC;&#x7262;&#x8BB0;<code>switch</code>&#x5FC5;&#x987B;&#x662F;<em>&#x5B8C;&#x5907;</em>&#x7684;<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">      <span class="keyword">switch</span> someValueToConsider {</span><br><span class="line">      <span class="keyword">case</span> value1:</span><br><span class="line">	statements</span><br><span class="line"><span class="keyword">case</span> value2,value3:</span><br><span class="line">	statements</span><br><span class="line"><span class="keyword">case</span> value4..&lt;valu5:</span><br><span class="line">	statements</span><br><span class="line">     	<span class="keyword">case</span> (x, y) <span class="keyword">where</span> x &gt; y:</span><br><span class="line">	statements</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">	statements</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><code>Access Control</code>&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x6743;&#x9650;<br>  2&#x79CD;&#x7EA7;&#x522B;&#xFF1A;    </p>
<pre><code>* &#x6A21;&#x5757;&#x533A;&#x5206;&#xFF0C;&#x5982;&#x4E0D;&#x540C;&#x7684;`Framework`&#x4E4B;&#x95F4;&#xFF0C;&#x800C;`App bundle`&#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x6A21;&#x5757;
</code></pre><ul>
<li><p>&#x6E90;&#x6587;&#x4EF6;&#x7EA7;&#x522B;&#xFF0C;&#x5C31;&#x662F;&#x5404;&#x4E2A;class&#x7684;&#x5C5E;&#x6027;&#x548C;&#x65B9;&#x6CD5;&#x7EA7;&#x522B;    </p>
<p>3&#x79CD;&#x8BBF;&#x95EE;&#x7EA7;&#x522B;&#xFF1A;<code>Public</code>,<code>Internal</code>&#x548C;<code>Private</code></p>
<ul>
<li><code>Public</code>: &#x8DE8;&#x6A21;&#x5757;&#x7EA7;&#x522B;&#xFF0C;&#x5982;<code>Framework</code>&#x4E2D;&#x5F00;&#x653E;&#x7684;&#x65B9;&#x6CD5;&#x548C;&#x5C5E;&#x6027;</li>
<li>&#x9ED8;&#x8BA4;&#x8BBF;&#x95EE;&#x6743;&#x9650;&#x662F;<code>Internal</code> &#xFF0D; &#x5373;&#x4E3A;&#x540C;&#x6A21;&#x5757;&#xFF0C;&#x4F8B;&#x5982;iOS&#x5F00;&#x53D1;&#x901A;&#x5E38;&#x5C31;&#x4E00;&#x4E2A;boundle</li>
<li><code>Private</code>: &#x672C;&#x6E90;&#x6587;&#x4EF6;&#x7EA7;&#x522B;</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x4FEE;&#x9970;class &#xFF0D; &#x6A21;&#x5757;&#x7EA7;&#x522B;&#x4FEE;&#x9970;</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SomePublicClass</span> </span>{}</span><br><span class="line"><span class="keyword">internal</span> <span class="class"><span class="keyword">class</span> <span class="title">SomeInternalClass</span> </span>{}</span><br><span class="line"><span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">SomePrivateClass</span> </span>{}&#x201D;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x4FEE;&#x9970;&#x65B9;&#x6CD5; &#xFF0D; &#x6E90;&#x6587;&#x4EF6;&#x7EA7;&#x522B;</span></span><br><span class="line"><span class="keyword">var</span> someInternalConstant = <span class="number">0</span>            <span class="comment">// &#x9690;&#x5F0F;&#x8BBF;&#x95EE;&#x7EA7;&#x522B; internal</span></span><br><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">somePrivateFunction</span><span class="params">()</span></span> {}</span><br></pre></td></tr></table></figure>
<ul>
<li><p>image &#x548C; color &#x662F;&#x53EF;&#x4EE5;&#x76F8;&#x4E92;&#x8F6C;&#x6362;&#x7684;<br>  &#x901A;&#x5E38;&#x5728;&#x8BBE;&#x7F6E;background &#x65F6;&#xFF1A;</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if let patternImage = UIImage(named: &quot;pattern-grey&quot;) {</span><br><span class="line"> view.backgroundColor = UIColor(patternImage: patternImage)</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
</li>
<li><p>swift&#x4E2D;&#x7F51;&#x7EDC;&#x6846;&#x67B6;<code>Alamofir</code>&#x7684;&#x4F7F;&#x7528;<br>  <code>Alamofir</code>&#x7684;&#x57FA;&#x672C;&#x4F7F;&#x7528;&#x53C2;&#x7167;gitHub&#xFF0C;&#x5DF2;&#x7ECF;&#x8BF4;&#x7684;&#x5F88;&#x8BE6;&#x7EC6;&#x4E86;&#xFF0C;&#x8FD9;&#x91CC;&#x501F;&#x52A9;&#x51E0;&#x4E2A;&#x5F00;&#x6E90;&#x9879;&#x76EE;&#xFF0C;&#x63A2;&#x6C42;&#x4E00;&#x79CD;&#x6700;&#x5408;&#x9002;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#xFF0C;&#x5148;&#x662F;&#x7B80;&#x5355;&#x7684;&#x7F57;&#x5217;&#xFF0C;&#x6700;&#x540E;&#x5728;&#x5206;&#x6790;</p>
<ul>
<li><p>&#x4E00;&#x79CD;&#x8F83;&#x4E3A;&#x5178;&#x578B;&#x7684;&#x4F7F;&#x7528;&#xFF0C;url&#x5904;&#x7406;&#x662F;<code>mattt</code>&#x5927;&#x795E;&#x7ED9;&#x51FA;&#x7684;&#xFF0C;&#x672C;&#x8EAB;&#x5BF9;&#x6846;&#x67B6;&#x5E76;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x53D8;&#x52A8;&#xFF0C;&#x53EA;&#x662F;&#x5C06;API&#x8BF7;&#x6C42;&#x548C;URl&#x505A;&#x4E86;&#x89C4;&#x8303;&#x7EDF;&#x4E00;&#xFF0C;&#x5C06;&#x6240;&#x6709;&#x76F8;&#x5173;&#x7EDF;&#x4E00;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x5E76;&#x4F7F;&#x7528;&#x679A;&#x4E3E;&#x589E;&#x5F3A;&#x53EF;&#x8BFB;&#x6027;&#xFF0C;eg&#xFF1A;</p>
<p><img src="/img/swiftTip001_1.png" alt="&#x5178;&#x578B;&#x4F7F;&#x7528;"></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ServiceApi</span>: <span class="title">NSObject</span> </span>{</span><br><span class="line">	<span class="comment">// API &#x90E8;&#x5206;,&#x7EDF;&#x4E00;&#x65B9;&#x6CD5;&#x4E00;&#x4E2A;class&#x4E2D;,&#x4F7F;&#x7528;&#x7D2F;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x5B8C;&#x6574;url</span></span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">var</span> host:<span class="type">String</span> = <span class="string">&quot;http://www.swiftmi.com&quot;</span></span><br><span class="line">   </span><br><span class="line">   	<span class="keyword">internal</span> <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">getTopicUrl</span>(<span class="title">maxId</span>:<span class="title">Int</span>,<span class="title">count</span>:<span class="title">Int</span>) -&gt; <span class="title">String</span> </span>{</span><br><span class="line">       </span><br><span class="line">       	<span class="keyword">return</span> <span class="string">&quot;\(host)/api/topic/list2/\(maxId)/\(count)&quot;</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x6240;&#x8C13;&#x7684;Router&#x679A;&#x4E3E;, &#x9075;&#x5FAA;URLRequestConvertible &#x534F;&#x8BAE;</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Router</span>: <span class="title">URLRequestConvertible</span> </span>{</span><br><span class="line">	</span><br><span class="line">} </span><br><span class="line">```	</span><br><span class="line">&#x5176;&#x4E2D;&#x7684;`<span class="type">URLRequestConvertible</span>`&#x534F;&#x8BAE;&#x4E5F;&#x662F;&#x6846;&#x67B6;&#x4E2D;&#x81EA;&#x5E26;&#x7684;&#xFF0C;&#x53EF;&#x89C1;&#x662F;&#x4E00;&#x79CD;&#x63A8;&#x8350;&#x7684;&#x505A;&#x6CD5;		</span><br><span class="line">```swift	</span><br><span class="line"><span class="comment">// MARK: - URLRequestConvertible</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line">   	Types adopting the `URLRequestConvertible` protocol can be used to construct URL requests.</span><br><span class="line">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">URLRequestConvertible</span> </span>{</span><br><span class="line">   	<span class="comment">/// The URL request.</span></span><br><span class="line">   	<span class="keyword">var</span> <span class="type">URLRequest</span>: <span class="type">NSMutableURLRequest</span> { <span class="keyword">get</span> }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>&#x679A;&#x4E3E;</p>
<p>  swift&#x4E2D;&#x7684;&#x679A;&#x4E3E;&#x65E9;&#x5DF2;&#x4E0D;&#x662F;C&#x4E2D;&#x90A3;&#x4E2A;&#x8FB9;&#x7F18;&#x7684;&#x5C0F;tip&#x800C;&#x5DF2;&#xFF0C;&#x800C;&#x662F;<code>first class</code>&#x7C7B;&#x578B;&#xFF0C;&#x5F3A;&#x5927;&#x5230;&#x4EE4;&#x4EBA;&#x53D1;&#x8D28;&#xFF0C;&#x9996;&#x5148;&#x662F;&#x679A;&#x4E3E;&#x7C7B;&#x578B;&#x7684;&#x6269;&#x5145;&#xFF0C;&#x4ECE;&#x7B80;&#x5355;&#x7684;&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x5230;&#x5143;&#x7EC4;<code>Tuple</code>&#x90FD;&#x662F;&#x53EF;&#x4EE5;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x62E5;&#x6709;&#x8BA1;&#x7B97;&#x578B;&#x5C5E;&#x6027;&#xFF0C;&#x53EF;&#x4EE5;&#x6709;&#x65B9;&#x6CD5;&#xFF0C;&#x53EF;&#x4EE5;&#x5D4C;&#x5957;&#x5B50;&#x679A;&#x4E3E;&#xFF0C;&#x53EF;&#x4EE5;&#x5D4C;&#x5957;&#x5230;class&#x548C;struct&#x4E2D;&#xFF0C;&#x603B;&#x4E4B;&#x679A;&#x4E3E;&#x7684;&#x6982;&#x5FF5;&#x5DF2;&#x7ECF;&#x88AB;&#x6269;&#x5C55;&#x5230;&#xFF1A;</p>
<blockquote>
<p>&#x679A;&#x4E3E;&#xFF0C;&#x7528;&#x4EE5;&#x58F0;&#x660E;&#x53EF;&#x80FD;&#x72B6;&#x6001;&#x7684;&#x6709;&#x9650;&#x96C6;&#xFF0C;&#x4E14;&#x53EF;&#x4EE5;&#x5177;&#x6709;&#x9644;&#x52A0;&#x503C;&#x3002;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5185;&#x5D4C;(nesting),&#x65B9;&#x6CD5;(method),&#x5173;&#x8054;&#x503C;(associated values)&#x548C;&#x6A21;&#x5F0F;&#x5339;&#x914D;(pattern matching),&#x751A;&#x81F3;&#x53EF;&#x4EE5;&#x9075;&#x5FAA;&#x534F;&#x8BAE;&#xFF08;protocal&#xFF09;,&#x4ECE;&#x800C;&#x8BA9;&#x679A;&#x4E3E;&#x53EF;&#x4EE5;&#x5206;&#x5C42;&#x6B21;&#x5730;&#x5B9A;&#x4E49;&#x4EFB;&#x4F55;&#x6709;&#x7EC4;&#x7EC7;&#x7684;&#x6570;&#x636E;&#x3002;</p>
</blockquote>
<p>  &#x4E0B;&#x9762;&#x4E00;&#x6B21;&#x6027;&#x4F7F;&#x7528;<code>Playground</code>&#x7684;&#x5C55;&#x793A;&#x5176;&#x4F7F;&#x7528;&#xFF1A;</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. basic Enum</span></span><br><span class="line">	<span class="class"><span class="keyword">enum</span> <span class="title">Movement</span> </span>{</span><br><span class="line">	    <span class="keyword">case</span> <span class="type">Left</span></span><br><span class="line">	    <span class="keyword">case</span> <span class="type">Right</span></span><br><span class="line">	    <span class="keyword">case</span> <span class="type">Top</span></span><br><span class="line">	    <span class="keyword">case</span> <span class="type">Bottom</span></span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">let</span> aMovement = <span class="type">Movement</span>.<span class="type">Left</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">// - switch</span></span><br><span class="line">	<span class="keyword">switch</span> aMovement {</span><br><span class="line">	<span class="keyword">case</span> .<span class="type">Left</span>: <span class="built_in">print</span>(<span class="string">&quot;left&quot;</span>)</span><br><span class="line">	<span class="keyword">default</span>: ()</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// - if</span></span><br><span class="line">	<span class="keyword">if</span> <span class="keyword">case</span> .<span class="type">Left</span> = aMovement {</span><br><span class="line">	    <span class="built_in">print</span>(<span class="string">&quot;left&quot;</span>)</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span> aMovement == .<span class="type">Left</span> {</span><br><span class="line">	    <span class="built_in">print</span>(<span class="string">&quot;left&quot;</span>)</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line"><span class="comment">/* 2. Enum Values - &#x4E0D;&#x6B62;&#x662F;Int&#x578B;&#xFF0C;&#x76F8;&#x6BD4;C&#x8BED;&#x8A00;&#x5927;&#x5927;&#x7684;&#x6269;&#x5C55;&#x4E86;&#xFF0C;&#x5BF9;&#x4E8E;String&#x548C;Int&#x4F60;&#x751A;&#x81F3;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7B80;&#x4E9B;</span><br><span class="line">	 &#x679A;&#x4E3E;&#x4E2D;&#x652F;&#x6301;&#x4EE5;&#x4E0B;&#x56DB;&#x79CD;&#x5173;&#x8054;&#x503C;&#x7C7B;&#x578B;:</span><br><span class="line">		 &#x6574;&#x578B;(Integer)</span><br><span class="line">		 &#x6D6E;&#x70B9;&#x6570;(Float Point)</span><br><span class="line">		 &#x5B57;&#x7B26;&#x4E32;(String)</span><br><span class="line">	 	 &#x5E03;&#x5C14;&#x7C7B;&#x578B;(Boolean)</span><br><span class="line">*/</span></span><br><span class="line">	<span class="class"><span class="keyword">enum</span> <span class="title">House</span>: <span class="title">String</span> </span>{</span><br><span class="line">	    <span class="keyword">case</span> <span class="type">Baratheon</span> = <span class="string">&quot;Ours is the Fury&quot;</span></span><br><span class="line">	    <span class="keyword">case</span> <span class="type">Greyjoy</span> = <span class="string">&quot;We Do Not Sow&quot;</span></span><br><span class="line">	    <span class="keyword">case</span> <span class="type">Martell</span> = <span class="string">&quot;Unbowed, Unbent, Unbroken&quot;</span></span><br><span class="line">	    <span class="keyword">case</span> <span class="type">Stark</span> = <span class="string">&quot;Winter is Coming&quot;</span></span><br><span class="line">	    <span class="keyword">case</span> <span class="type">Tully</span> = <span class="string">&quot;Family, Duty, Honor&quot;</span></span><br><span class="line">	    <span class="keyword">case</span> <span class="type">Tyrell</span> = <span class="string">&quot;Growing Strong&quot;</span></span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// float double&#x90FD;&#x53EF;&#x4EE5;(&#x540C;&#x65F6;&#x6CE8;&#x610F;&#x679A;&#x4E3E;&#x4E2D;&#x7684;&#x82B1;&#x5F0F;unicode)</span></span><br><span class="line">	<span class="class"><span class="keyword">enum</span> <span class="title">Constants</span>: <span class="title">Double</span> </span>{</span><br><span class="line">	    <span class="keyword">case</span> &#x3C0; = <span class="number">3.14159</span></span><br><span class="line">	    <span class="keyword">case</span> e = <span class="number">2.71828</span></span><br><span class="line">	    <span class="keyword">case</span> &#x3C6; = <span class="number">1.61803398874</span></span><br><span class="line">	    <span class="keyword">case</span> &#x3BB; = <span class="number">1.30357</span></span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// swift2.0 &#x7684;&#x7B80;&#x5199;</span></span><br><span class="line">	<span class="comment">// &#x76F8;&#x5F53;&#x4E8E; North = &quot;North&quot;, ... West = &quot;West&quot;</span></span><br><span class="line">	<span class="class"><span class="keyword">enum</span> <span class="title">CompassPoint</span>: <span class="title">String</span> </span>{</span><br><span class="line">	    <span class="keyword">case</span> <span class="type">Noth</span>, <span class="type">South</span>, <span class="type">East</span>, <span class="type">West</span></span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line"><span class="comment">// 3. &#x6240;&#x8C13;&#x7684;&#x201C;&#x8BFB;&#x201D;&#x548C;&#x201C;&#x5199;&#x201D;</span></span><br><span class="line">	<span class="comment">// &#xFF0D; &#x8BFB;&#xFF1A; &#x4F7F;&#x7528;rawValue&#x8BFB;&#x53D6;&#x679A;&#x4E3E;&#x503C;</span></span><br><span class="line">	<span class="keyword">let</span> bestHouse = <span class="type">House</span>.<span class="type">Stark</span></span><br><span class="line">	<span class="built_in">print</span>(bestHouse.rawValue)</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// &#xFF0D; &#x5199;&#xFF1A;</span></span><br><span class="line">	<span class="class"><span class="keyword">enum</span> <span class="title">Movement002</span>: <span class="title">Int</span> </span>{</span><br><span class="line">	    <span class="keyword">case</span> <span class="type">Left</span> = <span class="number">0</span></span><br><span class="line">	    <span class="keyword">case</span> <span class="type">Right</span> = <span class="number">1</span></span><br><span class="line">	    <span class="keyword">case</span> <span class="type">Top</span> = <span class="number">2</span></span><br><span class="line">	    <span class="keyword">case</span> <span class="type">Bottom</span> = <span class="number">3</span></span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">let</span> rightMovement = <span class="type">Movement002</span>(rawValue: <span class="number">1</span>) <span class="comment">// &#x521B;&#x5EFA;&#x4E00;&#x4E2A;movement.Right &#x7528;&#x4F8B;,&#x5176;raw value&#x503C;&#x4E3A;1</span></span><br><span class="line">	<span class="built_in">print</span>(rightMovement)</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 3. Nesting Enums - &#x679A;&#x4E3E;&#x4E2D;&#x5D4C;&#x5957;&#x679A;&#x4E3E;</span></span><br><span class="line">	<span class="class"><span class="keyword">enum</span> <span class="title">Character</span> </span>{</span><br><span class="line">	    <span class="comment">// &#x6B66;&#x5668;</span></span><br><span class="line">	    <span class="class"><span class="keyword">enum</span> <span class="title">Weapon</span> </span>{</span><br><span class="line">	        <span class="keyword">case</span> <span class="type">Bow</span></span><br><span class="line">	        <span class="keyword">case</span> <span class="type">Gun</span></span><br><span class="line">	    }</span><br><span class="line">	    <span class="comment">// &#x5934;&#x76D4;</span></span><br><span class="line">	    <span class="class"><span class="keyword">enum</span> <span class="title">Helmet</span> </span>{</span><br><span class="line">	        <span class="keyword">case</span> <span class="type">Wooden</span></span><br><span class="line">	        <span class="keyword">case</span> <span class="type">Iron</span></span><br><span class="line">	        <span class="keyword">case</span> <span class="type">Diamond</span></span><br><span class="line">	    }</span><br><span class="line">	    </span><br><span class="line">	    <span class="comment">// &#x89D2;&#x8272;</span></span><br><span class="line">	    <span class="keyword">case</span> <span class="type">Thief</span></span><br><span class="line">	    <span class="keyword">case</span> <span class="type">Warrior</span></span><br><span class="line">	    <span class="keyword">case</span> <span class="type">Knight</span></span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">let</span> character = <span class="type">Character</span>.<span class="type">Thief</span></span><br><span class="line">	<span class="keyword">let</span> weapon = <span class="type">Character</span>.<span class="type">Weapon</span>.<span class="type">Gun</span></span><br><span class="line">	<span class="keyword">let</span> helmet = <span class="type">Character</span>.<span class="type">Helmet</span>.<span class="type">Iron</span></span><br><span class="line">	</span><br><span class="line"><span class="comment">// 4. Containing Enums - &#x5C31;&#x662F;&#x5728;struct&#x548C;class&#x4E2D;&#x7684;&#x5185;&#x5D4C;&#x679A;&#x4E3E;</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Characters</span> </span>{</span><br><span class="line">	    </span><br><span class="line">	    <span class="class"><span class="keyword">enum</span> <span class="title">CharacterType</span> </span>{</span><br><span class="line">	        <span class="keyword">case</span> <span class="type">Thief</span></span><br><span class="line">	        <span class="keyword">case</span> <span class="type">Warrior</span></span><br><span class="line">	        <span class="keyword">case</span> <span class="type">Knight</span></span><br><span class="line">	    }</span><br><span class="line">	    <span class="comment">// &#x6B66;&#x5668;</span></span><br><span class="line">	    <span class="class"><span class="keyword">enum</span> <span class="title">Weapon</span> </span>{</span><br><span class="line">	        <span class="keyword">case</span> <span class="type">Bow</span></span><br><span class="line">	        <span class="keyword">case</span> <span class="type">Gun</span></span><br><span class="line">	    }</span><br><span class="line">	</span><br><span class="line">	    <span class="keyword">let</span> type: <span class="type">CharacterType</span></span><br><span class="line">	    <span class="keyword">let</span> weapon: <span class="type">Weapon</span></span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">let</span> warrior = <span class="type">Characters</span>(type: .<span class="type">Warrior</span>, weapon: .<span class="type">Gun</span>)</span><br><span class="line">	</span><br><span class="line"><span class="comment">// 5. Associated Value</span></span><br><span class="line">	<span class="comment">// &#x524D;&#x8FB9;&#x57FA;&#x672C;&#x90FD;&#x662F;enum&#x7684;&#x6269;&#x5C55;&#xFF0C;&#x5728;swift&#x4E2D;&#x8FD8;&#x6709;&#x5BF9;case&#x7684;&#x6269;&#x5C55;</span></span><br><span class="line">	<span class="class"><span class="keyword">enum</span> <span class="title">Trade</span> </span>{</span><br><span class="line">	    <span class="keyword">case</span> <span class="type">Buy</span>(stock: <span class="type">String</span>, amount: <span class="type">Int</span>)</span><br><span class="line">	    <span class="keyword">case</span> <span class="type">Sell</span>(stock: <span class="type">String</span>, amount: <span class="type">Int</span>)</span><br><span class="line">	    <span class="comment">// &#x53EF;&#x4EE5;&#x7B80;&#x5199;&#x4E3A;</span></span><br><span class="line">	    <span class="keyword">case</span> <span class="type">Steel</span>(<span class="type">String</span>, <span class="type">Int</span>)</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">func</span> <span class="title">trade</span><span class="params">(type: Trade)</span></span> { }</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// &#x201C;&#x8BFB;&#x201D;&#xFF1A; Pattern Mathching</span></span><br><span class="line">	<span class="keyword">let</span> trade = <span class="type">Trade</span>.<span class="type">Buy</span>(stock: <span class="string">&quot;APPLE&quot;</span>, amount: <span class="number">500</span>)</span><br><span class="line">	<span class="keyword">if</span> <span class="keyword">case</span> <span class="keyword">let</span> <span class="type">Trade</span>.<span class="type">Buy</span>(stock, amount) = trade {</span><br><span class="line">	    <span class="built_in">print</span>(<span class="string">&quot;buy \(amount) of \(stock)&quot;</span>)</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line"><span class="comment">// -- &#x4EE5;&#x4E0B;&#x90FD;&#x662F;&#x5927;&#x62DB; --</span></span><br><span class="line"><span class="comment">// 6.   case &#x53EF;&#x4EE5;&#x653E;&#x5143;&#x7956;</span></span><br><span class="line"><span class="comment">//      &#x679A;&#x4E3E;&#x53EF;&#x4EE5;&#x6709;&#x5C5E;&#x6027;property - &#x4E0D;&#x8FC7;&#x662F;&#x8BA1;&#x7B97;&#x578B;&#x5C5E;&#x6027;</span></span><br><span class="line"><span class="comment">//      &#x53EF;&#x4EE5;&#x6709;&#x65B9;&#x6CD5;func</span></span><br><span class="line">	<span class="class"><span class="keyword">enum</span> <span class="title">Device</span> </span>{</span><br><span class="line">	    <span class="keyword">case</span> iPad, iPhone</span><br><span class="line">	    <span class="keyword">case</span> <span class="type">AppleWatch</span></span><br><span class="line">	    </span><br><span class="line">	    <span class="keyword">case</span> <span class="type">Off</span>, <span class="type">On</span></span><br><span class="line">	    </span><br><span class="line">	    <span class="comment">// &#x8BA1;&#x7B97;&#x578B;&#x5C5E;&#x6027;&#xFF0D;&#xFF0D; Int year</span></span><br><span class="line">	    <span class="keyword">var</span> year: <span class="type">Int</span> {</span><br><span class="line">	        <span class="keyword">switch</span> <span class="keyword">self</span> {</span><br><span class="line">	            <span class="keyword">case</span> .iPhone: <span class="keyword">return</span> <span class="number">2007</span></span><br><span class="line">	            <span class="keyword">case</span> .iPad: <span class="keyword">return</span> <span class="number">2010</span></span><br><span class="line">	            <span class="keyword">default</span>: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">	            }</span><br><span class="line">	    }</span><br><span class="line">	    </span><br><span class="line">	    <span class="comment">// Static Methods - &#x81EA;&#x52A8;&#x8F6C;&#x6362;&#x89C4;&#x8303;&#x7528;&#x8BED;</span></span><br><span class="line">	    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">transSlang</span><span class="params">(term: String)</span></span> -&gt; <span class="type">Device</span>? {</span><br><span class="line">	        <span class="keyword">if</span> term == <span class="string">&quot;iWatch&quot;</span> {</span><br><span class="line">	            <span class="keyword">return</span> <span class="type">AppleWatch</span></span><br><span class="line">	        }</span><br><span class="line">	        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">	    }</span><br><span class="line">	    </span><br><span class="line">	    <span class="comment">// mutating Methods - &#x53EF;&#x53D8;&#x65B9;&#x6CD5;&#xFF1A;&#x5141;&#x8BB8;&#x4FEE;&#x6539;case&#x7684;&#x503C;</span></span><br><span class="line">	    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">screenSwitch</span><span class="params">()</span></span> {</span><br><span class="line">	        <span class="keyword">switch</span> <span class="keyword">self</span> {</span><br><span class="line">	        <span class="keyword">case</span> .<span class="type">On</span>:</span><br><span class="line">	            <span class="keyword">self</span> = <span class="type">Off</span></span><br><span class="line">	        <span class="keyword">default</span>:</span><br><span class="line">	            <span class="keyword">self</span> = <span class="type">On</span></span><br><span class="line">	        }</span><br><span class="line">	    }</span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">var</span> phoneScreenSwitch = <span class="type">Device</span>.<span class="type">On</span></span><br><span class="line">	phoneScreenSwitch.screenSwitch()</span><br><span class="line">	phoneScreenSwitch.screenSwitch()</span><br></pre></td></tr></table></figure>
</li>
<li><p>swift&#x4E2D;JSON&#x89E3;&#x6790;&#x8F6C;Model&#x7684;&#x5B9E;&#x8DF5;    </p>
</li>
</ul>
<p>&#x7B2C;&#x4E09;&#x65B9;&#x6846;&#x67B6;&#x7F51;&#x7EDC;&#x54CD;&#x5E94;&#x8FD4;&#x56DE;&#x7684;&#xFF0C;&#x5F80;&#x5F80;&#x662F;&#x5E8F;&#x5217;&#x5316;&#x4E4B;&#x540E;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x505A;&#x7684;&#x5C31;&#x662F;&#x6839;&#x636E;&#x4E0D;&#x540C;&#x7684;<code>key</code>&#x8FDB;&#x884C;&#x5206;&#x5272;&#x6570;&#x636E;&#xFF0C;&#x627E;&#x5230;&#x5408;&#x9002;&#x7684;&#x6570;&#x636E;&#x653E;&#x5230;Model &#x4E2D;&#xFF0C;&#x4F46;&#x86CB;&#x75BC;&#x7684;&#x4E8B;&#x513F;&#x5C31;&#x6765;&#x4E86;&#xFF0C;&#x5982;&#x4F55;&#x4F18;&#x96C5;&#x7684;&#x5C06;&#x6570;&#x636E;&#xFF3B;&#x5F80;&#x5F80;&#x90FD;&#x662F;&#x5B57;&#x5178;&#xFF3D;&#x8F6C;&#x5316;&#x4E3A;&#x5BF9;&#x5E94;&#x7684;Model&#x5462;&#xFF1F;<br>&#x5728;OC&#x4E2D;&#x6211;&#x4EEC;&#x7684;&#x505A;&#x6CD5;&#x57FA;&#x672C;&#x4E0A;&#x90FD;&#x6309;&#x7167;&#x4E00;&#x4E2A;&#x6D41;&#x7A0B;&#xFF1A;&#x901A;&#x8FC7;Model&#x7684;&#x5DE5;&#x5382;&#x65B9;&#x6CD5;<code>+ modelInitWithDict:(NSDictionay *)dict;</code>,&#x7ED3;&#x5408;<code>KVC</code>&#x5B9E;&#x73B0;&#x8F6C;&#x5316;&#x3002;</p>
<p>&#x5728;<code>Swift</code>&#x4E2D;&#xFF0C;&#x5C31;&#x4E0D;&#x90A3;&#x4E48;&#x65B9;&#x4FBF;&#x4E86;&#xFF0C;&#x5F53;&#x524D;&#x7684;&#x505A;&#x6CD5;&#x662F;&#x751F;&#x5199;&#xFF0C;&#x7279;&#x522B;&#x7684;&#x518D;&#x7528;&#x5230;<code>CoreData</code>&#x65F6;&#xFF0C;&#x66F4;&#x662F;&#x53EA;&#x80FD;&#x4E00;&#x4E2A;&#x4E00;&#x4E2A;&#x7684;&#x52A0;&#x5230;&#x6A21;&#x7248;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x800C;&#x4F7F;&#x7528;<code>ObjectMapper</code>,<code>Argo</code>&#x7B49;&#x7B2C;&#x4E09;&#x65B9;&#x6846;&#x67B6;&#x867D;&#x8BF4;&#x4E5F;&#x884C;&#xFF0C;&#x4F46;&#x5728;&#x6570;&#x636E;&#x5904;&#x7406;&#x65B9;&#x9762;&#x6211;&#x662F;&#x4E00;&#x8D2F;&#x6301;&#x4FDD;&#x7559;&#x610F;&#x89C1;&#x7684;&#xFF0C;&#x81EA;&#x5DF1;&#x60F3;&#x7740;&#x5199;&#x4E00;&#x4E2A;&#x81EA;&#x5DF1;&#x7528;&#x7684;&#x811A;&#x672C;&#xFF0C;&#x5C31;&#x662F;&#x6839;&#x636E;JSON&#x6309;&#x683C;&#x5F0F;&#x8F93;&#x51FA;&#x5C0F;&#x6BB5;&#x91CD;&#x590D;&#x5C31;&#x884C;&#x4E86;&#xFF0C;&#x8FD9;&#x4E2A;&#x7559;&#x5F85;&#x4EE5;&#x540E;&#x518D;&#x8BF4;</p>
<ul>
<li>&#x5C5E;&#x6027;Property</li>
</ul>
<p>swift&#x4E2D;&#x7684;Property&#x4E0E;OC&#x76F8;&#x6BD4;&#xFF0C;&#x4E0D;&#x5355;&#x5355;&#x53EA;&#x662F;&#x7C7B;&#x548C;&#x5B9E;&#x4F8B;&#x4E0E;value&#x7684;&#x5173;&#x8054;&#xFF0C;&#x5B83;&#x8FD8;&#x8D1F;&#x8D23;&#x679A;&#x4E3E;&#x548C;&#x7ED3;&#x6784;&#x4F53;&#xFF0C;&#x6362;&#x8A00;&#x4E4B;&#x51E1;&#x662F;<code>first class</code>&#x7684;&#x90FD;&#x662F;&#x53EF;&#x4EE5;&#x6709;&#x5C5E;&#x6027;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x770B;&#x8D77;&#x6765;&#x4F1A;&#x590D;&#x6742;&#x5F88;&#x591A;&#xFF0C;&#x4F46;&#x540C;&#x65F6;&#x4E5F;&#x505A;&#x8DB3;&#x591F;&#x7EC6;&#x5316;&#x7684;&#x5206;&#x7C7B;</p>
<pre><code>* __Stored Properties__&#xFF1A; &#x4EC5;&#x4EC5;&#x5B58;&#x5728;&#x7C7B;&#x4E0E;&#x7ED3;&#x6784;&#x4F53;&#x4E4B;&#x4E2D;                    
* __Computed Properties__ &#xFF1A;&#x5B58;&#x5728;&#x4E8E;&#x7C7B;&#xFF0C;&#x7ED3;&#x6784;&#x4F53;&#x548C;&#x679A;&#x4E3E;&#xFF0C;&#x529F;&#x80FD;&#x4E0A;&#x4E0D;&#x4EC5;&#x4EC5;&#x53EA;&#x662F;Sotre&#x8FD8;&#x8981;Compute

&#x5F53;&#x5C5E;&#x6027;value&#x53D1;&#x751F;&#x53D8;&#x5316;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;`&#x5C5E;&#x6027;&#x89C2;&#x5BDF;&#x8005;`&#xFF0C;&#x6765;&#x505A;&#x51FA;&#x53CD;&#x5E94;
</code></pre>
      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2016/04/08/C-001那时候被吓怕了的-md/"><span>C++ 那时候被吓怕了的</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2016/04/08/C-001那时候被吓怕了的-md/" rel="bookmark">
        <time class="entry-date published" datetime="2016-04-08T15:46:20.000Z">
          2016-04-08
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <ul>
<li><p><code>formal parameter</code> &#x2013;&gt; <em><code>destructor</code></em></p>
<pre><code>&#xFF5C;
</code></pre><p><code>_copy constructor_</code><br>  &#xFF5C;<br><code>actual parameter</code></p>
</li>
<li><p><strong>Tempalte</strong>     </p>
</li>
</ul>
<p>&#x503C;&#x4F20;&#x9012;<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</span><br><span class="line"><span class="function">T <span class="title">sum</span><span class="params">(T a, T b)</span> </span>{</span><br><span class="line">	<span class="keyword">return</span> a + b</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<p>&#x5F15;&#x7528;&#x4F20;&#x9012;<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</span><br><span class="line"><span class="function">T <span class="title">sum</span><span class="params">(T&amp; a, T&amp; b)</span> </span>{</span><br><span class="line">	<span class="keyword">return</span> a + b</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<p>&#x5E38;&#x5F15;&#x7528; &#xFF0D; const reference<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</span><br><span class="line"><span class="function">T <span class="title">sum</span><span class="params">(<span class="keyword">const</span> T&amp; a, <span class="keyword">const</span> T&amp; b)</span> </span>{</span><br><span class="line">	<span class="keyword">return</span> a + b</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<p>&#x66F4;&#x52A0;&#x901A;&#x7528;&#x7684;&#x7248;&#x672C;&#xFF0C;&#x6BCF;&#x4E2A;&#x884C;&#x53C2;&#x7684;&#x7C7B;&#x578B;&#x90FD;&#x53EF;&#x4EE5;&#x4E0D;&#x540C;<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> Ta, <span class="keyword">class</span> Tb&gt;</span><br><span class="line"><span class="function">T <span class="title">sum</span><span class="params">(<span class="keyword">const</span> Ta&amp; a, <span class="keyword">const</span> Tb&amp; b)</span> </span>{</span><br><span class="line">	<span class="keyword">return</span> a + b</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<ul>
<li><strong>value parameter</strong> and <strong>reference parameter</strong></li>
</ul>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2016/04/06/swift2-＋-iOS8以后的CoreData变动/"><span>swift2 ＋ iOS8以后的CoreData变动</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2016/04/06/swift2-＋-iOS8以后的CoreData变动/" rel="bookmark">
        <time class="entry-date published" datetime="2016-04-06T05:49:05.000Z">
          2016-04-06
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h3 id="trycatch"><a href="#try&#x2026;catch" class="headerlink" title="try&#x2026;catch"></a>try&#x2026;catch</h3><p>swift2&#x4EE5;&#x540E;&#x5F15;&#x5165;&#x4E86;&#x6BD4;&#x8F83;&#x5B8C;&#x6574;&#x7684;try&#xFF0D;catch&#x5F02;&#x5E38;&#x7684;&#x6355;&#x83B7;&#x673A;&#x5236;&#xFF0C;&#x6240;&#x4EE5;&#x539F;&#x6765;&#x7684;error&#x6355;&#x83B7;&#x5168;&#x9762;&#x53D8;&#x52A8;&#xFF1A;</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x539F;&#x6765;&#x7684;</span></span><br><span class="line"><span class="keyword">if</span> coordinator!.addPersistentStoreWithType(<span class="type">NSSQLiteStoreType</span>, configuration: <span class="literal">nil</span>, <span class="type">URL</span>: url, options: <span class="literal">nil</span>, error: &amp;error) == <span class="literal">nil</span> {</span><br><span class="line">  coordinator = <span class="literal">nil</span></span><br><span class="line">  <span class="comment">// Report any error we got.</span></span><br><span class="line">  <span class="keyword">var</span> dict = [<span class="type">String</span>: <span class="type">AnyObject</span>]()</span><br><span class="line">  dict[<span class="type">NSLocalizedDescriptionKey</span>] = <span class="string">&quot;Failed to initialize the application&apos;s saved data&quot;</span></span><br><span class="line">  dict[<span class="type">NSLocalizedFailureReasonErrorKey</span>] = failureReason</span><br><span class="line">  dict[<span class="type">NSUnderlyingErrorKey</span>] = error</span><br><span class="line">  error = <span class="type">NSError</span>(domain: <span class="string">&quot;YOUR_ERROR_DOMAIN&quot;</span>, code: <span class="number">9999</span>, userInfo: dict)</span><br><span class="line">  <span class="comment">// Replace this with code to handle the error appropriately.</span></span><br><span class="line">  <span class="comment">// abort() causes the application to generate a crash log and terminate. You should not use this function in a shipping application, although it may be useful during development.</span></span><br><span class="line">  <span class="type">NSLog</span>(<span class="string">&quot;Unresolved error \(error), \(error!.userInfo)&quot;</span>)</span><br><span class="line">  abort()</span><br><span class="line">  }</span><br></pre></td></tr></table></figure>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2016/02/01/ReactiveCocoa初探/"><span>ReactiveCocoa初探</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2016/02/01/ReactiveCocoa初探/" rel="bookmark">
        <time class="entry-date published" datetime="2016-02-01T09:35:01.000Z">
          2016-02-01
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h3 id="&#x4ECE;&#x6784;&#x67B6;&#x8BF4;&#x8D77;"><a href="#&#x4ECE;&#x6784;&#x67B6;&#x8BF4;&#x8D77;" class="headerlink" title="&#x4ECE;&#x6784;&#x67B6;&#x8BF4;&#x8D77;"></a>&#x4ECE;&#x6784;&#x67B6;&#x8BF4;&#x8D77;</h3><p>&#x968F;&#x7740;&#x9879;&#x76EE;&#x8D8A;&#x6765;&#x8D8A;&#x5927;&#xFF0C;&#x518D;&#x4E00;&#x5F00;&#x59CB;&#x7B80;&#x5355;MVC&#x4E0B;&#x7684;&#x7F16;&#x7A0B;&#x548C;&#x7EF4;&#x62A4;&#x4E5F;&#x53D8;&#x5F97;&#x8D8A;&#x6765;&#x8D8A;&#x96BE;&#xFF0C;&#x76F4;&#x5230;&#x73B0;&#x5728;&#x8FD8;&#x5728;&#x8D76;&#x5DE5;&#x52A0;&#x65B0;&#x529F;&#x80FD;&#xFF0C;&#x79C9;&#x627F;&#x7740;1&#x5468;&#x4E00;&#x529F;&#x80FD;2&#x5468;&#x4E00;&#x7248;&#x672C;&#x7684;&#x8282;&#x594F;&#xFF0C;&#x6839;&#x672C;&#x6CA1;&#x6709;&#x591A;&#x5C11;&#x65F6;&#x95F4;&#x6765;&#x7EF4;&#x62A4;&#x548C;&#x91CD;&#x6784;&#x4EE3;&#x7801;&#xFF0C;&#x8FD9;&#x6837;&#x4E0B;&#x53BB;&#x7EC8;&#x7A76;&#x4F1A;&#x5BFC;&#x81F4;&#x9879;&#x76EE;&#x96BE;&#x4EE5;&#x7EF4;&#x62A4;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x6211;&#x53F8;app&#x4E2D;&#x6709;&#x5927;&#x91CF;&#x7684;&#x4E0A;&#x4E00;&#x4E2A;&#x5927;&#x7248;&#x672C;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x867D;&#x7136;&#x8001;&#x4EE3;&#x7801;&#x7684;&#x786E;&#x8BA9;&#x65B0;&#x7248;&#x7684;&#x901F;&#x5EA6;&#x5FEB;&#x4E86;&#x4E0D;&#x5C11;&#xFF0C;&#x4F46;&#x73B0;&#x5728;&#x7EF4;&#x62A4;&#x8D77;&#x6765;&#x90A3;&#x4E2A;&#x9178;&#x723D;&#x554A;</p>
<p>&#x6240;&#x4EE5;&#x8D8A;&#x6765;&#x8D8A;&#x611F;&#x89C9;&#x5230;&#x4E00;&#x4E2A;&#x597D;&#x7684;&#xFF0C;&#x7B80;&#x6D01;&#x7684;&#xFF0C;&#x4F4E;&#x8026;&#x5408;&#x7684;&#x5E76;&#x7ECF;&#x8FC7;&#x68C0;&#x9A8C;&#x7684;&#x6784;&#x67B6;&#x5BF9;&#x9879;&#x76EE;&#x6709;&#x591A;&#x91CD;&#x8981;&#x4E86;&#xFF0C;&#x5982;&#x679C;&#x4E0A;&#x5929;&#x8981;&#x518D;&#x7ED9;&#x6211;&#x4E00;&#x6B21;&#x673A;&#x4F1A;&#x7684;&#x8BDD;&#xFF0C;&#x6211;&#x4E00;&#x5B9A;&#x8981;&#x2026;</p>
<p>&#x770B;&#x6765;&#x770B;&#x53BB;&#x7785;&#x4E0A;&#x4E86;&#x706B;&#x70ED;&#x7684;MVVM&#xFF0C;&#x4F46;&#x5F88;&#x660E;&#x663E;&#x7684;&#x4E5F;&#x4E2A;&#x5927;&#x95EE;&#x9898;&#x5C31;&#x662F;&#x4E00;&#x65E6;M&#x53D8;&#x5316;&#x4E86;&#xFF0C;&#x5982;&#x4F55;&#x51C6;&#x786E;&#x53CD;&#x6620;&#x5230;UI&#x5C42;&#x9762;&#xFF0C;&#x6BD5;&#x7ADF;&#x4E2D;&#x95F4;&#x591A;&#x4E86;&#x4E00;&#x5C42;ViewModel&#xFF0C;&#x800C;FRP&#x6B63;&#x5F0F;&#x672A;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x800C;&#x4EA7;&#x751F;&#x7684;<br>&#x6240;&#x4EE5;&#x501F;&#x7740;&#x4EE3;&#x7801;&#xFF0C;&#x6765;&#x770B;&#x770B;<code>ReactiveCocoa</code>&#x7684;&#x7B80;&#x5355;&#x4F7F;&#x7528;</p>
<h3 id="reactivecocoa"><a href="#ReactiveCocoa" class="headerlink" title="ReactiveCocoa"></a>ReactiveCocoa</h3><p>&#x4EC0;&#x4E48;&#x8BDE;&#x751F;&#x80CC;&#x666F;&#xFF0C;&#x597D;&#x5904;&#x5F0A;&#x7AEF;&#x8BC4;&#x4EF7;&#x4E4B;&#x7C7B;&#xFF0C;&#x73B0;&#x5728;&#x8BF4;&#x592A;&#x7A7A;&#x6D1E;&#x4E86;&#xFF0C;&#x6211;&#x5BF9;&#x5B66;&#x4E60;&#x65B0;&#x4E1C;&#x897F;&#x4E00;&#x5411;&#x7684;&#x6001;&#x5EA6;&#x662F;&#x201C;&#x7BA1;&#x4ED6;&#x5A18;&#x7684;&#xFF0C;&#x5148;&#x4E0A;&#x624B;&#x518D;&#x8BF4;&#x201D;&#xFF0C;&#x6240;&#x4EE5;&#x8FD8;&#x662F;&#x6309;&#x7167;&#x672C;&#x4EBA;&#x4E00;&#x8D2F;&#x7B80;&#x5355;&#x7C97;&#x66B4;&#x7684;&#x98CE;&#x683C;&#xFF0C;&#x7ED3;&#x5408;&#x4EE3;&#x7801;&#x548C;Demo&#x6765;&#x8BF4;&#x660E;</p>
<p>&#x7B80;&#x5355;&#x7684;Demo&#x6D17;&#x9700;&#x6C42;&#xFF1A;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x767B;&#x9646;&#x529F;&#x80FD;&#x7684;&#x754C;&#x9762;&#xFF0C;&#x8981;&#x6C42;&#x8F93;&#x5165;&#x7B26;&#x5408;&#x89C4;&#x5B9A;&#x683C;&#x5F0F;&#x548C;&#x5B57;&#x6570;&#x7684;userName&#x548C;password&#xFF0C;&#x8FD9;&#x65F6;logIn&#x624D;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#xFF0C;&#x70B9;&#x51FB;&#x4E4B;&#x540E;&#x9A8C;&#x8BC1;&#x662F;&#x5426;&#x6B63;&#x786E;&#xFF0C;&#x6B63;&#x786E;&#x5C31;pushVC&#xFF0C;&#x9519;&#x8BEF;&#x5C31;&#x63D0;&#x793A;</p>
<p>&#x8FD9;&#x6837;&#x7684;&#x529F;&#x80FD;&#x4F7F;&#x7528;ReactiveCocoa&#x4E0B;&#xFF0C;&#x6211;&#x4EEC;&#x662F;&#x8FD9;&#x6837;&#x5B9E;&#x73B0;&#x7684;&#xFF1A;</p>
<h4 id="&#x521D;&#x8BD5;rac"><a href="#&#x521D;&#x8BD5;RAC" class="headerlink" title="&#x521D;&#x8BD5;RAC"></a>&#x521D;&#x8BD5;RAC</h4><p>&#x76F4;&#x63A5;&#x4E0A;&#x4EE3;&#x7801;&#xFF1A;</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// signal&#x521B;&#x5EFA;&#x548C;subscriber</span></span><br><span class="line">- (<span class="keyword">void</span>) test001 {</span><br><span class="line">    <span class="comment">// signal&#x6D41;&#x7ED9;&#x8BA2;&#x9605;&#x8005;&#xFF0D;subscriber</span></span><br><span class="line">    [<span class="keyword">self</span>.userNameTF.rac_textSignal subscribeNext:^(<span class="built_in">NSString</span> *text) {</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@&quot;  --userName Input:  %@&quot;</span>, text);</span><br><span class="line">    }];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// signal&#x6D41;&#x8FC7;&#x6EE4;&#xFF0C;&#x4F1A;&#x4EA7;&#x751F;&#x8FC7;&#x6EE4;&#x540E;&#x7684;signal&#xFF0D;filter</span></span><br><span class="line">    [[<span class="keyword">self</span>.passwordTF.rac_textSignal filter:^<span class="built_in">BOOL</span>(<span class="built_in">NSString</span> *text) {</span><br><span class="line">        <span class="keyword">return</span> text.length &gt; <span class="number">6</span>;</span><br><span class="line">    }] subscribeNext:^(<span class="built_in">NSString</span> *text) {</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@&quot;  --password Input:  %@&quot;</span>, text);</span><br><span class="line">    }];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x5BF9;&#x6E90;signal&#x6D41;&#x7684;&#x66F4;&#x6539;&#xFF0C;&#x4EA7;&#x751F;&#x5BF9;&#x4E0D;&#x540C;&#x503C;&#x53D8;&#x5316;&#x7684;&#x65B0;signal &#xFF0D; map &#xFF0D; signal&#x7684;&#x5185;&#x5BB9;&#x4E3A;&#x5BF9;&#x8C61;</span></span><br><span class="line">    <span class="comment">// &#xFF0D;&#xFF0D;&#xFF0D;NSString&#xFF0D;&#xFF0D;&#xFF0D;&#xFF3B;map&#xFF3D;&#xFF0D;&#xFF0D;&#xFF0D;&gt; NSNumber&#xFF08;NSUInteger&#x5C01;&#x88C5;&#x6210;&#x5BF9;&#x8C61;&#xFF09;&#xFF0D;&#xFF0D;&#xFF0D;</span></span><br><span class="line">    [[[<span class="keyword">self</span>.passwordTF.rac_textSignal map:^<span class="keyword">id</span>(<span class="built_in">NSString</span> *text) {</span><br><span class="line">        <span class="keyword">return</span> @(text.length);</span><br><span class="line">    }] filter:^<span class="built_in">BOOL</span>(<span class="built_in">NSNumber</span> *length) {</span><br><span class="line">        <span class="keyword">return</span> [length integerValue] &gt; <span class="number">4</span>;</span><br><span class="line">    }] subscribeNext:^(<span class="built_in">NSNumber</span> *length) {</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@&quot; - &#x5F53;&#x524D;PWD&#x957F;&#x5EA6;&#xFF1A; %@&quot;</span>, length);</span><br><span class="line">    }];   </span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x7B49;&#x4E0B;&#x5728;&#x770B;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x7684;&#x89E3;&#x91CA;&#xFF0C;&#x5148;&#x770B;&#x770B;&#x6548;&#x679C;&#xFF1A;<br><img src="/img/RAC10_001.png" alt=""></p>
<p>&#x770B;&#x5230;&#x4E86;&#x795E;&#x5947;&#x7684;&#x6548;&#x679C;&#xFF0C;&#x4F60;&#x6240;&#x8F93;&#x5165;&#x7684;&#x9A6C;&#x4E0A;&#x80FD;&#x591F;&#x4F20;&#x9012;&#x5E76;&#x88AB;&#x6253;&#x5370;&#x51FA;&#x6765;&#xFF0C;&#x53EF;&#x4EE5;&#x5B8C;&#x6574;&#x7684;&#x8BB0;&#x5F55;&#x4F60;&#x8F93;&#x5165;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x6709;&#x4E00;&#x79CD;<code>&#x6240;&#x89C1;&#x5373;&#x6240;&#x5F97;</code>&#x7684;&#x5373;&#x89C6;&#x611F;<br>&#x662F;&#x4E0D;&#x662F;&#x5F88;&#x795E;&#x5947;&#xFF1F;&#x5176;&#x5B9E;&#x8FD9;&#x5C31;&#x662F;FRP&#xFF1A;<code>Functional Reactive Programming</code>[<a href="https://en.wikipedia.org/wiki/Functional_reactive_programming]&#x7684;&#x610F;&#x601D;&#xFF0C;&#x51FD;&#x6570;&#x5F0F;&#x53CA;&#x65F6;&#x54CD;&#x5E94;&#x7F16;&#x7A0B;&#x8303;&#x5F0F;&#xFF0C;&#x4ECA;&#x5929;&#x4F7F;&#x7528;&#x7684;ReactiveCocoa&#xFF0C;&#x4EE5;&#x53CA;RxSwift&#xFF0C;RxJava&#x7B49;&#x7B49;&#xFF0C;&#x90FD;&#x662F;&#x57FA;&#x4E8E;&#x8FD9;&#x4E00;&#x601D;&#x60F3;&#x7684;&#x4E0D;&#x540C;&#x5B9E;&#x73B0;&#x3002;" target="_blank" rel="external">https://en.wikipedia.org/wiki/Functional_reactive_programming]&#x7684;&#x610F;&#x601D;&#xFF0C;&#x51FD;&#x6570;&#x5F0F;&#x53CA;&#x65F6;&#x54CD;&#x5E94;&#x7F16;&#x7A0B;&#x8303;&#x5F0F;&#xFF0C;&#x4ECA;&#x5929;&#x4F7F;&#x7528;&#x7684;ReactiveCocoa&#xFF0C;&#x4EE5;&#x53CA;RxSwift&#xFF0C;RxJava&#x7B49;&#x7B49;&#xFF0C;&#x90FD;&#x662F;&#x57FA;&#x4E8E;&#x8FD9;&#x4E00;&#x601D;&#x60F3;&#x7684;&#x4E0D;&#x540C;&#x5B9E;&#x73B0;&#x3002;</a></p>
<p>&#x8BF4;&#x4F1A;&#x4EE3;&#x7801;&#xFF1A;</p>
<ul>
<li><strong>singnal</strong> : &#x4FE1;&#x53F7;&#xFF0C;&#x8FD9;&#x662F;RAC&#x4E0B;&#x6700;&#x57FA;&#x672C;&#x7684;&#x5355;&#x5143;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x88AB;&#x7EC4;&#x5408;&#xFF0C;&#x8FC7;&#x6EE4;&#xFF0C;&#x53D8;&#x66F4;&#x548C;&#x4F20;&#x9012;</li>
<li><strong>subscriber</strong> : &#x8BA2;&#x9605;&#x8005;&#xFF0C;&#x8FD9;&#x662F;&#x4FE1;&#x53F7;&#x7684;&#x5173;&#x6CE8;&#x8005;&#xFF0C;&#x5B83;&#x627F;&#x8F7D;&#x7740;&#x4FE1;&#x53F7;&#x7684;&#x6700;&#x7EC8;&#x7684;&#x884C;&#x4E3A;</li>
</ul>
<p>&#x73B0;&#x5728;&#x6765;&#x770B;&#x770B;&#x7B2C;&#x4E00;&#x53E5;&#x4EE3;&#x7801;&#x5230;&#x5E95;&#x5E72;&#x4E86;&#x4E9B;&#x4EC0;&#x4E48;&#xFF0C;userNameTF&#x662F;&#x4E00;&#x4E2A;<code>UITextFiled</code>&#xFF0C;&#x5B83;&#x662F;&#x7528;&#x6765;&#x653E;&#x7528;&#x6237;&#x540D;&#x7684;&#xFF0C;&#x5199;&#x6210;&#x8FD9;&#x6837;&#x53EF;&#x80FD;&#x66F4;&#x52A0;&#x5BB9;&#x6613;&#x7406;&#x89E3;&#xFF1A;</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">RACSignal *userNameSignal = <span class="keyword">self</span>.userNameTF.rac_textSignal;</span><br><span class="line">[userNameSignal subscriberNext:^(<span class="keyword">id</span> x) {</span><br><span class="line">	<span class="built_in">NSLog</span>(<span class="string">@&quot;  --userName Input:  %@&quot;</span>, x);</span><br><span class="line">}];</span><br></pre></td></tr></table></figure>
<p>&#x9996;&#x5148;&#x4EA7;&#x751F;&#x4E86;&#x4E00;&#x4E2A;&#x4FE1;&#x53F7;&#xFF0C;&#x662F;&#x5173;&#x4E8E;&#x7528;&#x6237;&#x540D;&#x7684;<code>UITextFiled</code>&#x7684;text&#x662F;&#x5426;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x7684;&#x4FE1;&#x53F7;&#xFF0C;<code>rac_textSignal</code>&#x662F;&#x6846;&#x67B6;&#x4E3A;<code>UITextFiled</code>&#x63D0;&#x4F9B;&#x7684;&#x5206;&#x7C7B;&#x4E2D;&#x7684;&#x65B9;&#x6CD5;<br>&#x7136;&#x540E;&#x5C06;&#x8FD9;&#x4E2A;&#x4FE1;&#x53F7;<code>userNameSignal</code>&#x4F20;&#x9012;&#x7ED9;&#x4E86;&#x8BA2;&#x9605;&#x8005;&#x9644;&#x5E26;&#x7740;&#x8F93;&#x5165;&#x7684;String&#xFF0C;&#x5E76;&#x4E14;&#x5F53;&#x53D1;&#x751F;signal&#x7684;next&#x65F6;&#xFF0C;&#x5C31;&#x4F1A;&#x53BB;&#x6267;&#x884C;block&#x4E2D;&#x7684;&#x64CD;&#x4F5C;,&#x53C2;&#x6570;<code>id x</code>&#x5C31;&#x662F;&#x4FE1;&#x53F7;&#x5185;&#x5BB9;<code>String *userNameText</code>,&#x5B83;&#x987A;&#x5229;&#x8F93;&#x51FA;,&#x5A25;&#x7709;&#x600E;&#xFF01;</p>
<p>&#x4F46;&#x662F;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x5E76;&#x4E0D;&#x60F3;&#x6BCF;&#x6B21;&#x90FD;&#x5F97;&#x5230;&#x8F93;&#x5165;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x800C;&#x4EC5;&#x4EC5;&#x60F3;&#x5F97;&#x5230;&#x6709;&#x6548;&#x5185;&#x5BB9;&#xFF0C;&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x81F3;&#x5C11;6&#x4F4D;&#x6570;&#x4EE5;&#x4E0A;&#x7684;&#x5BC6;&#x7801;&#x5462;&#xFF1F;&#x8FD9;&#x5C31;&#x6D89;&#x53CA;&#x5230;signal&#x7684;&#x8FC7;&#x6EE4;&#xFF0C;&#x5C31;&#x662F;&#x7B2C;&#x4E8C;&#x6BB5;&#x4EE3;&#x7801;&#xFF0C;&#x5B83;&#x4F7F;&#x7528;<code>filter</code>&#x5C06;&#x8F93;&#x5165;&#x7684;&#x5BC6;&#x7801;&#x7684;String&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;&#xFF0C;&#x53EA;&#x6709;&#x7B26;&#x5408;&#x8981;&#x6C42;&#x7684;&#x5927;&#x4E8E;6&#x4F4D;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x624D;&#x4F1A;&#x88AB;&#x4F20;&#x9012;&#x7ED9;subsriber&#x89E6;&#x53D1;block&#x4E2D;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;<strong>&#x4FE1;&#x53F7;&#x7684;&#x8FC7;&#x6EE4;</strong></p>
<p>&#x5728;&#x770B;&#x6700;&#x540E;&#x4E00;&#x6BB5;&#xFF0C;&#x5B83;&#x89E3;&#x51B3;&#x4E86;&#x8FD9;&#x6837;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5BF9;&#x4E8E;&#x767B;&#x9646;LongIn&#x6309;&#x94AE;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x88AB;&#x70B9;&#x51FB;&#x6765;&#x8BF4;&#xFF0C;&#x6211;&#x4EEC;&#x5E76;&#x4E0D;&#x9700;&#x8981;&#x77E5;&#x9053;&#x4FE1;&#x53F7;&#x7684;String&#xFF0C;&#x800C;&#x53EA;&#x662F;&#x60F3;&#x77E5;&#x9053;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x53EF;&#x4EE5;<code>able = YES</code>&#xFF0C;&#x6240;&#x4EE5;&#x4F7F;&#x7528;&#x4E86;<code>map</code>&#x5C06;&#x4FE1;&#x53F7;&#x8F6C;&#x5316;&#x4E3A;&#x8F93;&#x5165;&#x6587;&#x672C;&#x7684;&#x957F;&#x5EA6;&#x7684;NSNumber&#xFF0C;&#x7136;&#x540E;&#x7ECF;<code>filter</code>&#x7B5B;&#x9009;&#x7B26;&#x5408;&#x5927;&#x4E8E;4&#x4F4D;&#x6570;&#x7684;&#x5BC6;&#x7801;&#x4F20;&#x7ED9;subsribter&#xFF0C;&#x771F;&#x5982;&#x4F60;&#x6240;&#x731C;&#x60F3;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x53EA;&#x80FD;&#x4F20;&#x9012;&#x5BF9;&#x8C61;&#xFF0C;&#x4FE1;&#x53F7;&#x7684;&#x5185;&#x5BB9;&#x53EA;&#x80FD;&#x662F;&#x5BF9;&#x8C61;&#xFF0C;&#x6240;&#x4EE5;&#x5373;&#x4FBF;&#x662F;bool&#x4E5F;&#x88AB;&#x8F6C;&#x5316;&#x4E3A;&#x4E86;NSNumber,&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x4F7F;&#x7528;&#x2019;map&#x2019;&#x5C31;&#x5B8C;&#x6210;&#x4E86;<strong>&#x4FE1;&#x53F7;&#x7684;&#x8F6C;&#x6362;</strong></p>
<h4 id="&#x8FDB;&#x4E00;&#x6B65;&#x5408;&#x5E76;signal"><a href="#&#x8FDB;&#x4E00;&#x6B65;&#xFF0C;&#x5408;&#x5E76;signal" class="headerlink" title="&#x8FDB;&#x4E00;&#x6B65;&#xFF0C;&#x5408;&#x5E76;signal"></a>&#x8FDB;&#x4E00;&#x6B65;&#xFF0C;&#x5408;&#x5E76;signal</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>) test002 {</span><br><span class="line"></span><br><span class="line">    <span class="comment">// map &#x53BB;&#x7684;&#x53EA;&#x80FD;&#x8BF4;&#x5BF9;&#x8C61;&#xFF0C;&#x6240;&#x4EE5;bool&#x8981;&#x5305;&#x88C5;&#x6210;NSNumber</span></span><br><span class="line">    RACSignal *validUserNameSG = [<span class="keyword">self</span>.userNameTF.rac_textSignal map:^<span class="keyword">id</span>(<span class="built_in">NSString</span> *text) {</span><br><span class="line">        <span class="keyword">return</span> @([<span class="keyword">self</span> isValidUserName: text]);</span><br><span class="line">    }];</span><br><span class="line">    RACSignal *validPasswordSG = [<span class="keyword">self</span>.passwordTF.rac_textSignal map:^<span class="keyword">id</span>(<span class="built_in">NSString</span> *text) {</span><br><span class="line">        <span class="keyword">return</span> @([<span class="keyword">self</span> isValidxPassword: text]);</span><br><span class="line">    }];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x5C06;validUserNameSG&#x4FE1;&#x53F7;&#x8F93;&#x51FA;&#x5E94;&#x7528;&#x5230;&#x8F93;&#x5165;&#x6846;&#x7684;backgroundColor&#x4E0A;</span></span><br><span class="line">    [[validUserNameSG map:^<span class="keyword">id</span>(<span class="built_in">NSNumber</span> *userNameValid) {</span><br><span class="line">        <span class="keyword">return</span> [userNameValid boolValue]? [<span class="built_in">UIColor</span> clearColor] : [<span class="built_in">UIColor</span> yellowColor];</span><br><span class="line">    }] subscribeNext:^(<span class="built_in">UIColor</span> *color) {</span><br><span class="line">        <span class="keyword">self</span>.userNameTF.backgroundColor = color;</span><br><span class="line">    }];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x66F4;&#x4F18;&#x96C5;&#x7684;&#x5199;&#x6CD5;&#xFF0C;&#x5229;&#x7528;RAC&#x5B8F; - &#x76F4;&#x63A5;&#x628A;&#x4FE1;&#x53F7;&#x5BF9;&#x5E94;&#x8F93;&#x51FA;&#x5230;&#x5BF9;&#x8C61;&#x7684;&#x5C5E;&#x6027;&#x4E0A;</span></span><br><span class="line">     RAC(<span class="keyword">self</span>.passwordTF, backgroundColor) = [validPasswordSG map:^<span class="keyword">id</span>(<span class="built_in">NSNumber</span> *passwordValid) {</span><br><span class="line">            <span class="keyword">return</span> [passwordValid boolValue]? [<span class="built_in">UIColor</span> clearColor] : [<span class="built_in">UIColor</span> yellowColor];</span><br><span class="line">        }];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// signal&#x805A;&#x5408; - combineLast: &#x53EF;&#x4EE5;&#x805A;&#x5408;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;&#x4FE1;&#x53F7; - userNameSG &#x548C; passwordSG &#x805A;&#x5408;</span></span><br><span class="line">    RACSignal *logInActionSG = [RACSignal combineLatest:@[validUserNameSG, validPasswordSG] reduce:^<span class="keyword">id</span>(<span class="built_in">NSNumber</span> *usernameValid, <span class="built_in">NSNumber</span> *passwordValid){</span><br><span class="line">        <span class="keyword">return</span> @([usernameValid boolValue] &amp;&amp; [passwordValid boolValue]);</span><br><span class="line">    }];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x805A;&#x5408;&#x7684;signal &#xFF0D; &#x6309;&#x94AE;enable&#x5C5E;&#x6027;</span></span><br><span class="line">    [logInActionSG subscribeNext:^(<span class="built_in">NSNumber</span> *logInActive) {</span><br><span class="line">        <span class="keyword">self</span>.LogIn.enabled = [logInActive boolValue];</span><br><span class="line">    }];</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x8BA9;&#x6211;&#x4EEC;&#x5728;&#x68B3;&#x7406;&#x4E00;&#x4E0B;&#x9700;&#x6C42;&#xFF0C;&#x6839;&#x636E;&#x8F93;&#x5165;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5224;&#x65AD;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x5F00;&#x542F;logIn&#x6309;&#x94AE;&#xFF0C;&#x90A3;&#x4E48;&#x81F3;&#x5C11;&#x9700;&#x8981;2&#x4E2A;&#x4FE1;&#x53F7;&#xFF0C;&#x5F53;2&#x4E2A;&#x4FE1;&#x53F7;&#x90FD;&#x88AB;&#x8BA4;&#x5B9A;&#x4E3A;&#x6709;&#x6548;&#x7684;&#x8F93;&#x5165;&#x65F6;&#xFF0C;&#x767B;&#x9646;&#x6309;&#x94AE;&#x624D;&#x4F1A;&#x4EAE;&#x8D77;&#xFF0C;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x5C31;&#x662F;&#x5B8C;&#x6210;&#x4E86;&#x8FD9;&#x6837;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x7528;&#x6237;&#x6CA1;&#x6709;&#x6709;&#x6548;&#x8F93;&#x5165;&#x65F6;&#xFF0C;<code>UITextFiled</code>&#x7684;&#x80CC;&#x666F;&#x88AB;&#x8BBE;&#x7F6E;&#x4E86;&#x9EC4;&#x8272;&#xFF0C;&#x8FD9;&#x6837;&#x5C06;bool&#x4FE1;&#x53F7;&#x53D8;&#x4E3A;&#x4E86;UIColor&#xFF0C;&#x989C;&#x8272;&#x5BF9;&#x7528;&#x6237;&#x7684;&#x4EA4;&#x4EE3;&#x5C31;&#x66F4;&#x52A0;&#x5206;&#x660E;&#x4E86;&#xFF0C;&#x6574;&#x4F53;&#x7684;&#x8FC7;&#x7A0B;&#x5982;&#x679C;&#x7528;&#x56FE;&#x8868;&#x793A;&#x7684;&#x8BDD;&#x5C31;&#x662F;&#xFF1A;<br><img src="/img/RAC10_002.png" alt=""></p>
<p>&#x8FD9;&#x5176;&#x4E2D;&#x8FD8;&#x6D89;&#x53CA;&#x5230;2&#x4E2A;&#x4FE1;&#x53F7;&#x7684;&#x5408;&#x5E76;</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">RACSignal *logInActionSG = [RACSignal combineLatest:@[validUserNameSG, validPasswordSG] reduce:^<span class="keyword">id</span>(<span class="built_in">NSNumber</span> *usernameValid, <span class="built_in">NSNumber</span> *passwordValid){</span><br><span class="line">   		<span class="keyword">return</span> @([usernameValid boolValue] &amp;&amp; [passwordValid boolValue]);</span><br><span class="line">     }];</span><br></pre></td></tr></table></figure>
<p>&#x501F;&#x52A9;<code>combineLast[].reduce</code>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5C06;&#x4EFB;&#x610F;&#x7684;signal&#x5408;&#x5E76;</p>
<h4 id="&#x518D;&#x8FDB;&#x4E00;&#x6B65;&#x5168;&#x90E8;&#x90FD;&#x662F;signal"><a href="#&#x518D;&#x8FDB;&#x4E00;&#x6B65;&#xFF0C;&#x5168;&#x90E8;&#x90FD;&#x662F;signal" class="headerlink" title="&#x518D;&#x8FDB;&#x4E00;&#x6B65;&#xFF0C;&#x5168;&#x90E8;&#x90FD;&#x662F;signal"></a>&#x518D;&#x8FDB;&#x4E00;&#x6B65;&#xFF0C;&#x5168;&#x90E8;&#x90FD;&#x662F;signal</h4><p>&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x662F;btn&#x7684;&#x70B9;&#x51FB;&#xFF0C;&#x7136;&#x540E;&#x53BB;&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x5668;&#x5F53;&#x524D;&#x8F93;&#x5165;&#x7684;&#x662F;&#x5426;&#x662F;&#x6B63;&#x786E;&#x7684;&#xFF0C;&#x901A;&#x5E38;&#x6211;&#x4EEC;&#x90FD;&#x662F;&#x4E3A;btn&#x6DFB;&#x52A0;&#x4E8B;&#x4EF6;&#xFF0C;&#x4F46;&#x522B;&#x5FD8;&#x4E86;&#x8FD9;&#x53EF;&#x662F;RAC:<br>&#x5728;test002&#x4E2D;&#xFF0C;&#x5DF2;&#x7ECF;&#x5C06;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;signal&#x805A;&#x5408;&#x5E76;&#x7ED1;&#x5B9A;&#x5230;LogInBtn&#x7684;enable&#x4E2D;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x8FD8;&#x4E0D;&#x591F;&#x5B8C;&#x5168;&#xFF0C;&#x4E8B;&#x5B9E;&#x4E0A;&#x5728;&#x54CD;&#x5E94;&#x5F0F;&#x7F16;&#x7A0B;&#x4E2D;&#x539F;&#x5219;&#x5C3D;&#x91CF;&#x505A;&#x5230;&#x6240;&#x6709;&#x7684;<code>&#x4E00;&#x5207;&#x90FD;&#x662F;signal</code>&#xFF0C;&#x610F;&#x5473;&#x7740;&#xFF0C;<strong>btn&#x7684;touch&#x4E8B;&#x4EF6;&#x4E5F;&#x4F1A;&#x88AB;signal&#x5316;</strong>  &#xFF0D; &#x4F7F;&#x7528;<code>rac_signalForControlEvents</code>,like:</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>) test003 {</span><br><span class="line">    RACSignal *logInBtnClickedSG = [<span class="keyword">self</span>.LogIn rac_signalForControlEvents:<span class="built_in">UIControlEventTouchUpInside</span>];</span><br><span class="line">    [logInBtnClickedSG subscribeNext:^(<span class="keyword">id</span> x) {</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@&quot; - logInBtn been clicked! -&quot;</span>);</span><br><span class="line">    }];</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h4 id="&#x5BF9;signal&#x5B8C;&#x6574;&#x7684;&#x53CD;&#x5E94;"><a href="#&#x5BF9;signal&#x5B8C;&#x6574;&#x7684;&#x53CD;&#x5E94;" class="headerlink" title="&#x5BF9;signal&#x5B8C;&#x6574;&#x7684;&#x53CD;&#x5E94;"></a>&#x5BF9;signal&#x5B8C;&#x6574;&#x7684;&#x53CD;&#x5E94;</h4><p>&#x73B0;&#x5728;&#x5230;&#x4E86;&#x53BB;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x7684;&#x73AF;&#x8282;&#x4E86;&#xFF0C;&#x901A;&#x5E38;&#x5F02;&#x6B65;&#x7F51;&#x7EDC;&#x56DE;&#x8C03;&#x4E0B;&#x4F1A;&#x6709;&#x4EE5;&#x4E0B;&#x60C5;&#x5F62;&#xFF1A;&#x767B;&#x5F55;&#x6210;&#x529F;&#xFF0C;&#x767B;&#x5F55;&#x5931;&#x8D25;&#xFF0C;&#x5176;&#x4ED6;&#x9519;&#x8BEF;<br>&#x81EA;&#x7136;&#x6211;&#x4EEC;&#x5BF9;&#x4FE1;&#x53F7;&#x7684;&#x64CD;&#x4F5C;&#x4E5F;&#x8981;&#x76F8;&#x5BF9;&#x5E94;&#xFF0C;&#x5982;</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>) test004 {</span><br><span class="line">    [<span class="keyword">self</span> test002];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x73B0;&#x5728;&#xFF0C;&#x5C1D;&#x8BD5;&#x6709;&#x5F02;&#x6B65;&#x56DE;&#x8C03;&#x4E0B;&#x4F1A;&#x6709;&#x4EE5;&#x4E0B;&#x60C5;&#x5F62;&#xFF1A;&#x767B;&#x5F55;&#x6210;&#x529F;&#xFF0C;&#x767B;&#x5F55;&#x5931;&#x8D25;&#xFF0C;&#x5176;&#x4ED6;&#x9519;&#x8BEF;</span></span><br><span class="line">    <span class="comment">// 1 &#x521B;&#x5EFA;&#x767B;&#x5F55;&#x64CD;&#x4F5C;sigal &#xFF0D; createSignal and RACDisposable</span></span><br><span class="line">    YRServer *server = [[YRServer alloc] init];</span><br><span class="line">    RACSignal *logInAndCallBackSG = [RACSignal createSignal:^RACDisposable *(<span class="keyword">id</span>&lt;RACSubscriber&gt; subscriber) {</span><br><span class="line">        [server logInWithUsername:<span class="keyword">self</span>.userNameTF.text password:<span class="keyword">self</span>.passwordTF.text finishedCallBack:^(<span class="built_in">BOOL</span> isSuccess) {</span><br><span class="line">            [subscriber sendNext:@(isSuccess)];</span><br><span class="line">            [subscriber sendCompleted];</span><br><span class="line">        }];</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span>;</span><br><span class="line">    }];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2 &#x767B;&#x5F55;&#x64CD;&#x4F5C; - &#x5C06;&#x6309;&#x94AE;&#x7684;&#x767B;&#x5F55;&#x64CD;&#x4F5C;&#x4E8B;&#x4EF6; map&#x4E3A; &#x767B;&#x5F55;&#x64CD;&#x4F5C;&#x4FE1;&#x53F7;</span></span><br><span class="line">    <span class="comment">// &#x540C;&#x65F6; &#x201C;&#x6574;&#x6D41;&#xFF0F;&#x5408;&#x5E76;&#x4FE1;&#x53F7;&#x201D; &#xFF0D;Flattens/merge a stream of streams</span></span><br><span class="line">    [[[<span class="keyword">self</span>.LogIn rac_signalForControlEvents:<span class="built_in">UIControlEventTouchUpInside</span>] map:^<span class="keyword">id</span>(<span class="keyword">id</span> value) {</span><br><span class="line">        <span class="keyword">return</span> logInAndCallBackSG; <span class="comment">// &#x5E76;&#x4E0D;&#x662F;&#x666E;&#x901A;&#x8F6C;&#x5316;&#xFF0C;&#x800C;&#x662F;&#x521B;&#x5EFA;&#x4E86;&#x53C8;&#x4E00;&#x4E2A;sigal&#xFF0C;&#x79F0;&#x4E4B;&#x4E3A;&#xFF3B;signal of signals&#xFF3D;</span></span><br><span class="line">    }] subscribeNext:^(<span class="keyword">id</span> x) {</span><br><span class="line"></span><br><span class="line">        <span class="comment">// &#x8FD9;&#x91CC;&#x9700;&#x8981;&#x6CE8;&#x610F;&#xFF1A;</span></span><br><span class="line">        <span class="comment">// rac_signalForControlEvents &#x4F1A;&#x5C06;button&#x672C;&#x8EAB; &#x6D41;&#x7ED9;&#xFF08;next&#xFF09; subscribe</span></span><br><span class="line">        <span class="comment">// &#x800C;map&#x4E2D;&#xFF0C;&#x53C8;create&#x4E00;&#x4E2A;&#x65B0;&#x7684;signal&#xFF0D;logInAndCallBackSG</span></span><br><span class="line">        <span class="comment">// &#x6240;&#x4EE5;&#x5B9E;&#x9645;&#x4E0A;&#x5728;&#x8FD9;&#x91CC;&#xFF0C;&#x5F97;&#x5230;&#x4E86;&#x4E00;&#x4E2A;&#x4FE1;&#x53F7;&#x7684;&#x4FE1;&#x53F7;&#xFF0C;&#x6211;&#x79F0;&#x4E4B;&#x4E3A;&#x590D;&#x5408;&#x7684;signal</span></span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@&quot;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x4FE1;&#x53F7;&#x7684;&#x4FE1;&#x53F7;signal of signals&#xFF0C;&#x8FD9;&#x91CC;&#x4EC5;&#x4EC5;&#x53EA;&#x80FD;&#x67E5;&#x770B;outer signal&#xFF1A; %@&quot;</span>, x);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// inner signal&#x8FD8;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x7684; subscribe</span></span><br><span class="line">        [x subscribeNext:^(<span class="keyword">id</span> x) {</span><br><span class="line"></span><br><span class="line">            <span class="built_in">NSLog</span>(<span class="string">@&quot;inner signal - &#x662F;&#x5426;&#x767B;&#x5F55;&#x6210;&#x529F;&#x4E86;&#xFF1F;&#xFF1A; %@&quot;</span>, x);</span><br><span class="line">        }];</span><br><span class="line">    }];</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<ul>
<li>&#x4F7F;&#x7528;<code>createSignal</code>&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x767B;&#x9646;&#x64CD;&#x4F5C;&#x7684;&#x4FE1;&#x53F7;&#xFF0C;&#x5BF9;&#x4E8E;&#x7F51;&#x7EDC;&#x64CD;&#x4F5C;&#x7ED3;&#x679C;<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[server logInWithUsername:<span class="keyword">self</span>.userNameTF.text password:<span class="keyword">self</span>.passwordTF.text finishedCallBack:^(<span class="built_in">BOOL</span> isSuccess) {</span><br><span class="line">    [subscriber sendNext:@(isSuccess)];</span><br><span class="line">    [subscriber sendCompleted];</span><br><span class="line">}];</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>&#x8FD4;&#x56DE;&#x662F;&#x5426;&#x6210;&#x529F;&#x7684;bool&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x547D;&#x8FBE;&#x6210;&#xFF0C;&#x5230;&#x6B64;&#x4E3A;&#x6B62;<strong>&#x9700;&#x8981;&#x5173;&#x95ED;subscriber</strong>,&#x8FD9;&#x4E00;&#x70B9;&#x5F88;&#x91CD;&#x8981;</p>
<ul>
<li>&#x7136;&#x540E;&#x5728;<code>2</code>&#x4E2D;&#x7684;btn&#x70B9;&#x51FB;&#x540E;&#xFF0C;<code>map</code>&#x4E3A;&#x521A;&#x521A;&#x8FDB;&#x884C;&#x7684;&#x767B;&#x9646;&#x8BF7;&#x6C42;&#x64CD;&#x4F5C;&#xFF0D;&#xFF0D;&#x4E5F;&#x5C31;&#x662F;&#x628A;2&#x4E2A;signal&#x590D;&#x5408;&#x5728;&#x4E86;&#x4E00;&#x8D77;&#x6210;&#x4E3A;&#x591A;&#x5C42;&#x6B21;&#x7684;signal&#x6D41;&#xFF0C;&#x518D;&#x5F3A;&#x8C03;&#x4E00;&#x904D;<strong>&#x5E76;&#x4E0D;&#x662F;&#x666E;&#x901A;&#x8F6C;&#x5316;&#xFF0C;&#x800C;&#x662F;&#x521B;&#x5EFA;&#x4E86;&#x53C8;&#x4E00;&#x4E2A;sigal</strong>&#xFF0C;&#x79F0;&#x4E4B;&#x4E3A;<code>[signal of signals]</code><br>&#x62C6;&#x5F00;&#x6765;&#x770B;&#xFF1A;<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rac_signalForControlEvents &#x4F1A;&#x5C06;button&#x672C;&#x8EAB; &#x6D41;&#x7ED9;&#xFF08;next&#xFF09; subscribe</span><br><span class="line">       &#x800C;map&#x4E2D;&#xFF0C;&#x53C8;create&#x4E00;&#x4E2A;&#x65B0;&#x7684;signal&#xFF0D;logInAndCallBackSG</span><br><span class="line">       &#x6240;&#x4EE5;&#x5B9E;&#x9645;&#x4E0A;&#x5728;&#x8FD9;&#x91CC;&#xFF0C;&#x5F97;&#x5230;&#x4E86;&#x4E00;&#x4E2A;&#x4FE1;&#x53F7;&#x7684;&#x4FE1;&#x53F7;&#xFF0C;&#x6211;&#x79F0;&#x4E4B;&#x4E3A;&#x590D;&#x5408;&#x7684;signal</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>&#x6240;&#x4EE5;&#x5728;<code>subscribeNext</code>&#x7684;block&#x4E4B;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x5F97;&#x5230;&#x6700;&#x5185;&#x5C42;&#x7684;signal&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x518D;&#x52A0;&#x4E00;&#x4E2A;<code>subscribeNext</code></p>
<p>&#x5728;RAC&#x4E2D;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x590D;&#x5408;&#x4FE1;&#x53F7;&#x5904;&#x7406;&#x662F;&#x5982;&#x6B64;&#x666E;&#x904D;&#xFF0C;&#x4EE5;&#x81F3;&#x4E8E;&#x4E13;&#x95E8;&#x63D0;&#x4F9B;&#x4E86;&#x5904;&#x7406;&#x7684;&#x65B9;&#x6CD5;<code>flattenMap</code>&#xFF0C;&#x4F7F;&#x7528;&#x5176;&#x66FF;&#x6362;&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;<code>2</code>:<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> <span class="comment">// 2 &#x767B;&#x5F55;&#x64CD;&#x4F5C; - &#x5C06;&#x6309;&#x94AE;&#x7684;&#x767B;&#x5F55;&#x64CD;&#x4F5C;&#x4E8B;&#x4EF6; map&#x4E3A; &#x767B;&#x5F55;&#x64CD;&#x4F5C;&#x4FE1;&#x53F7;</span></span><br><span class="line"><span class="comment">// &#x590D;&#x5408;&#x4FE1;&#x53F7;&#x6210;&#x6D41;&#xFF3B;steam&#xFF3D;</span></span><br><span class="line">[[[<span class="keyword">self</span>.LogIn rac_signalForControlEvents:<span class="built_in">UIControlEventTouchUpInside</span>] flattenMap:^RACStream *(<span class="keyword">id</span> value) {</span><br><span class="line">    <span class="keyword">return</span> logInAndCallBackSG;</span><br><span class="line">}] subscribeNext:^(<span class="keyword">id</span> x) {</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@&quot;inner signal - &#x662F;&#x5426;&#x767B;&#x5F55;&#x6210;&#x529F;&#x4E86;&#xFF1F;&#xFF1A; %@&quot;</span>, x);</span><br><span class="line">}];</span><br></pre></td></tr></table></figure></p>
<p>&#x5C31;&#x5B9E;&#x73B0;&#x4E86;&#x5B8C;&#x6574;&#x529F;&#x80FD;</p>
<h3 id="&#x603B;&#x7ED3;"><a href="#&#x603B;&#x7ED3;" class="headerlink" title="&#x603B;&#x7ED3;"></a>&#x603B;&#x7ED3;</h3><p>&#x7EFC;&#x5408;&#x6765;&#x770B;&#xFF0C;RAC&#x5F7B;&#x5E95;&#x5C06;&#x4F20;&#x7EDF;&#x7684;&#x6D88;&#x606F;&#x4F20;&#x9012;&#x65B9;&#x5F0F;&#x7EDF;&#x4E00;&#xFF0C;&#x4E0D;&#x7BA1;&#x662F;&#x901A;&#x77E5;&#xFF0C;&#x8FD8;&#x662F;UI&#x4E8B;&#x4EF6;&#xFF0C;&#x90FD;&#x88AB;&#x7EDF;&#x4E00;&#x6210;&#x4E3A;&#x4E86;signal&#xFF0C;&#x5E76;&#x4E14;&#x662F;&#x5B9E;&#x65F6;&#x54CD;&#x5E94;&#x7684;&#xFF0C;&#x8FD9;&#x6837;&#x4F7F;&#x7528;MVVM&#xFF0C;&#x5988;&#x5988;&#x518D;&#x4E5F;&#x4E0D;&#x7528;&#x62C5;&#x5FC3;&#x6570;&#x636E;&#x548C;UI&#x72B6;&#x6001;&#x7684;&#x540C;&#x6B65;&#x4E86;<br>&#x8FD9;&#x91CC;&#x4EC5;&#x4EC5;&#x662F;&#x4E00;&#x4E2A;&#x5C0F;&#x5C0F;&#x7684;Demo&#xFF0C;&#x4F46;&#x662F;&#x8DB3;&#x4EE5;&#x8BF4;&#x670D;&#x53BB;&#x63A5;&#x53D7;RAC&#x4E86;&#xFF0C;&#x4F4F;&#x5927;&#x5BB6;&#x73A9;&#x7684;&#x6109;&#x5FEB; &#x1F604;&#x2026;</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2015/08/11/APNs/"><span>APNs及跳转处理</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2015/08/11/APNs/" rel="bookmark">
        <time class="entry-date published" datetime="2015-08-11T14:38:14.000Z">
          2015-08-11
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h3 id="apns"><a href="#APNs" class="headerlink" title="APNs"></a><strong>APNs</strong></h3><p>&#x6700;&#x8FD1;app&#x52A0;&#x4E0A;&#x4E86;apns&#xFF0C;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x64CD;&#x4F5C;&#x4E3B;&#x8981;&#x5728;&#x4E8E;&#x6267;&#x884C;&#x5BF9;&#x5E94;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x8FD9;&#x91CC;&#x6D89;&#x53CA;&#x51E0;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x60C5;&#x51B5;<br>PS&#xFF1A; &#x5176;&#x5B9E;&#x914D;&#x7F6E;&#x8BC1;&#x4E66;&#x65B9;&#x9762;&#x4E5F;&#x6709;&#x4E00;&#x4E9B;&#x53D8;&#x52A8;&#xFF0C;&#x8FD8;&#x6709;<code>Xcode</code>&#x4E2D;&#x9879;&#x76EE;&#x7684;&#x8BBE;&#x7F6E;&#x4E0A;&#xFF0C;&#x4E0D;&#x8FC7;&#x8FD9;&#x4E9B;&#x90FD;&#x662F;&#x516C;&#x5F00;&#x8D44;&#x6599;&#xFF0C;google&#x4E4B;</p>
<p>&#x5F53;&#x8BBE;&#x5907;&#x63A5;&#x5230;apns&#x53D1;&#x6765;&#x7684;&#x901A;&#x77E5;&#xFF0C;&#x5E94;&#x7528;&#x5904;&#x7406;&#x901A;&#x77E5;&#x6709;&#x4EE5;&#x4E0B;&#x51E0;&#x79CD;&#x60C5;&#x51B5;&#xFF1A;</p>
<ul>
<li><p>&#x63A5;&#x6536;&#x72B6;&#x51B5;</p>
<ul>
<li><p><strong>&#x5E94;&#x7528;&#x8FD8;&#x6CA1;&#x6709;&#x52A0;&#x8F7D;</strong></p>
<p>&#x8FD9;&#x65F6;&#x5982;&#x679C;&#x70B9;&#x51FB;&#x901A;&#x77E5;&#x7684;&#x663E;&#x793A;&#x6309;&#x94AE;&#xFF0C;&#x4F1A;&#x8C03;&#x7528;<code>didFinishLaunchingWithOptions</code>&#xFF0C;&#x4E0D;&#x4F1A;&#x8C03;&#x7528;<code>didReceiveRemoteNotification</code>&#x65B9;&#x6CD5;&#x3002;<br>&#x5982;&#x679C;&#x70B9;&#x51FB;&#x901A;&#x77E5;&#x7684;&#x5173;&#x95ED;&#x6309;&#x94AE;&#xFF0C;&#x518D;&#x70B9;&#x51FB;&#x5E94;&#x7528;&#xFF0C;&#x53EA;&#x4F1A;&#x8C03;&#x7528;<code>didFinishLaunchingWithOptions</code>&#x65B9;&#x6CD5;&#x3002;</p>
</li>
<li><p><strong>&#x5E94;&#x7528;&#x5728;&#x524D;&#x53F0;&#xFF08;foreground)</strong></p>
<p>&#x8FD9;&#x65F6;&#x5982;&#x679C;&#x6536;&#x5230;&#x901A;&#x77E5;&#xFF0C;&#x4F1A;&#x89E6;&#x53D1;<code>didReceiveRemoteNotification</code>&#x65B9;&#x6CD5;</p>
</li>
<li><p><strong>&#x5E94;&#x7528;&#x5728;&#x540E;&#x53F0;</strong></p>
<ol>
<li>&#x6B64;&#x65F6;&#x5982;&#x679C;&#x6536;&#x5230;&#x901A;&#x77E5;&#xFF0C;&#x70B9;&#x51FB;&#x663E;&#x793A;&#x6309;&#x94AE;&#xFF0C;&#x4F1A;&#x8C03;&#x7528;<code>didReceiveRemoteNotification</code>&#x65B9;&#x6CD5;&#x3002;</li>
<li>&#x70B9;&#x51FB;&#x5173;&#x95ED;&#x518D;&#x70B9;&#x51FB;&#x5E94;&#x7528;&#xFF0C;&#x5219;&#x4E0A;&#x9762;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#x90FD;&#x4E0D;&#x4F1A;&#x88AB;&#x8C03;&#x7528;&#x8FD9;&#x65F6;&#xFF0C;&#x53EA;&#x80FD;&#x5728;<code>applicationWillEnterForeground</code>&#x6216;&#x8005;<code>applicationDidBecomeActive</code>,&#x6839;&#x636E;&#x53D1;&#x8FC7;&#x6765;&#x901A;&#x77E5;&#x4E2D;&#x7684;badge&#x8FDB;&#x884C;&#x5224;&#x65AD;&#x662F;&#x5426;&#x6709;&#x901A;&#x77E5;&#xFF0C;&#x7136;&#x540E;&#x53D1;&#x8BF7;&#x6C42;&#x83B7;&#x53D6;&#x6570;&#x636E;</li>
</ol>
</li>
</ul>
</li>
<li><p>&#x5BF9;&#x5E94;&#x5904;&#x7406;</p>
</li>
</ul>
<p>&#x9996;&#x5148;&#x662F;&#x4E00;&#x4E2A;&#x8DF3;&#x8F6C;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5728;&#x5BF9;&#x5E94;&#x7684;&#x5730;&#x65B9;&#x5982;&#x4F55;&#x8DF3;&#x8F6C;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x63A7;&#x5236;&#x5668;&#x5462;&#xFF1F;</p>
<p>&#x5176;&#x5B9E;iOS&#x4E2D;&#x4F5C;&#x4E3A;&#x63A7;&#x5236;&#x5668;&#x7BA1;&#x7406;&#x7684;&#x63A7;&#x5236;&#x5668;&#x53EA;&#x6709;&#x4E24;&#x79CD;&#xFF1A;<code>NagVC</code>&#x548C;<code>TabVC</code>&#x4E24;&#x79CD;&#xFF0C;&#x53EA;&#x8981;&#x627E;&#x5230;&#x4E86;root&#xFF0C;&#x8DF3;&#x8F6C;&#x5C31;&#x5F88;easy&#x4E86;&#xFF0C;&#x5FC5;&#x5165;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x7B80;&#x5355;&#x7684;&#x5B9E;&#x73B0;&#xFF1A;</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)jumpVCThroughAPNsWith: (<span class="built_in">NSString</span> *)type {</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x5148;&#x83B7;&#x53D6;rootVC&#x7C7B;&#x578B;</span></span><br><span class="line">    <span class="built_in">UIViewController</span> * root = (<span class="built_in">UIViewController</span>*)<span class="keyword">self</span>.window.rootViewController;</span><br><span class="line">    <span class="keyword">if</span> ([root isKindOfClass:[<span class="built_in">UITabBarController</span> class]]){</span><br><span class="line">        CustomTabBarController *tabbarController = (CustomTabBarController *)root;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> ([type isEqualToString:<span class="string">@&quot;gift_page&quot;</span>]) {</span><br><span class="line">            tabbarController.selectedIndex = <span class="number">3</span>;</span><br><span class="line">            <span class="built_in">UINavigationController</span> *navController = (<span class="built_in">UINavigationController</span> *)[tabbarController selectedViewController];</span><br><span class="line"></span><br><span class="line">            ZXGiftManagerViewController *giftVC = [[<span class="built_in">UIStoryboard</span> storyboardWithName:<span class="string">@&quot;ZXMyProfileTableView&quot;</span> bundle:<span class="literal">nil</span>] instantiateViewControllerWithIdentifier:<span class="string">@&quot;ZXGiftmanager&quot;</span>];</span><br><span class="line"></span><br><span class="line">            giftVC.hidesBottomBarWhenPushed = <span class="literal">YES</span>;</span><br><span class="line">            giftVC.urlStr = <span class="string">@&quot;/index.php?c=salectrl&amp;m=get_manage_card_data&quot;</span>;</span><br><span class="line">            [navController pushViewController:giftVC animated:<span class="literal">YES</span>];</span><br><span class="line">        } <span class="keyword">else</span> <span class="keyword">if</span>([type isEqualToString:<span class="string">@&quot;course_page&quot;</span>]){</span><br><span class="line"></span><br><span class="line">            tabbarController.selectedIndex = <span class="number">2</span>;</span><br><span class="line">            <span class="built_in">UINavigationController</span> *navController = (<span class="built_in">UINavigationController</span> *)[tabbarController selectedViewController];</span><br><span class="line"></span><br><span class="line">            LessonNewDetailViewController * lessonDCon =  [[LessonNewDetailViewController alloc]init];</span><br><span class="line">            lessonDCon.reqUrl = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@&quot;%@/index.php?c=course_ctrl&amp;m=course_data&amp;id=%@&quot;</span>,WEB_URL,<span class="keyword">self</span>.zxMsg.urlStr];</span><br><span class="line">            [navController pushViewController:lessonDCon animated:<span class="literal">YES</span>];</span><br><span class="line">        } <span class="keyword">else</span> <span class="keyword">if</span>([type isEqualToString:<span class="string">@&quot;webview_full&quot;</span>]) {</span><br><span class="line"></span><br><span class="line">            tabbarController.selectedIndex = <span class="number">0</span>;</span><br><span class="line">            <span class="built_in">UINavigationController</span> *navController = (<span class="built_in">UINavigationController</span> *)[tabbarController selectedViewController];</span><br><span class="line">            SaleViewController * webViewCon =[[SaleViewController alloc]init];</span><br><span class="line">            webViewCon.webNewUrl = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@&quot;http://host.../index.php?c=fast_show_ctrl&amp;m=show_book_free&amp;id=%@&amp;hide_cache=1&quot;</span>,<span class="keyword">self</span>.zxMsg.urlStr];</span><br><span class="line">            [navController pushViewController:webViewCon animated:<span class="literal">YES</span>];</span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></table></figure>
<p>&#x8FD9;&#x91CC;&#x6839;&#x636E;<code>APNS</code>&#x53D1;&#x8FC7;&#x6765;&#x7684;<code>type</code>key&#x6267;&#x884C;&#x4E0D;&#x540C;&#x7684;&#x8DF3;&#x8F6C;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">  &quot;aps&quot;: {</span><br><span class="line">    &quot;alert&quot;:&quot;Hello Push!&quot;,</span><br><span class="line">    &quot;badge&quot;:1,</span><br><span class="line">    &quot;sound&quot;:&quot;default&quot;</span><br><span class="line">    &quot;type&quot; : &quot;xxxx&quot;</span><br><span class="line">  },</span><br><span class="line">  &quot;page&quot;:&quot;home&quot;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x5BF9;&#x5E94;&#xFF1A;</p>
<table>
<thead>
<tr>
<th style="text-align:center">type</th>
<th style="text-align:center">VC</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">&#x201C;gift_page&#x201D;</td>
<td style="text-align:center">ZXGiftManagerViewController</td>
</tr>
<tr>
<td style="text-align:center">&#x201C;course_page&#x201D;</td>
<td style="text-align:center">LessonNewDetailViewController</td>
</tr>
<tr>
<td style="text-align:center">&#x201C;webview_full&#x201D;</td>
<td style="text-align:center">SaleViewController</td>
</tr>
</tbody>
</table>
<p>&#x8FD9;&#x91CC;&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x6700;&#x7B80;&#x5355;&#x6700;&#x65B9;&#x4FBF;&#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#xFF0C;&#x524D;&#x63D0;&#x662F;&#x4F60;&#x77E5;&#x9053;&#x5230;&#x5E95;&#x8DF3;&#x8F6C;&#x5230;&#x54EA;&#x513F;</p>
<p>&#x4F46;&#x8FD8;&#x6709;&#x66F4;&#x53D8;&#x6001;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x6BD4;&#x5982;&#x4F60;&#x7684;app&#x57FA;&#x672C;&#x90FD;&#x662F;&#x7528;&#x7684;webVC&#xFF0C;&#x5176;&#x5B9E;&#x662F;&#x771F;&#x7684;&#x6709;&#x5728;&#x9875;&#x9762;&#x4E4B;&#x95F4;&#x7684;&#x968F;&#x610F;<code>&#x975E;&#x6B63;&#x5E38;&#x8DF3;&#x8F6C;</code>&#x7684;&#x9700;&#x6C42;&#x7684;,&#x6240;&#x4EE5;&#x5EFA;&#x8BAE;&#x4E13;&#x95E8;&#x5199;&#x4E00;&#x4E2A;<code>RoutingManage</code>&#x7C7B;&#x7528;&#x6765;&#x7BA1;&#x7406;&#x6240;&#x6709;&#x7684;&#x975E;&#x6B63;&#x5E38;&#x8DF3;&#x8F6C;&#xFF0C;&#x901A;&#x8FC7;<code>Runtime</code>&#x6839;&#x636E;&#x4F20;&#x8FC7;&#x6765;&#x7684;&#x7528;&#x6765;&#x521B;&#x5EFA;<code>ViewControllerName</code>&#x521B;&#x5EFA;VC&#xFF0C;&#x518D;&#x7531;&#x4E00;&#x4E2A;root&#x53BB;&#x8DF3;&#x8F6C;</p>
<p>&#x6BD4;&#x5982;&#xFF1A;</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)jumpVCThroughAPNsWith: (<span class="built_in">NSDictionary</span> *)info {</span><br><span class="line">{</span><br><span class="line">    <span class="comment">// &#x62FF;&#x5230;&#x7C7B;&#x540D;</span></span><br><span class="line">    <span class="built_in">NSString</span> *class =[<span class="built_in">NSString</span> stringWithFormat:<span class="string">@&quot;%@&quot;</span>, info[<span class="string">@&quot;viewControllerName&quot;</span>]];</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span> *VCClassName = [class cStringUsingEncoding:<span class="built_in">NSASCIIStringEncoding</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x521B;&#x5EFA;&#x5E76;&#x6CE8;&#x518C;&#x7C7B;</span></span><br><span class="line">    Class newClass = objc_getClass(VCClassName);</span><br><span class="line">    <span class="keyword">if</span> (!newClass)</span><br><span class="line">    {</span><br><span class="line">        Class superClass = [<span class="built_in">NSObject</span> class];</span><br><span class="line">        newClass = objc_allocateClassPair(superClass, VCClassName, <span class="number">0</span>);</span><br><span class="line">        objc_registerClassPair(newClass);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x521B;&#x5EFA;&#x5BF9;&#x8C61;</span></span><br><span class="line">    <span class="keyword">id</span> instance = [[newClass alloc] init];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x83B7;&#x53D6;&#x5BFC;&#x822A;&#x63A7;&#x5236;&#x5668;</span></span><br><span class="line">    <span class="built_in">UITabBarController</span> *tabVC = (<span class="built_in">UITabBarController</span> *)<span class="keyword">self</span>.window.rootViewController;</span><br><span class="line">    <span class="built_in">UINavigationController</span> *pushClassStance = (<span class="built_in">UINavigationController</span> *)tabVC.viewControllers[tabVC.selectedIndex];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x8DF3;&#x8F6C;</span></span><br><span class="line">    [pushClassStance pushViewController:instance animated:<span class="literal">YES</span>];</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x8FD9;&#x4E00;&#x70B9;&#x5728;&#x4F60;&#x7684;app&#x6709;&#x5927;&#x91CF;&#x7684;webVC&#xFF0C;&#x57FA;&#x672C;&#x6CA1;&#x4EC0;&#x4E48;&#x672C;&#x5730;VC&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x663E;&#x5F97;&#x5C24;&#x5176;&#x91CD;&#x8981;&#xFF0C;&#x6BD4;&#x5982;&#x6211;&#x53F8;app&#x4E0A;&#x4E00;&#x4E2A;&#x7248;&#x672C;&#x5C31;&#x662F;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;</p>
<p>ok&#xFF0C;&#x795D;&#x4F60;&#x8DF3;&#x8DF3;&#x6109;&#x5FEB;&#x4E86;     &#x2026;&#x1F913;</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/APNs/">APNs</a>
    </span>
    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2015/06/22/JS-和-OC-交互探索/"><span>JS 和 OC 交互探索</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2015/06/22/JS-和-OC-交互探索/" rel="bookmark">
        <time class="entry-date published" datetime="2015-06-22T08:06:07.000Z">
          2015-06-22
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>&#x5728;iOS&#x4E2D;&#x5F80;&#x5F80;&#x9700;&#x8981;&#x8DDF;JS&#x4EA4;&#x4E92;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x6BD4;&#x5982;&#x67D0;&#x4E9B;&#x8425;&#x9500;&#x6D3B;&#x52A8;&#x4E4B;&#x7C7B;&#x7684;&#xFF0C;&#x6BD4;&#x5982;&#x62A2;&#x7EA2;&#x5305;&#x7B49;&#x7B49;</p>
<p>&#x524D;&#x7AEF;&#x7684;&#x4F18;&#x52BF;&#x5728;&#x4E8E;&#x5FEB;&#x901F;&#xFF0C;&#x4FBF;&#x6377;&#xFF0C;&#x6837;&#x5F0F;&#x7075;&#x6D3B;&#xFF0C;&#x8FD9;&#x76F4;&#x63A5;&#x5173;&#x4E4E;&#x4EA7;&#x54C1;&#x7684;&#x5E02;&#x573A;&#x8868;&#x73B0;&#xFF0C;&#x600E;&#x6837;&#x5C06;&#x5176;&#x4E0E;&#x672C;&#x5730;app&#x7ED3;&#x5408;&#xFF0C;&#x4E00;&#x76F4;&#x662F;&#x5F88;&#x591A;&#x5927;&#x5382;&#x5C1D;&#x8BD5;&#x7684;&#x4E8B;&#xFF0C;&#x751A;&#x81F3;&#x4F1A;&#x7ED9;&#x6240;&#x6709;&#x7684;&#x5F00;&#x53D1;&#x90FD;&#x5E26;&#x6765;&#x4E00;&#x573A;&#x9769;&#x547D;&#xFF0C;&#x5BF9;&#xFF0C;&#x6211;&#x8BF4;&#x7684;&#x5C31;&#x662F;F8&#x4E0A;&#x7684;ReactNative</p>
<p>&#x4E0D;&#x8FC7;&#xFF0C;&#x73B0;&#x5B9E;&#x60C5;&#x51B5;&#x662F;&#x6846;&#x67B6;&#x8FD8;&#x4E0D;&#x5B8C;&#x5584;&#xFF0C;&#x4F53;&#x9A8C;&#x7A33;&#x5B9A;&#x6027;&#x90FD;&#x95EE;&#x9898;&#xFF0C;&#x773C;&#x4E0B;&#x8FD8;&#x6CA1;&#x6709;&#x5927;&#x91CF;&#x7684;&#x63A8;&#x5E7F;&#xFF0C;&#x4F55;&#x51B5;apple&#x771F;&#x7684;&#x4F1A;&#x5F00;&#x653E;iOS&#x8FD9;&#x4E48;&#x5927;&#x5757;&#x997C;&#x5417;&#xFF1F;&#x6211;&#x770B;&#x672A;&#x5FC5;</p>
<p>&#x6211;&#x4EEC;&#x80FD;&#x505A;&#x7684;&#x5C31;&#x662F;&#x5C3D;&#x91CF;&#x5728;&#x5F53;&#x4E0B;&#xFF0C;&#x5B8C;&#x6210;&#x7B80;&#x5355;&#x7684;&#x8DDF;web&#x7684;&#x4E92;&#x8C03;&#x800C;&#x5DF2;&#xFF0C;&#x800C;&#x73B0;&#x5B9E;&#x662F;&#x8FD9;&#x70B9;&#x513F;&#x4E5F;&#x5C06;&#x5C06;&#x591F;&#x7528;</p>
<p>&#x672C;&#x7BC7;&#x4E0D;&#x804A;&#x539F;&#x7406;&#x4E0D;&#x8C08;&#x613F;&#x666F;&#xFF0C;&#x53EA;&#x4ECB;&#x7ECD;&#x4E00;&#x6B3E;&#x4F18;&#x79C0;&#x7684;&#x7B2C;&#x4E09;&#x65B9;&#x6846;&#x67B6;&#x548C;&#x7B14;&#x8005;&#x81EA;&#x5DF1;&#x4F7F;&#x7528;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x4E00;&#x70B9;&#x513F;&#x5FC3;&#x5F97;</p>
<ul>
<li>WebViewJavascriptBridge</li>
</ul>
<p>&#x8FD9;&#x662F;&#x4E00;&#x6B3E;&#x8001;&#x724C;&#x7684;&#x6846;&#x67B6;&#xFF0C;&#x4ECE;11&#x5E74;&#x5C31;&#x6709;&#x4E86;&#x5230;&#x73B0;&#x5728;&#x5DF2;&#x7ECF;&#x5FEB;5&#x5E74;&#x4E86;&#xFF0C;&#x4E00;&#x76F4;&#x66F4;&#x65B0;&#x5230;&#x73B0;&#x5728;&#xFF0C;&#x5728;github&#x6709;5K&#xFF0B;&#x7684;star</p>
<p>&#x501F;&#x52A9;&#x4EE3;&#x7801;&#x770B;&#x770B;&#x5176;&#x4F7F;&#x7528;&#xFF1A;</p>
<p>&#x5728;&#x4F7F;&#x7528;&#x65F6;&#x4EC5;&#x4EC5;&#x81EA;&#x7136;&#x9700;&#x8981;webView&#xFF0C;&#x5728;iOS8&#x4E4B;&#x524D;&#x90FD;&#x662F;&#x666E;&#x901A;&#x7684;webView&#xFF0C;iOS8&#x4E4B;&#x540E;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;WKWebView</p>
<p>&#x8FD9;&#x91CC;&#x7ED9;VC&#x7ED1;&#x5B9A;&#x4E00;&#x4E2A;webView&#xFF0C;like this&#xFF1A;</p>
<p>&#x6DFB;&#x52A0;&#x5C5E;&#x6027;&#xFF1A;<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) <span class="built_in">UIWebView</span> *webView;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) WebViewJavascriptBridge *bridge;</span><br></pre></td></tr></table></figure></p>
<p>&#x7136;&#x540E;&#x5728;<code>viewDidLoad</code>&#x65B9;&#x6CD5;&#x4E2D;&#xFF1A;</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// &#x83B7;&#x53D6;&#x672C;&#x5730;html</span></span><br><span class="line"><span class="built_in">NSString</span> *htmlPath = [[<span class="built_in">NSBundle</span> mainBundle] pathForResource:<span class="string">@&quot;ZXDemo.html&quot;</span> ofType:<span class="literal">nil</span>];</span><br><span class="line"><span class="keyword">self</span>.webView = [[<span class="built_in">UIWebView</span> alloc] initWithFrame:<span class="keyword">self</span>.view.bounds];</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSString</span> *str = [<span class="built_in">NSString</span> stringWithContentsOfFile: htmlPath encoding:<span class="built_in">NSUTF8StringEncoding</span> error:<span class="literal">nil</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// webView &#x52A0;&#x8F7D; html</span></span><br><span class="line">[<span class="keyword">self</span>.webView loadHTMLString:str baseURL: [<span class="built_in">NSURL</span> fileURLWithPath:htmlPath]];</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x6DFB;&#x52A0;webView</span></span><br><span class="line">[<span class="keyword">self</span>.view addSubview:<span class="keyword">self</span>.webView];</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x521B;&#x5EFA;&#x4E00;&#x4E2A;Btn</span></span><br><span class="line">[<span class="keyword">self</span> createBtn];</span><br></pre></td></tr></table></figure>
<p>&#x540C;&#x65F6;&#x8FD8;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x672C;&#x5730;&#x7684;btn</p>
<p>&#x8FD9;&#x4E2A;&#x6846;&#x67B6;&#x8BA4;&#x5B9A;JS&#x548C;OC&#x4E4B;&#x95F4;&#x6709;&#x4E24;&#x79CD;&#x5C42;&#x6B21;&#x7684;&#x4EA4;&#x4E92;&#x9700;&#x6C42;&#xFF1A;<code>&#x53D1;&#x6D88;&#x606F;</code> &#x548C;<code>&#x4F20;&#x4E1C;&#x897F;</code>2&#x79CD;&#xFF0C;&#x4E00;&#x79CD;&#x4EC5;&#x4EC5;&#x53EA;&#x662F;&#x4E3A;&#x4E86;&#x901A;&#x4FE1;&#xFF0C;&#x53E6;&#x4E00;&#x79CD;&#x66F4;&#x91CD;&#x91CF;&#x7684;&#x4F7F;&#x7528;&#x662F;&#x76F8;&#x4E92;&#x8C03;&#x65B9;&#x6CD5;</p>
<p>&#x60F3;&#x60F3;&#x4E5F;&#x662F;&#xFF0C;&#x5F88;&#x591A;&#x65F6;&#x5019;&#x5E76;&#x4E0D;&#x9700;&#x8981;&#x4E00;&#x5B9A;&#x8981;&#x544A;&#x8BC9;&#x6211;&#x8981;&#x600E;&#x6837;&#x64CD;&#x4F5C;&#xFF0C;&#x4EC5;&#x4EC5;&#x662F;&#x4F20;&#x9012;&#x4E2A;&#x6211;&#x4E00;&#x4E2A;&#x503C;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#xFF0C;&#x800C;&#x6709;&#x7684;&#x65F6;&#x5019;&#x6700;&#x597D;&#x80FD;&#x76F4;&#x63A5;&#x8C03;&#x7528;&#x67D0;&#x4E00;&#x8FB9;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5176;&#x5B9E;&#x7A0D;&#x540E;&#x4F60;&#x5C31;&#x4F1A;&#x53D1;&#x73B0;&#x5176;&#x5B9E;&#x4E24;&#x79CD;&#x90FD;&#x662F;&#x4E00;&#x6837;&#x7684;</p>
<h4 id="&#x901A;&#x4FE1;"><a href="#&#x901A;&#x4FE1;" class="headerlink" title="&#x901A;&#x4FE1;"></a>&#x901A;&#x4FE1;</h4><p>&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x4EC5;&#x4EC5;&#x5C31;&#x662F;&#x4E3A;&#x4E86;&#x4F20;&#x503C;&#xFF0C;&#x4F7F;&#x7528;&#x7075;&#x6D3B;&#x7B80;&#x4FBF;</p>
<ul>
<li><p>JS &#x7ED9; OC &#x4F20;&#x503C;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// OC&#x4E2D;&#x521D;&#x59CB;&#x5316;</span><br><span class="line">self.bridge = [WebViewJavascriptBridge bridgeForWebView:self.webView webViewDelegate:self handler:^(id data, WVJBResponseCallback responseCallback) {</span><br><span class="line"></span><br><span class="line">  NSLog(@&quot; data: %@&quot;, data);</span><br><span class="line">  responseCallback(@&quot;back&quot;);</span><br><span class="line"></span><br><span class="line">  }];</span><br><span class="line"></span><br><span class="line">  &#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;</span><br><span class="line"></span><br><span class="line">// JS&#x4E2D;</span><br><span class="line">bridge.send(data, function(responseData) {</span><br><span class="line">  log(&apos;&#xFF3B;&#xFF3B;JS&#x4E2D;&#xFF3D;&#xFF3D; got response&apos;, responseData)</span><br><span class="line">  })</span><br></pre></td></tr></table></figure>
<p>&#x8FD9;&#x6837;&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#xFF0C;&#x5982;&#x56FE;&#xFF1A;<br><img src="/img/JSOC&#x4EA4;&#x4E92;&#x63A2;&#x7D22;001.png" alt=""></p>
</li>
<li><p>OC &#x7ED9; JS &#x4F20;&#x503C;</p>
<p>&#x8FD8;&#x8BB0;&#x5F97;&#x6211;&#x4EEC;&#x7684;&#x90A3;&#x4E2A;btn&#x5417;&#xFF0C;&#x66F4;&#x521A;&#x624D;&#x7684;&#x6B63;&#x597D;&#x76F8;&#x53CD;&#xFF1A;&#x5728;btn&#x65B9;&#x6CD5;&#x4E2D;&#x6DFB;&#x52A0;OC&#xFF0C;&#x800C;&#x5728;JS&#x4E2D;&#x8981;&#x52A0;&#x4E0A;&#x521D;&#x59CB;&#x5316;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// JS&#x4E2D;&#x521D;&#x59CB;&#x5316;</span><br><span class="line">&lt;!-- OC&#x5411;JS&#x53D1;&#x6D88;&#x606F;&#xFF0C;JS&#x4E2D;&#x7684;&#x521D;&#x59CB;&#x5316; --&gt;</span><br><span class="line">&lt;!-- &#x533F;&#x540D;function&#x5BF9;&#x5E94;&#x4E8E;OC&#x4E2D;&#x6240;&#x53D1;&#x6D88;&#x606F; --&gt;</span><br><span class="line">bridge.init(function(message, responseCallback) {</span><br><span class="line">    log(&apos;JS&#x4E2D;&#xFF08;&#x4ECE;OC&#x63A5;&#x6536;&#x7684;&#x6D88;&#x606F;&#xFF09;&apos;, message)</span><br><span class="line">    var data = { &apos;&#xFF3B;&#xFF3B;JS&#x4E2D;&#xFF3D;&#xFF3D;&#x63A5;&#x6536;&#x5230;&#x6D88;&#x606F;&#xFF0C;&#x5E76;&#x56DE;&#x590D;&apos;:&apos;hello &#xFF0C; OC&apos; }</span><br><span class="line">    log(&apos;&#xFF3B;&#xFF3B;JS&#x4E2D;&#xFF3D;&#xFF3D;&#x56DE;&#x590D;&apos;, data)</span><br><span class="line">    responseCallback(data)</span><br><span class="line">})</span><br><span class="line"></span><br><span class="line">&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;</span><br><span class="line"></span><br><span class="line">// OC&#x4E2D;btn</span><br><span class="line">NSLog(@&quot; -- &#x53D1;&#x9001;&#x6D88;&#x606F; --&quot;);</span><br><span class="line">[self.bridge send:@&quot;TED is goooood!&quot; responseCallback:^(id responseData) {</span><br><span class="line">NSLog(@&quot;what we receve: %@ &quot;, responseData);</span><br><span class="line">}];</span><br></pre></td></tr></table></figure>
<p>&#x7ED3;&#x679C;&#xFF1A;</p>
<p><img src="/img/JSOC&#x4EA4;&#x4E92;&#x63A2;&#x7D22;002.png" alt=""></p>
</li>
</ul>
<h4 id="&#x8C03;&#x65B9;&#x6CD5;"><a href="#&#x8C03;&#x65B9;&#x6CD5;" class="headerlink" title="&#x8C03;&#x65B9;&#x6CD5;"></a>&#x8C03;&#x65B9;&#x6CD5;</h4><p>  &#x5148;&#x660E;&#x786E;&#x4E00;&#x70B9;&#xFF0C;&#x5982;&#x679C;JS -&gt; OC, &#x8BF4;&#x660E;OC&#x4E2D;&#x6709;&#x65B9;&#x6CD5;&#xFF0C;&#x53CD;&#x4E4B;&#x4E5F;&#x4E00;&#x6837;</p>
<ul>
<li><p>JS -&gt; OC<br>  &#x6BD4;&#x5982;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// OC&#x4E2D;</span><br><span class="line">[self.bridge registerHandler:@&quot;ZXOCHandler&quot; handler:^(id data, WVJBResponseCallback responseCallback) {</span><br><span class="line"></span><br><span class="line">    NSLog(@&quot;[OC&#x4E2D;]&#xFF0C;JS&#x4F20;&#x6765;&#x7684;&#x6D88;&#x606F;&#xFF1A;%@&quot;, data);</span><br><span class="line"></span><br><span class="line">    [self sendMessage:nil];</span><br><span class="line">    responseCallback(@&quot;[OC&#x4E2D;]&#xFF0C;&#x5DF2;&#x6536;&#x5230;&quot;);</span><br><span class="line">}];</span><br><span class="line"></span><br><span class="line">// JS&#x4E2D;</span><br><span class="line">&lt;!-- JS&#x8C03;&#x65B9;&#x6CD5;&#xFF0C;OC&#x4E2D;&#x5DF2;&#x7ECF;&#x7684;&#x521D;&#x59CB;&#x5316; --&gt;</span><br><span class="line">bridge.callHandler(&apos;ZXOCHandler&apos;, data, function(response) {</span><br><span class="line">    log(&apos;[JS&#x4E2D;&#xFF3D; got response&apos;, response)</span><br><span class="line">})</span><br></pre></td></tr></table></figure>
</li>
<li><p>OC -&gt; JS<br>&#x66F4;&#x6539;OC&#x4E2D;Btn&#x70B9;&#x51FB;&#x7684;&#x65B9;&#x6CD5;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// JS&#x4E2D;&#x521D;&#x59CB;&#x5316;&#x65B9;&#x6CD5;</span><br><span class="line">&lt;!--&#x6CE8;&#x518C; ZXJSHandler &#x65B9;&#x6CD5;--&gt;</span><br><span class="line">bridge.registerHandler(&apos;ZXJSHandler&apos;, function(data, responseCallback) {</span><br><span class="line">  log(&apos;[JS&#x4E2D;]&#xFF0C;ZXJSHandler be called, withPra: %@&apos;, data)</span><br><span class="line">  var backData = {&apos;[JS&#x4E2D;]&apos;:&apos;ZXJSHandler be called&apos;}</span><br><span class="line">  responseCallback(backData)</span><br><span class="line">  log(&apos;[JS&#x4E2D;]&#xFF0C;ZXJSHandler be called, then responding:&apos;, backData)</span><br><span class="line">})</span><br><span class="line"></span><br><span class="line">&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;</span><br><span class="line"></span><br><span class="line">// OC&#x7684;btn&#x4E2D;&#x8C03;&#x65B9;&#x6CD5;</span><br><span class="line">  NSLog(@&quot;-- &#x8C03;&#x7528; ZXJSHandler --&quot;);</span><br><span class="line">  [self.bridge callHandler:@&quot;ZXJSHandler&quot; data:@&quot;&#xFF3B;OC&#x4E2D;&#xFF3D;&#x6765;&#x81EA;OC&#x7684;&#x95EE;&#x5019;&quot; responseCallback:^(id responseData) {</span><br><span class="line">  NSLog(@&quot;ZXJSHandler&#x7684;&#x56DE;&#x590D;&#xFF1A; %@&quot;, responseData);</span><br><span class="line">  }];</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>&#x5C31;&#x6B7B;&#x8FD9;&#x6837;&#x7684;&#x9178;&#x723D;&#xFF0C;&#x5C31;&#x662F;&#x8FD9;&#x6837;&#x7684;&#x5199;&#x610F;&#xFF0C;&#x8FD9;&#x4E9B;&#x8DB3;&#x591F;&#x6EE1;&#x8DB3;&#x65E5;&#x5E38;&#x9700;&#x6C42;&#x4E86;</p>
<p>&#x73B0;&#x5728;&#x56DE;&#x6765;&#x770B;&#xFF0C;&#x5176;&#x5B9E;&#x6240;&#x8C13;&#x7684;&#x901A;&#x4FE1;&#x4F20;&#x503C;&#xFF0C;&#x4E0D;&#x5C31;&#x662F;&#x8C03;&#x7528;&#x5BF9;&#x65B9;&#x7684;init&#x65B9;&#x6CD5;&#x5417;&#xFF1F;&#x6240;&#x4EE5;&#x8BF4;2&#x79CD;&#x5176;&#x5B9E;&#x662F;&#x4E00;&#x56DE;&#x4E8B;&#x513F;</p>
<h3 id="&#x4E00;&#x70B9;&#x513F;&#x542D;"><a href="#&#x4E00;&#x70B9;&#x513F;&#x542D;" class="headerlink" title="&#x4E00;&#x70B9;&#x513F;&#x542D;"></a>&#x4E00;&#x70B9;&#x513F;&#x542D;</h3><p>&#x5728;&#x535A;&#x4E3B;&#x5B9E;&#x9645;&#x4F7F;&#x7528;&#x5F00;&#x53D1;app&#x7684;&#x201C;&#x9080;&#x4F60;&#x6CE8;&#x518C;&#xFF0C;&#x7ED9;&#x4F60;&#x7EA2;&#x5305;&#x201D;&#x6D3B;&#x52A8;&#x529F;&#x80FD;&#x4E2D;&#xFF0C;&#x9047;&#x5230;&#x8FC7;&#x4E00;&#x4E2A;&#x542D;&#x3002;&#x5F53;&#x65F6;&#x540C;&#x6837;&#x7684;&#x524D;&#x7AEF;&#x4EE3;&#x7801;&#xFF0C;&#x5728;android&#x662F;&#x6B63;&#x5E38;&#x7684;&#xFF0C;&#x800C;&#x5728;ios&#x7AEF;&#x65E0;&#x8BBA;&#x5982;&#x4F55;&#x90FD;&#x4E0D;&#x8FD0;&#x884C;&#xFF0C;&#x6216;&#x8005;&#x662F;&#x5076;&#x5C14;&#x6B63;&#x5E38;&#xFF0C;&#x627E;&#x4E86;&#x6240;&#x6709;&#x7684;&#x95EE;&#x9898;</p>
<p>&#x6495;&#x4E86;&#x4E0D;&#x5C11;b</p>
<p>&#x90FD;&#x4E0D;&#x89C9;&#x5F97;&#x6709;&#x95EE;&#x9898;</p>
<p>&#x6700;&#x540E;&#x53D1;&#x73B0;&#x662F;webView&#x7684;&#x673A;&#x5236;&#x95EE;&#x9898;&#xFF0C;webView&#x6253;&#x5F00;&#x4E00;&#x4E2A;url&#x53D1;&#x751F;&#x8DF3;&#x8F6C;&#x65F6;&#xFF0C;&#x8DDF;&#x5B89;&#x5353;&#x4E0D;&#x540C;&#xFF0C;&#x662F;&#x5F02;&#x6B65;&#x7684;&#xFF0C;&#x8FD9;&#x5C31;&#x610F;&#x5473;&#x7740;&#x5982;&#x679C;&#x6709;&#x4E00;&#x6B21;&#x6027;&#x7684;&#x7684;&#x94FE;&#x63A5;&#xFF0C;&#x6BD4;&#x5982;&#x6D3B;&#x52A8;&#x4E2D;&#x751F;&#x547D;&#x5468;&#x671F;&#x552F;&#x4E00;&#x7684;&#x4F18;&#x60E0;&#x7801;&#xFF0C;&#x5982;&#x679C;&#x524D;&#x7AEF;&#x6846;&#x67B6;&#x4E5F;&#x662F;&#x5F02;&#x6B65;&#x7684;&#x5C31;&#x4F1A;&#x53D1;&#x751F;&#x6C38;&#x8FDC;&#x4E5F;&#x62FF;&#x4E0D;&#x5230;&#x552F;&#x4E00;&#x7684;&#x4F18;&#x60E0;&#x7801;&#xFF0C;&#x663E;&#x793A;&#x7684;&#x9519;&#x8BEF;&#x4E3A;&#x5DF2;&#x8FC7;&#x671F;&#x7684;&#x63D0;&#x793A;&#xFF0C;&#x6700;&#x7EC8;&#x8DDF;&#x524D;&#x7AEF;&#x5927;&#x54E5;&#x5546;&#x91CF;&#x4ED6;&#x4FEE;&#x6539;&#x4E86;&#x4EE3;&#x7801;&#xFF0C;&#x624D;&#x641E;&#x597D;</p>
<p>&#x6240;&#x4EE5;&#x1F64F;&#x524D;&#x7AEF;&#x5927;&#x54E5;&#x548C;&#x6D69;&#x54E5;&#x7B49;&#x51E0;&#x4F4D;&#x7684;&#x5927;&#x54E5;&#x7684;&#x8010;&#x5FC3;&#x4E0E;&#x5E2E;&#x52A9;&#xFF0C;&#x6709;&#x4E9B;&#x95EE;&#x9898;&#x771F;&#x4E0D;&#x662F;&#x81EA;&#x5DF1;&#x4E00;&#x4E2A;&#x4EBA;&#x80FD;&#x641E;&#x5B9A;&#x7684;</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/JS-OC/">JS, OC</a>
    </span>
    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2015/06/17/记2次被rejecte的经历－－apple的审核/"><span>记几次被rejecte的经历－－apple的审核</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2015/06/17/记2次被rejecte的经历－－apple的审核/" rel="bookmark">
        <time class="entry-date published" datetime="2015-06-17T10:38:11.000Z">
          2015-06-17
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>&#x8BB0;&#x51E0;&#x6B21;&#x6BD4;&#x8F83;&#x6DF1;&#x523B;&#x7684;&#x88AB;&#x62D2;&#x7ECF;&#x5386;&#xFF1A;</p>
<ul>
<li>&#x4E00;&#x6B21;&#x662F;&#x4F7F;&#x7528;&#x7684;&#x7B2C;&#x4E09;&#x65B9;&#x91CC;&#x9762;&#x5305;&#x542B;&#x4E86;idfa&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x800C;&#x6CA1;&#x6709;&#x5E7F;&#x544A;&#x88AB;&#x62D2;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -r advertisingIdentifier .</span><br></pre></td></tr></table></figure>
<p>&#x67D0;&#x76DF;SDK&#x7684;idf&#x67E5;&#x8BE2;&#x7ED3;&#x679C;</p>
<p><img src="/img/&#x88AB;&#x62D2;&#x7ECF;&#x5386;001.png" alt=""></p>
<p>&#x679C;&#x65AD;&#x6D3B;&#x8BE5;&#x88AB;&#x62D2;&#xFF0C;&#x6362;&#x7528;&#x4E4B;&#x524D;&#x6700;&#x597D;&#x81EA;&#x5DF1;&#x5148;&#x68C0;&#x6D4B;&#xFF0C;&#x6587;&#x6863;&#x5386;&#x6765;&#x90FD;&#x662F;&#x5C4E;&#xFF01;</p>
<ul>
<li>&#x4E00;&#x6B21;&#x662F;app&#x592A;&#x7B80;&#x5355;</li>
</ul>
<p>&#x56E0;&#x4E3A;&#x4F17;&#x6240;&#x5468;&#x77E5;&#x7684;&#x539F;&#x56E0;&#xFF0C;&#x60F3;&#x628A;&#x4E0D;&#x8BE5;&#x7ED9;apple&#x770B;&#x5230;&#x7684;&#x4E1C;&#x897F;&#x9690;&#x85CF;&#x6389;&#xFF0C;&#x7ED3;&#x679C;&#x85CF;&#x591A;&#x4E86;&#xFF0C;&#x5C31;&#x60B2;&#x5267;&#x4E86;</p>
<ul>
<li>&#x8FD8;&#x6709;&#x4E00;&#x6B21;&#x662F;&#x7EBF;&#x4E0B;&#x670D;&#x52A1;&#x5668;&#x51FA;&#x95EE;&#x9898;&#xFF0C;&#x7ED3;&#x679C;&#x597D;&#x6B7B;&#x4E0D;&#x6B7B;&#x51D1;&#x5DE7;&#x88AB;apple&#x770B;&#x5230;&#x4E86;</li>
</ul>
<p>&#x5BF9;&#xFF0C;&#x8BF4;&#x4F60;&#x5462;&#xFF0C;&#x963F;&#x91CC;&#xFF0C;&#x4EBA;&#x5BB6;&#x4E03;&#x626D;&#x53EF;&#x662F;&#x6562;&#x8D54;&#x7684;</p>
<p>&#x2026;<br>&#x5F53;&#x7136;&#x6211;&#x53EF;&#x4E0D;&#x5E0C;&#x671B;&#x8FD9;&#x4E2A;&#x5355;&#x5B50;&#x8D8A;&#x6765;&#x8D8A;&#x957F;&#x2026;</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2015/05/13/algs003-《算法》4th笔记/"><span>algs003-《算法》4th笔记</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2015/05/13/algs003-《算法》4th笔记/" rel="bookmark">
        <time class="entry-date published" datetime="2015-05-13T05:34:38.000Z">
          2015-05-13
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="&#x7B97;&#x6CD5;&#x5206;&#x6790;"><a href="#&#x7B97;&#x6CD5;&#x5206;&#x6790;" class="headerlink" title="&#x7B97;&#x6CD5;&#x5206;&#x6790;"></a>&#x7B97;&#x6CD5;&#x5206;&#x6790;</h2><p>&#x5982;&#x4F55;&#x8BC4;&#x4EF7;&#x4E00;&#x4E2A;&#x7B97;&#x6CD5;&#xFF1F;&#x6211;&#x4EEC;&#x7528;&#x4EC0;&#x4E48;&#x6807;&#x51C6;&#x6765;&#x8BC4;&#x4EF7;&#xFF1F;&#x5177;&#x4F53;&#x662F;&#x600E;&#x6837;&#x5206;&#x6790;&#x7684;&#xFF1F;</p>
<hr>
<ul>
<li>&#x79D1;&#x5B66;&#x7684;&#x65B9;&#x5F0F;&#xFF1F;</li>
</ul>
<blockquote>
<p><strong>Observe</strong> some feature of the natural world, generally with precise measurements</p>
<p><strong>Hypothesize</strong> a model that is consistent with the observations</p>
<p><strong>Predict</strong> events using the hypothesis</p>
<p><strong>Verify</strong> the predictions by making further observations</p>
<p><strong>Validate</strong> by repeating until the hypothesis and observations agree</p>
<p>The experiments we design must be <strong>reproducible</strong> and the <strong>hypotheses</strong> that we formulate must be <strong>falsifiable</strong></p>
</blockquote>
<p>&#x8BBE;&#x8BA1;&#x5B9E;&#x9A8C;&#x53EF;&#x4EE5;&#x91CD;&#x590D;&#x7684;&#xFF0C;&#x7ED3;&#x679C;&#x4E5F;&#x662F;&#x53EF;&#x4EE5;&#x91CD;&#x590D;&#x7684;<br>&#x76F4;&#x89C9;&#x544A;&#x8BC9;&#x6211;&#x4EEC;&#xFF0C;&#x8BA1;&#x7B97;&#x6027;&#x4EFB;&#x52A1;&#x7684;&#x56F0;&#x96BE;&#x7A0B;&#x5EA6;&#x53EF;&#x4EE5;&#x7531;<code>&#x95EE;&#x9898;&#x7684;&#x89C4;&#x6A21;</code>&#x6765;&#x8861;&#x91CF;&#xFF0C;&#x8D8A;&#x662F;&#x89C4;&#x6A21;&#x5927;&#x7684;&#x95EE;&#x9898;&#x6240;&#x9700;&#x65F6;&#x95F4;&#x5C31;&#x8D8A;&#x957F;&#xFF0C;&#x6545;&#x4ECE;&#x63A2;&#x8BA8;&#xFF1A;&#x5982;&#x4F55;&#x5C06;<code>&#x95EE;&#x9898;&#x89C4;&#x6A21;</code>&#x548C;<code>&#x8FD0;&#x884C;&#x65F6;&#x95F4;</code>&#x7684;&#x5173;&#x7CFB;&#x91CF;&#x5316;&#x662F;&#x5F88;&#x5408;&#x9002;&#x7684;&#x8D77;&#x70B9;</p>
<p>&#x4F7F;&#x7528;<code>ThreeSum</code>&#x7A0B;&#x5E8F;&#xFF0C;&#x6839;&#x636E;&#x8F93;&#x5165;&#x95EE;&#x9898;&#x7684;&#x89C4;&#x6A21;&#x6765;&#x5B9E;&#x9A8C;&#xFF1A;<br>&#x731C;&#x6D4B;&#x590D;&#x5408;<code>&#x5E42;&#x51FD;&#x6570;</code>&#x5206;&#x5E03;&#xFF0C;&#x5E76;&#x9884;&#x6D4B;&#x4E86;&#x8DDF;&#x5927;&#x89C4;&#x6A21;&#x7684;&#x7528;&#x65F6;&#xFF0C;&#x901A;&#x8FC7;&#x6BD4;&#x8F83;&#x9A8C;&#x8BC1;&#x4E86;&#x7A0B;&#x5E8F;&#x7684;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x6839;&#x95EE;&#x9898;&#x89C4;&#x6A21;&#x57FA;&#x672C;&#x5448;<code>&#x5E42;&#x51FD;&#x6570;</code>&#x5206;&#x5E03;   </p>
<p>&#x5BF9;&#x4E8E;&#x4E00;&#x6BB5;&#x7A0B;&#x5E8F;&#x5BF9;&#x5176;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x7684;&#x6570;&#x5B66;&#x5EFA;&#x6A21;&#x5F80;&#x5F80;&#x9700;&#x8981;&#x4E00;&#x4E0B;&#x6B65;&#x9AA4;&#xFF1A;</p>
<ul>
<li>&#x786E;&#x5B9A;&#x8F93;&#x5165;&#xFF0C;&#x5B9A;&#x4E49;&#x95EE;&#x9898;&#x89C4;&#x6A21;</li>
<li>&#x8BC6;&#x522B;<code>&#x5185;&#x5FAA;&#x73AF;</code></li>
<li>&#x6839;&#x636E;&#x5185;&#x5FAA;&#x73AF;&#x64CD;&#x4F5C;&#xFF0C;&#x786E;&#x5B9A;&#x6210;&#x672C;&#x6A21;&#x578B;</li>
<li>&#x5BF9;&#x4E8E;&#x7ED9;&#x5B9A;&#x7684;&#x8F93;&#x5165;&#xFF0C;&#x5224;&#x65AD;&#x64CD;&#x4F5C;&#x7684;&#x6267;&#x884C;&#x9891;&#x7387;</li>
</ul>
<h3 id="&#x5E76;&#x67E5;&#x96C6;union-find"><a href="#&#x5E76;&#x67E5;&#x96C6;Union-Find" class="headerlink" title="&#x5E76;&#x67E5;&#x96C6;Union Find"></a>&#x5E76;&#x67E5;&#x96C6;<code>Union Find</code></h3><p><code>&#x5E76;&#x67E5;&#x96C6;</code>&#xFF0C;&#x662F;&#x4E00;&#x79CD;&#x5E38;&#x89C1;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x65B9;&#x5F0F;&#xFF0C;&#x7528;&#x4EE5;&#x89E3;&#x51B3;&#x8BF8;&#x5982;&#x96C6;&#x5408;&#x5408;&#x5E76;&#x67E5;&#x627E;&#x7C7B;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x4E00;&#x5F00;&#x59CB;&#x5E76;&#x4E0D;&#x5173;&#x6CE8;&#x5176;&#x4F7F;&#x7528;<br>&#x8FD8;&#x662F;&#x7167;&#x7740;&#x8001;&#x8DEF;&#x5B50;&#xFF0C;&#x6211;&#x4EEC;&#x8981;&#x4ECE;&#x57FA;&#x672C;&#x7684;&#x6570;&#x636E;&#x5355;&#x5143;&#x5F97;&#x5230;&#x6700;&#x5408;&#x9002;&#x7684;API&#x53CA;&#x5176;&#x5B9E;&#x73B0;</p>
<p>&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x5E03;&#x7EBF;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x4E5F;&#x79F0;&#x4E3A;<code>&#x52A8;&#x6001;&#x8FDE;&#x901A;&#x6027;&#x95EE;&#x9898;</code>&#xFF0C;&#x5982;&#x679C;&#x4E24;&#x4E2A;&#x89E6;&#x70B9;&#x4E4B;&#x95F4;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x8FDE;&#x901A;&#xFF0C;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x5E03;&#x7EBF;&#x4E86;&#xFF0C;&#x4F7F;&#x7528;&#x6570;&#x503C;&#x4EE3;&#x8868;&#x89E6;&#x70B9;&#xFF0C;&#x5E76;&#x6709;&#x4EE5;&#x4E0B;&#x7EA6;&#x5B9A;&#xFF1A;</p>
<ol>
<li>&#x4F7F;&#x7528;0-9&#x6765;&#x4EE3;&#x8868;10&#x4E2A;&#x96C6;&#x5408;&#x7F16;&#x53F7;&#x5E76;&#x4E14;&#x6BCF;&#x4E2A;&#x96C6;&#x5408;&#x5185;&#x7684;&#x5143;&#x7D20;&#x5C31;&#x662F;&#x96C6;&#x5408;&#x53F7;&#x672C;&#x8EAB;&#xFF0D;&#xFF0D;&#x4E5F;&#x5C31;&#x662F;&#x89E6;&#x70B9;</li>
<li>&#x5982;&#x679C;&#x5047;&#x5B9A;&#x96C6;&#x5408;4&#x548C;3&#x62E5;&#x6709;&#x5171;&#x540C;&#x7684;&#x67D0;&#x79CD;&#x5C5E;&#x6027;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x79F0;&#x4E4B;&#x4E3A;&#x96C6;&#x5408;3&#x7B49;&#x540C;&#x4E8E;&#x96C6;&#x5408;4&#xFF0C;&#x4F7F;&#x7528;3&#xFF1D;4&#x6807;&#x8BB0;&#xFF0D;&#xFF0D;&#x5C31;&#x662F;3 4 &#x89E6;&#x7535;&#x8FDE;&#x63A5;</li>
<li>&#x5982;&#x679C;3=4&#xFF0C;&#x540C;&#x65F6;4=5&#xFF0C;5=7&#xFF0C;1=9&#x7684;&#x8BDD;&#xFF0C;&#xFF3B;1 3 4 5 7 9&#xFF3D;&#x53EF;&#x5F52;&#x5E76;&#x4E3A;&#x540C;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#xFF0C;&#x62E5;&#x6709;&#x76F8;&#x540C;&#x7684;&#x96C6;&#x5408;&#x540D;&#x79F0; &#xFF0D;&#xFF0D; &#x89E6;&#x7535;&#x8FDE;&#x63A5;&#x53EF;&#x4F20;&#x9012;</li>
</ol>
<p>&#x7EA6;&#x5B9A;&#x672C;&#x7BC7;&#x4E0D;&#x518D;&#x533A;&#x5206;<code>&#x89E6;&#x70B9;</code>&#x548C;<code>&#x96C6;&#x5408;</code>&#xFF0C;<code>&#x8FDE;&#x901A;</code>&#x548C;<code>&#x5408;&#x5E76;&#xFF0C;&#x5F52;&#x5E76;</code>&#x7B49;&#x672F;&#x8BED;&#xFF0C;&#x8BBE;&#x8BA1;&#x7684;API&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> calss UF &#x7684;API&#xFF1A;</span><br><span class="line">	UF(<span class="keyword">int</span> N)				&#x521D;&#x59CB;&#x5316;<span class="number">0</span> .. N-<span class="number">1</span> &#x5171;N&#x4E2A;&#x96C6;&#x5408;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">union</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span>             	&#x5728;p&#x548C;q&#x8FDE;&#x901A;&#xFF0C;&#x4E5F;&#x53EB;2&#x4E2A;&#x96C6;&#x5408;&#x5408;&#x5E76;</span><br><span class="line">	<span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> p)</span>				&#x67E5;&#x627E;p&#x6240;&#x5728;&#x7684;&#x96C6;&#x5408;&#x7684;&#x7F16;&#x53F7;</span><br><span class="line">	<span class="keyword">boolean</span> <span class="title">connected</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span>		p&#x548C;q&#x662F;&#x5426;&#x8FDE;&#x901A;</span><br><span class="line">	<span class="keyword">int</span> <span class="title">count</span><span class="params">()</span>				&#x8FDE;&#x901A;&#x5206;&#x91CF;&#x6570;&#xFF0C;&#x5C31;&#x662F;&#x96C6;&#x5408;&#x6570;</span></span><br></pre></td></tr></table></figure>
<p>&#x4F7F;&#x7528;&#x6570;&#x7EC4;id[]&#x4F5C;&#x4E3A;&#x57FA;&#x672C;&#x6570;&#x636E;&#x7ED3;&#x6784;&#xFF0C;&#x4E00;&#x5F00;&#x59CB;&#x6709;N&#x4E2A;&#x5206;&#x91CF;&#xFF0C;&#x6BCF;&#x4E2A;&#x89E6;&#x7535;&#x90FD;&#x542B;&#x6709;&#x4E00;&#x4E2A;&#x5206;&#x91CF;&#xFF0C;&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#xFF1A;<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UF</span> </span>{</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span>[] id;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> count;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// &#x521D;&#x59CB;&#x5316;&#xFF1A;N&#x4E2A;&#x5206;&#x91CF;N&#x4E2A;&#x89E6;&#x70B9;&#xFF0C;&#x6BCF;&#x4E2A;&#x89E6;&#x70B9;&#x4E00;&#x4E2A;&#x5206;&#x91CF;</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">UF</span><span class="params">(<span class="keyword">int</span> N)</span> </span>{</span><br><span class="line">		count = N;</span><br><span class="line">		id = <span class="keyword">new</span> <span class="keyword">int</span>[N];</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++) {</span><br><span class="line">			id[i] = i;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">count</span><span class="params">()</span> </span>{<span class="keyword">return</span> count;}</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">connected</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>{</span><br><span class="line">		<span class="keyword">return</span> find(p) == find(q);</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> p)</span>  <span class="comment">// &#x7559;&#x5F85;</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title">union</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> <span class="comment">// &#x7559;&#x5F85;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// &#x6D4B;&#x8BD5;&#x53CA;&#x8F93;&#x51FA;&#x8BF4;&#x660E;</span></span><br><span class="line">	<span class="comment">// &#x8F93;&#x5165;N&#x4E2A;&#x89E6;&#x70B9;&#xFF0C;&#x901A;&#x8FC7;&#x6BCF;&#x961F;&#x6574;&#x6570;&#x8C03;&#x7528;find()&#x65B9;&#x6CD5;&#xFF1A;</span></span><br><span class="line">	<span class="comment">//	 &#x82E5;&#x5DF2;&#x8FDE;&#x901A;&#xFF0C;&#x5FFD;&#x7565;&#xFF1B;</span></span><br><span class="line">	<span class="comment">//	 &#x82E5;&#x4E0D;&#x8FDE;&#x901A;&#xFF0C;&#x5219;&#x8C03;&#x7528;union()&#x65B9;&#x6CD5;&#x8FDE;&#x901A;&#xFF1B;</span></span><br><span class="line">	<span class="comment">// &#x6700;&#x7EC8;&#x8F93;&#x51FA;&#x5404;&#x4E2A;&#x8FDE;&#x901A;&#x5206;&#x91CF;&#x5BF9;&#x548C;&#x603B;&#x5171;&#x7684;&#x8FDE;&#x901A;&#x6570;</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">		<span class="keyword">int</span> N = StdIn.radInt();</span><br><span class="line">		UF uf = <span class="keyword">new</span> NF(N);</span><br><span class="line">		<span class="keyword">while</span>!(StaIn.isEmpty()) {</span><br><span class="line">			<span class="keyword">int</span> p = StdIn.readInt();</span><br><span class="line">			<span class="keyword">int</span> q = StdIn.readInt();</span><br><span class="line">			<span class="keyword">if</span>(uf.connected(p , q)) <span class="keyword">continue</span>; <span class="comment">// &#x8BBF;&#x95EE;2&#x6B21;</span></span><br><span class="line">			uf.union(q,p);</span><br><span class="line">			StdOut.println(p + <span class="string">&quot;&#x8FDE;&#x63A5;&quot;</span> + q);</span><br><span class="line">		}</span><br><span class="line">		StdOut.println(uf.count() + <span class="string">&quot;&#x6761;&#x8FDE;&#x63A5;&quot;</span>);</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<p>&#x5269;&#x4E0B;&#x7684;&#x5C31;&#x5728;&#x4E8E;<code>find()</code>&#x548C;<code>union()</code>&#x7684;&#x5B9E;&#x73B0;&#x4E86;&#xFF0C;&#x800C;&#x5176;&#x4E2D;&#x5F88;&#x591A;&#x5730;&#x65B9;&#x5982;<code>connected()</code>&#x672C;&#x8D28;&#x4E0A;&#x90FD;&#x9700;&#x8981;<code>find()</code>&#x65B9;&#x6CD5;&#xFF0C;&#x6545;&#x5B83;&#x7684;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x4F1A;&#x76F4;&#x63A5;&#x51B3;&#x5B9A;&#x6211;&#x4EEC;&#x7B97;&#x6CD5;&#x7684;&#x6548;&#x7387;&#xFF0C;&#x800C;&#x5404;&#x79CD;&#x67E5;&#x627E;&#x7B97;&#x6CD5;&#x771F;&#x662F;&#x672C;&#x4E66;&#x7684;&#x4E00;&#x5927;&#x7AE0;&#x8282;&#xFF0C;&#x8FD9;&#x7BC7;&#x4E0D;&#x4F1A;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD;&#x7559;&#x5F85;&#x540E;&#x8FB9;&#xFF0C;&#x7531;&#x4E8E;&#x6211;&#x4EEC;&#x7279;&#x6B8A;&#x7684;&#x9650;&#x5B9A;&#xFF08;&#x5373;i&#x5C31;&#x662F;&#x89E6;&#x70B9;&#x540D;&#xFF09;&#x8FD9;&#x91CC;&#x9009;&#x7528;&#x6700;&#x6734;&#x7D20;&#x7684;&#x65B9;&#x5F0F;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;&#x5373;&#x53EF;&#xFF1B; &#x7136;&#x540E;&#x4E0D;&#x59A8;&#x5728;&#x6765;&#x8003;&#x8651;<code>union()</code>&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x7531;&#x4E8E;&#x6211;&#x4EEC;&#x4F7F;&#x7528;id[i]&#x8868;&#x793A;&#x89E6;&#x70B9;&#xFF0C;i&#x4E3A;&#x89E6;&#x70B9;&#x53F7;&#xFF0C;&#x6240;&#x4EE5;&#x5BF9;&#x4E8E;&#x4EFB;&#x610F;&#x7684;&#x4E24;&#x4E2A;&#x89E6;&#x70B9;&#x8FDE;&#x901A;&#x5C31;&#x610F;&#x5473;&#x7740;2&#x4E2A;&#x89E6;&#x70B9;&#x540C;&#x5C5E;&#x4E00;&#x4E2A;&#x89E6;&#x70B9;&#x7684;&#x4E0D;&#x540C;&#x5206;&#x91CF;&#xFF0C;&#x6240;&#x4EE5;&#x5BF9;&#x4E8E;<code>id[x] = id [y] = SetName</code>&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#x89E6;&#x70B9;&#x7684;&#x5F52;&#x5E76;&#xFF0C;&#x5982;&#x679C;&#x82E5;B&#x89E6;&#x70B9;&#x90FD;&#x62E5;&#x6709;&#x591A;&#x4E2A;&#x5206;&#x91CF;&#x503C;&#xFF0C;&#x53EA;&#x8981;B&#x4E2D;&#x6709;&#x4E00;&#x4E2A;&#x5206;&#x91CF;&#x4E0E;A&#x89E6;&#x70B9;&#x8FDE;&#x901A;&#xFF0C;&#x6839;&#x636E;&#x8FDE;&#x901A;&#x4F20;&#x9012;&#x7684;&#x7279;&#x6027;&#xFF0C;&#x90A3;&#x4E48;B&#x4E2D;&#x6240;&#x6709;&#x5206;&#x91CF;&#x90FD;&#x4E0E;A&#x8FDE;&#x901A;&#xFF0C;&#x6545;&#x6709;&#xFF1A;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">union</span><span class="params">(<span class="keyword">int</span> q, <span class="keyword">int</span> p)</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> pID = find(p); <span class="comment">// &#x8BBF;&#x95EE;&#x4E00;&#x6B21;&#x6570;&#x7EC4;</span></span><br><span class="line">	<span class="keyword">int</span> qID = find(q); <span class="comment">// &#x8BBF;&#x95EE;&#x4E00;&#x6B21;&#x6570;&#x7EC4;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// &#x5982;&#x679C;&#x5728;&#x5DF2;&#x7ECF;&#x8FDE;&#x901A;&#xFF0C;&#x5FFD;&#x7565;</span></span><br><span class="line">	<span class="keyword">if</span>(pID == qID) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// &#x5408;&#x5E76;2&#x4E2A;&#x89E6;&#x70B9;&#x7684;&#x6240;&#x6709;&#x5206;&#x91CF;&#xFF0C;&#x5373;&#x8BA9;&#x6240;&#x6709;&#x5206;&#x91CF;&#x540C;&#x540D;</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; id.length; i++ ) { <span class="comment">// &#x904D;&#x5386;&#x4E00;&#x6B21;</span></span><br><span class="line">		<span class="keyword">if</span>(id[i] == pID) id[i] = qID;</span><br><span class="line">	}</span><br><span class="line">	count--;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x76F4;&#x63A5;&#x8FD4;&#x56DE;&#x5373;&#x53EF;</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Int <span class="title">find</span><span class="params">(<span class="keyword">int</span> q)</span> </span>{</span><br><span class="line">	<span class="keyword">return</span> id[q];</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x5B9A;&#x6027;&#x7684;&#x5206;&#x6790;&#x4EE5;&#x4E0B;&#x53EF;&#x77E5;&#xFF0C;find()&#x4E00;&#x6B21;&#x4F1A;&#x8BBF;&#x95EE;&#x6570;&#x7EC4;&#x4E00;&#x6B21;&#xFF0C;&#x6574;&#x4E2A;&#x6D4B;&#x8BD5;&#x4E2D;connected()&#x548C;union()&#x4E2D;&#x53C8;&#x591A;&#x6B21;find,&#x7279;&#x522B;&#x662F;&#x5728;union&#x4E2D;&#x6709;&#x5BF9;&#x6570;&#x7EC4;&#x7684;&#x5B8C;&#x6574;&#x904D;&#x5386;&#x8981;&#x8BBF;&#x95EE;N&#x6B21;&#xFF0C;&#x5982;&#x679C;&#x5168;&#x90E8;&#x89E6;&#x70B9;&#x90FD;&#x8FDE;&#x901A;&#x7684;&#x8BDD;&#xFF0C;&#x5728;main&#x4E2D;&#x53C8;&#x4F1A;&#x6709;N&#x6B21;union(),&#x6240;&#x4EE5;&#x7EFC;&#x5408;&#x6765;&#x770B;&#x52A8;&#x6001;&#x8FDE;&#x901A;&#x6027;&#x95EE;&#x9898;&#x7684;<code>quick&#xFF0D;find</code>&#x7B97;&#x6CD5;&#x4F1A;&#x662F;N^2&#x7EA7;&#x522B;&#x7684;&#x6570;&#x7EC4;&#x8BBF;&#x95EE;&#x6B21;&#x6570;&#xFF0C;&#x5728;&#x5904;&#x7406;&#x5927;&#x578B;&#x6570;&#x636E;&#x65F6;&#x5E76;&#x4E0D;&#x80FD;&#x63A5;&#x53D7;&#xFF0C;&#x662F;&#x5426;&#x8FD8;&#x80FD;&#x63D0;&#x9AD8;&#x5462;&#xFF1F;</p>
<h4 id="quick-union"><a href="#quick-union" class="headerlink" title="quick-union"></a><code>quick-union</code></h4><p>&#x5B83;&#x662F;&#x9488;&#x5BF9;&#x4E8E;&#x4E0A;&#x8FF0;<code>quick-find</code>&#x7684;&#x6539;&#x8FDB;&#xFF0C;&#x5B83;&#x4F7F;&#x7528;&#x7684;&#x5E76;&#x4E0D;&#x662F;&#x5355;&#x7EAF;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x800C;&#x662F;&#x4F7F;&#x7528;<code>&#x6811;</code>&#x7ED3;&#x6784;,&#x4E00;&#x5F00;&#x59CB;&#x6BCF;&#x4E00;&#x4E2A;&#x6811;&#x90FD;&#x53EA;&#x6709;&#x4E00;&#x5C42;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#xFF0C;&#x81EA;&#x7136;&#x81EA;&#x5DF1;&#x8DDF;&#x81EA;&#x5DF1;&#x662F;&#x8FDE;&#x901A;&#x7684;&#xFF1B;&#x5982;&#x679C;p&#x548C;q&#x7684;root&#x8282;&#x70B9;&#x4E0D;&#x540C;&#xFF0C;&#x8868;&#x793A;&#x4E24;&#x8005;&#x4E0D;&#x8FDE;&#x901A;&#xFF0C;&#x5982;&#x679C;&#x4E24;&#x8005;root&#x8282;&#x70B9;&#x76F8;&#x540C;&#x8868;&#x793A;&#x8FDE;&#x901A;&#xFF1B;&#x5982;&#x679C;&#x4E24;&#x4E2A;&#x4E0D;&#x8FDE;&#x901A;&#x7684;&#x6811;&#xFF0C;&#x8C03;&#x7528;union&#x4E4B;&#x540E;&#xFF0C;&#x4F1A;&#x5C06;&#x4E00;&#x4E2A;&#x6811;&#x4F5C;&#x4E3A;&#x53E6;&#x4E00;&#x4E2A;&#x6811;&#x7684;&#x5206;&#x652F;&#xFF0C;&#x5408;&#x5E76;&#x4E3A;&#x62E5;&#x6709;&#x4E00;&#x4E2A;root&#x8282;&#x70B9;&#x7684;&#x5927;&#x6811;&#xFF0C;&#x901A;&#x8FC7;&#x8FD9;&#x4E9B;&#x63CF;&#x8FF0;&#xFF0C;&#x6211;&#x4EEC;&#x6709;&#x4E86;&#x5B9E;&#x73B0;&#xFF1A;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> q)</span></span>{</span><br><span class="line">	<span class="keyword">while</span>( !id[q] == q ) { <span class="comment">// &#x67E5;&#x627E;&#x5206;&#x91CF;&#x540D;</span></span><br><span class="line">		q = id[q];</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span>  q;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">union</span><span class="params">(<span class="keyword">int</span> q, <span class="keyword">int</span> p)</span> </span>{</span><br><span class="line">	<span class="keyword">int</span> pRoot = find(p);</span><br><span class="line">	<span class="keyword">int</span> qRoot = find(q);</span><br><span class="line">	<span class="comment">// &#x5982;&#x679C;&#x8FDE;&#x901A;&#xFF0C;&#x5FFD;&#x7565;&#xFF1B;&#x4E0D;&#x8FDE;&#x901A;&#xFF0C;&#x5C31;&#x8FDE;&#x901A;</span></span><br><span class="line">	<span class="keyword">if</span>(pRoot == qRoot) <span class="keyword">return</span>;</span><br><span class="line">	id[pRoot] = qRoot;</span><br><span class="line">	count--;</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x4E2A;&#x4EBA;&#x5728;&#x7406;&#x89E3;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5012;&#x662F;<code>find()</code>&#x7ED9;&#x6211;&#x9020;&#x6210;&#x4E86;&#x4E9B;&#x56F0;&#x60D1;&#xFF0C;&#x5176;&#x5B9E;&#x9700;&#x8981;&#x7262;&#x8BB0;&#x5148;&#x524D;&#x7684;&#x521D;&#x59CB;&#x5316;&#x662F;&#x7684;&#x4E00;&#x4E2A;&#x7EA6;&#x5B9A;&#xFF0C;&#x4E00;&#x4E2A;&#x89E6;&#x70B9;&#xFF0F;&#x96C6;&#x5408;&#x7684;&#x540D;&#x79F0;&#x7F16;&#x53F7;&#x4E3A;&#x6570;&#x7EC4;&#x7684;i&#xFF0C;&#x800C;&#x96C6;&#x5408;&#x7684;&#x5206;&#x91CF;&#x662F;&#x5728;&#x53D8;&#x52A8;&#x7684;,&#x6CE8;&#x610F;&#x53C2;&#x8003;&#x56FE;&#x793A;<br>&#x5982;&#xFF1A;</p>
<p><img src="file:///Users/YongRen/algs4/1.5.4.png" alt="quick-union"></p>
<p>&#x4F46;&#x662F;&#xFF0C;&#x5BF9;&#x6BD4;<code>quick-find</code>,<code>quick-union</code>&#x771F;&#x7684;&#x597D;&#x5417;&#xFF1F;&#x6211;&#x4EEC;&#x6765;&#x5206;&#x6790;&#x5B83;&#x4EEC;&#x7684;&#x6548;&#x7387;</p>
<p>&#x5BF9;&#x4E8E;&#x524D;&#x8005;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x8FDE;&#x901A;&#x65F6;&#xFF0C;&#x5982;a&#x8FDE;&#x901A;b&#xFF0C;&#x90A3;&#x4E48;&#x7531;&#x4E8E;&#x5E76;&#x4E0D;&#x76F4;&#x5230;&#x6839;b&#x8FDE;&#x901A;&#x7684;&#x5DF2;&#x7ECF;&#x6709;&#x591A;&#x5C11;&#xFF0C;&#x53EA;&#x80FD;&#x904D;&#x5386;&#x6574;&#x4E2A;&#x6570;&#x7EC4;N&#xFF0C;&#x4FDD;&#x8BC1;&#x8BA9;a&#xFF0C;b&#x4EE5;&#x53CA;&#x5404;&#x81EA;&#x8FDE;&#x901A;&#x7684;&#x5206;&#x91CF;&#x90FD;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x540D;&#x79F0;a&#xFF0C;&#x8FD9;&#x6837;&#x5982;&#x679C;&#x6DFB;&#x52A0;&#x4E86;N&#x4E2A;&#x6BCF;&#x4E2A;&#x90FD;&#x8981;N&#x6B21;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x662F;N^2&#x7EA7;&#x522B;&#x7684;</p>
<p>&#x5BF9;&#x4E8E;&#x540E;&#x8005;&#xFF0C;&#x5728;&#x6700;&#x574F;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5373;&#x6309;&#x987A;&#x5E8F;&#x7684;&#x67E5;&#x627E;&#x5982;0&#xFF0D;1&#xFF0C;0&#xFF0D;2&#xFF0C;0-3&#x2026;&#x8FD9;&#x6837;&#x7684;&#x987A;&#x5E8F;&#xFF0C;&#x6700;&#x7EC8;&#x4F1A;&#x5F97;&#x5230;&#x7684;&#x6811;&#x6CA1;&#x6709;&#x5206;&#x652F;&#xFF0C;&#x5C31;&#x662F;&#x4E00;&#x6574;&#x6761;&#x94FE;&#x8868;&#xFF0C;&#x5982;&#x679C;&#x8FD9;&#x65F6;&#x4ECE;&#x94FE;&#x8868;&#x6700;&#x5E95;&#x90E8;&#x7684;&#x5F00;&#x59CB;&#x67E5;&#x8BE2;&#xFF0C;&#x9700;&#x8981;&#x904D;&#x5386;&#x771F;&#x4E2A;&#x6570;&#x7EC4;N&#x7EA7;&#x522B;&#x7684;&#xFF0C;&#x7136;&#x540E;&#x5982;&#x679C;&#x5B8C;&#x6210;&#x5168;&#x90E8;&#x8FDE;&#x901A;&#xFF0C;&#x4E5F;&#x662F;N^2&#x7EA7;&#x522B;&#x7684;<br>&#x4F46;&#x5728;&#x5176;&#x4ED6;&#x60C5;&#x5F62;&#x4E4B;&#x4E0B;&#xFF0C;&#x7531;&#x4E8E;&#x6811;&#x90FD;&#x662F;&#x6709;&#x5206;&#x652F;&#x7684;&#xFF0C;</p>
<p>&#x2026;</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2015/05/03/algs002-《算法》4th笔记/"><span>algs002-《算法》4th笔记</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2015/05/03/algs002-《算法》4th笔记/" rel="bookmark">
        <time class="entry-date published" datetime="2015-05-03T05:32:05.000Z">
          2015-05-03
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="&#x57FA;&#x672C;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x53CA;&#x5176;&#x5B9E;&#x73B0;"><a href="#&#x57FA;&#x672C;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x53CA;&#x5176;&#x5B9E;&#x73B0;" class="headerlink" title="&#x57FA;&#x672C;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x53CA;&#x5176;&#x5B9E;&#x73B0;"></a>&#x57FA;&#x672C;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x53CA;&#x5176;&#x5B9E;&#x73B0;</h2><p>&#x672C;&#x8282;&#x7684;&#x4E3B;&#x8981;&#x95EE;&#x9898;&#x662F;&#xFF1A;&#x5982;&#x4F55;&#x7528;java&#x6765;&#x5B9E;&#x73B0;&#x57FA;&#x7840;&#x6570;&#x636E;&#x7ED3;&#x6784;&#xFF1A;<code>&#x80CC;&#x5305;</code>,<code>&#x961F;&#x5217;</code>,<code>&#x6808;</code>&#xFF1F;</p>
<hr>
<h3 id="&#x5B9A;&#x5BB9;&#x6808;"><a href="#&#x5B9A;&#x5BB9;&#x6808;" class="headerlink" title="&#x5B9A;&#x5BB9;&#x6808;"></a>&#x5B9A;&#x5BB9;&#x6808;</h3><p>&#x9996;&#x5148;&#x4ECE;&#x4E00;&#x4E2A;&#x53EA;&#x80FD;&#x5B58;&#x50A8;String&#x7684;&#x7B80;&#x5355;&#x7684;<code>&#x5B9A;&#x5BB9;&#x6808;</code>&#x7684;&#x8BBE;&#x8BA1;&#x5F00;&#x59CB;&#xFF1A;<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FixedCapacityStackOfStrings</span> </span>{</span><br><span class="line"> <span class="keyword">private</span> String[] a;</span><br><span class="line"> <span class="keyword">private</span> <span class="keyword">int</span> N;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="title">FixedCapacityStackOfStrings</span><span class="params">(<span class="keyword">int</span> cap)</span> </span>{</span><br><span class="line">  a = <span class="keyword">new</span> String[cap];</span><br><span class="line"> }</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>{</span><br><span class="line">  <span class="keyword">return</span> N == <span class="number">0</span>;</span><br><span class="line"> }</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>{</span><br><span class="line">  <span class="keyword">return</span> N;</span><br><span class="line"> }</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(String item)</span> </span>{</span><br><span class="line">  a[N++] = item;</span><br><span class="line"> }</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> String <span class="title">pop</span><span class="params">()</span> </span>{</span><br><span class="line">  <span class="keyword">return</span> a[--N];</span><br><span class="line"> }</span><br><span class="line"></span><br><span class="line"><span class="comment">//&#x6D4B;&#x8BD5;</span></span><br><span class="line"><span class="comment">// &#x8F93;&#x5165;&#xFF1A;to be or not to - be - - that - - - is</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line"></span><br><span class="line">    FixedCapacityStackOfStrings s = <span class="keyword">new</span> FixedCapacityStackOfStrings(<span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(!StdIn.isEmpty()) {</span><br><span class="line">        String item = StdIn.readString();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(!item.equals(<span class="string">&quot;-&quot;</span>)) s.push(item);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(!s.isEmpty()) StdOut.print(s.pop() + <span class="string">&quot; &quot;</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    StdOut.println(<span class="string">&quot; ---- &quot;</span> + s.size() + <span class="string">&quot;left on stack&quot;</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<ul>
<li>&#x5408;&#x60C5;&#x5408;&#x7406;&#x7684;&#x4F7F;&#x7528;&#x4E86;&#x6570;&#x7EC4;&#xFF0C;push&#x5C31;&#x662F;N+1&#xFF0C;pop&#x5C31;&#x662F;&#x2013;N</li>
</ul>
<p>&#x5728;&#x6D4B;&#x8BD5;&#x4E2D;&#x76F4;&#x63A5;new&#x4E86;&#x4E00;&#x4E2A;100&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x5F88;&#x660E;&#x663E;&#x662F;&#x6B20;&#x59A5;&#x7684;,&#x5982;&#x679C;&#x538B;&#x6808;&#x6570;&#x8D85;&#x8FC7;100&#x4E0D;&#x591F;&#x7528;&#xFF0C;&#x4E0D;&#x5230;100&#x53C8;&#x4F1A;&#x592A;&#x8FC7;&#x6D6A;&#x8D39;&#xFF0C;&#x6240;&#x4EE5;&#x5F00;&#x59CB;&#x8FDB;&#x5316;&#x4E3A;&#x201C;&#x53EF;&#x53D8;&#x5BB9;&#x91CF;&#x7684;&#x6808;&#x201D;</p>
<h4 id="&#x5B9A;&#x5BB9;&#x6808;-&#x53EF;&#x53D8;&#x5BB9;&#x6808;"><a href="#&#x5B9A;&#x5BB9;&#x6808;-gt-&#x53EF;&#x53D8;&#x5BB9;&#x6808;" class="headerlink" title="&#x5B9A;&#x5BB9;&#x6808; -&gt; &#x53EF;&#x53D8;&#x5BB9;&#x6808;"></a>&#x5B9A;&#x5BB9;&#x6808; -&gt; &#x53EF;&#x53D8;&#x5BB9;&#x6808;</h4><p>&#x57FA;&#x672C;&#x601D;&#x8DEF;&#xFF1A;&#x5728;push&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x8D85;&#x8FC7;Max&#x5219;&#x6269;&#x5145;&#xFF1B;&#x5982;&#x679C;&#x4E0D;&#x5230;&#x5219;&#x7F29;&#x51CF;Max<br>&#x4F46;&#x662F;java&#x7684;&#x6570;&#x7EC4;&#x5E76;&#x4E0D;&#x652F;&#x6301;&#x76F4;&#x63A5;&#x7684;&#x6269;&#x5145;&#x548C;&#x7F29;&#x51CF;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x9700;&#x8981;&#x5728;&#x8282;&#x70B9;&#x65F6;&#x523B;&#x521B;&#x5EFA;&#x65B0;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x8FD9;&#x91CC;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x65B9;&#x6CD5;&#xFF0C;&#x7136;&#x540E;&#x5BF9;push&#x548C;pop&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x66F4;&#x6539;&#xFF1A;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// &#x5C06; N &lt;= max &#x7684;&#x6808;&#xFF0C;&#x79FB;&#x52A8;&#x5230;&#x4E00;&#x4E2A;&#x5927;&#x5C0F;&#x4E3A;max&#x7684;&#x6570;&#x7EC4;</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">resize</span><span class="params">(<span class="keyword">int</span> max)</span> </span>{</span><br><span class="line">	String[] temp = (String[]) <span class="keyword">new</span> Object[max];</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; I &lt; N; i++) {</span><br><span class="line">		temp[i] = a[i];</span><br><span class="line">	}</span><br><span class="line">	a = temp;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x5982;&#x679C;&#x6808;&#x6EE1;&#xFF0C;&#x6808;&#x5C31;&#x589E;&#x52A0;&#x4E00;&#x500D;</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(String item)</span> </span>{</span><br><span class="line">	<span class="keyword">if</span>(N == a.length) resize(<span class="number">2</span> * N);</span><br><span class="line">	a[N++] = item;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x5982;&#x679C;&#x5F39;&#x6808;&#x4E4B;&#x540E;&#xFF0C;&#x53D1;&#x73B0;&#x88C5;&#x7684;&#x592A;&#x5C11;&#xFF0C;&#x4E0D;&#x8D85;&#x8FC7;&#x5F53;&#x524D;&#x6808;&#x7684;1/4&#xFF0C;&#x6808;&#x7F29;&#x5C0F;&#x4E00;&#x500D;</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String  <span class="title">pop</span><span class="params">()</span> </span>{</span><br><span class="line">	String item = a[--N];</span><br><span class="line">	a[N] = nil;</span><br><span class="line">	<span class="keyword">if</span>(N &gt; <span class="number">0</span> &amp;&amp; N == a.length / <span class="number">4</span>) resize(a.length / <span class="number">2</span>);</span><br><span class="line">	<span class="keyword">return</span> item;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x8FD9;&#x6837;&#x5C31;&#x5B9E;&#x73B0;&#x4E86;&#x6808;&#x7684;&#x5927;&#x5C0F;&#x603B;&#x5904;&#x5728;&#x6700;&#x5408;&#x9002;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x5B8C;&#x6210;&#x4E86;&#x4ECE;<code>&#x5B9A;&#x5BB9;</code>&#x5230;<code>&#x53D8;&#x5BB9;</code>&#x81EA;&#x9002;&#x5E94;&#x7684;&#x8FDB;&#x5316;</p>
<h4 id="string&#x6808;-t&#x6808;"><a href="#String&#x6808;-gt-T&#x6808;" class="headerlink" title="String&#x6808; -&gt; T&#x6808;"></a>String&#x6808; -&gt; T&#x6808;</h4><p>&#x5DF2;&#x7ECF;&#x5F97;&#x5230;&#x4E86;&#x4E00;&#x4E2A;&#x81EA;&#x9002;&#x5E94;&#x7684;String&#x6808;&#xFF0C;&#x4F46;&#x5229;&#x7528;java&#x7684;&#x8303;&#x578B;&#x5C31;&#x80FD;&#x5C06;&#x5176;&#x53D8;&#x4E3A;&#x4E07;&#x80FD;&#x6808;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5C06;String&#x53D8;&#x4E3A;<item></item></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x8303;&#x578B;&#x5316;</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FixedCapacityStackOfStrings</span>&lt;<span class="title">Item</span>&gt; </span>{</span><br><span class="line"><span class="comment">// private String[] a;</span></span><br><span class="line"> <span class="keyword">private</span> Item[] a;</span><br><span class="line"> <span class="keyword">private</span> <span class="keyword">int</span> N;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="title">FixedCapacityStackOfStrings</span><span class="params">(<span class="keyword">int</span> cap)</span> </span>{</span><br><span class="line"> <span class="comment">// a = new String[cap];</span></span><br><span class="line">   a = (Item[]) <span class="keyword">new</span> Object[cap];</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>{</span><br><span class="line">  <span class="keyword">return</span> N == <span class="number">0</span>;</span><br><span class="line"> }</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>{</span><br><span class="line">  <span class="keyword">return</span> N;</span><br><span class="line"> }</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(Item item)</span> </span>{</span><br><span class="line">  a[N++] = item;</span><br><span class="line"> }</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> Item <span class="title">pop</span><span class="params">()</span> </span>{</span><br><span class="line">  <span class="keyword">return</span> a[--N];</span><br><span class="line"> }</span><br><span class="line"></span><br><span class="line"><span class="comment">//&#x6D4B;&#x8BD5;</span></span><br><span class="line"><span class="comment">// &#x8F93;&#x5165;&#xFF1A;to be or not to - be - - that - - - is</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line"></span><br><span class="line">   FixedCapacityStackOfStrings s = <span class="keyword">new</span> FixedCapacityStackOfStrings(<span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(!StdIn.isEmpty()) {</span><br><span class="line">        String item = StdIn.readString();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(!item.equals(<span class="string">&quot;-&quot;</span>)) s.push(item);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(!s.isEmpty()) StdOut.print(s.pop() + <span class="string">&quot; &quot;</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    StdOut.println(<span class="string">&quot; ---- &quot;</span> + s.size() + <span class="string">&quot;left on stack&quot;</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x8FD9;&#x6837;&#x5C31;&#x5B8C;&#x6210;&#x4E86;<code>T&#x6808;</code>&#x7684;&#x8FDB;&#x5316;</p>
<p>=====================================</p>
<p>&#x8865;&#x5145;&#x4E00;&#x4E2A;<code>&#x6808;</code>&#x7684;&#x5177;&#x4F53;&#x4F7F;&#x7528;&#xFF1A;&#x5982;&#x8BA1;&#x7B97;(2 * (2 + 4) - (2 &#xFF0B; 1) &#xFF0F; 2)&#x8FD9;&#x6837;&#x7684;&#x8BA1;&#x7B97;&#xFF0C;&#x662F;&#x5982;&#x4F55;&#x6309;&#x987A;&#x5E8F;&#x5F97;&#x5230;&#x60F3;&#x8981;&#x7684;&#x7ED3;&#x679C;&#x7684;&#xFF1F;</p>
<p>&#x5176;&#x5B9E;&#xFF0C;&#x65E9;&#x5728;60&#x5E74;&#x4EE3;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#x53D1;&#x5C55;&#x4E4B;&#x521D;&#x5C31;&#x6709;&#x524D;&#x8F88;&#x5229;&#x7528;2&#x4E2A;&#x6808;&#x7B80;&#x5355;&#x7684;&#x89E3;&#x51B3;&#x4E86;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF1A;&#x4E00;&#x4E2A;&#x6808;&#x7528;&#x6765;&#x5B58;&#x8FD0;&#x7B97;&#x7B26;&#x53F7;&#xFF0C;&#x4E00;&#x4E2A;&#x6808;&#x7528;&#x6765;&#x653E;&#x6570;&#x503C;&#xFF0C;&#x6839;&#x636E;<code>)</code>&#x6765;&#x533A;&#x9694;&#xFF0C;&#x6CA1;&#x9047;&#x5230;&#x4E00;&#x4E2A;<code>)</code>,&#x8FD0;&#x7B97;&#x7B26;&#x6808;&#x5F39;&#x51FA;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x6570;&#x503C;&#x6808;&#x5F39;&#x51FA;&#x6570;&#x503C;&#x8BA1;&#x7B97;&#x5F97;&#x5230;&#x7ED3;&#x679C;&#xFF0C;&#x518D;&#x5C06;&#x7ED3;&#x679C;&#x5165;&#x6808;&#xFF0C;&#x5982;&#x6B64;&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#x5305;&#x542B;&#x62EC;&#x53F7;&#x4F18;&#x5148;&#x7EA7;&#x7684;&#x8BA1;&#x7B97;</p>
<hr>
<h2 id="&#x94FE;&#x8868;"><a href="#&#x94FE;&#x8868;" class="headerlink" title="&#x94FE;&#x8868;"></a>&#x94FE;&#x8868;</h2><p><code>&#x94FE;&#x8868;</code>: &#x4E00;&#x79CD;&#x7531;<code>node</code>&#x94FE;&#x63A5;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#xFF0C;&#x6BCF;&#x4E2A;<code>node</code>&#x542B;&#x6709;&#x4E00;&#x4E2A;&#x8303;&#x578B;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x548C;&#x4E00;&#x4E2A;&#x53EF;&#x6307;&#x5411;&#x53E6;&#x4E00;&#x8282;&#x70B9;&#x7684;&#x5F15;&#x7528;</p>
<p>&#x56DE;&#x5FC6;&#x5728;&#x4E0A;&#x9762;&#x5904;&#x7406;<code>&#x53EF;&#x53D8;&#x5BB9;&#x6808;</code>&#x65F6;&#xFF0C;&#x7531;&#x4E8E;&#x4F7F;&#x7528;&#x7684;&#x6570;&#x7EC4;&#x5BB9;&#x91CF;&#x4E0D;&#x80FD;&#x968F;&#x610F;&#x53D8;&#x66F4;&#xFF0C;&#x4E3A;&#x6B64;&#x6211;&#x4EEC;&#x4E13;&#x95E8;&#x8BBE;&#x8BA1;&#x4E86;&#x4E00;&#x4E2A;<code>resize()</code>&#x65B9;&#x6CD5;&#xFF0C;&#x800C;&#x94FE;&#x8868;&#x80FD;&#x591F;&#x968F;&#x610F;&#x589E;&#x5220;&#x8282;&#x70B9;&#x7684;&#x7279;&#x6027;&#x5C31;&#x662F;&#x4E13;&#x95E8;&#x89E3;&#x51B3;&#x8FD9;&#x6837;&#x7684;&#x95EE;&#x9898;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>{</span><br><span class="line">	Item item;</span><br><span class="line">	Node next;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x5BF9;&#x4E8E;&#x94FE;&#x8868;&#x7684;&#x5B66;&#x4E60;&#xFF0C;&#x6700;&#x597D;&#x7684;&#x65B9;&#x5F0F;&#x5C31;&#x662F;&#x53EF;&#x89C6;&#x5316;&#x8868;&#x8FBE;&#xFF0C;&#x7559;&#x610F;&#x4E00;&#x4E9B;&#x7279;&#x6B8A;&#x8282;&#x70B9;&#x5E76;&#x719F;&#x7EC3;&#x4EE5;&#x4E0B;&#x64CD;&#x4F5C;&#xFF1A;&#x8868;&#x5934;&#x8282;&#x70B9;&#xFF0C;&#x8868;&#x5C3E;&#x8282;&#x70B9;&#xFF0C;&#x63D2;&#x5165;&#x8282;&#x70B9;&#xFF0C;&#x5220;&#x9664;&#x8282;&#x70B9;&#xFF0C;&#x904D;&#x5386;&#x91CF;&#x8868;&#xFF0C;&#x518D;&#x5F15;&#x7533;&#x5230;&#x53CC;&#x5411;&#x94FE;&#x8868;&#xFF0C;&#x73AF;&#x884C;&#x94FE;&#x8868;&#x7B49;&#x7B49;&#xFF0C;&#x8FD9;&#x4E9B;&#x662F;&#x6211;&#x4EEC;&#x5B9E;&#x73B0;&#x5404;&#x79CD;&#x9AD8;&#x7EA7;&#x7B97;&#x6CD5;&#x7684;&#x57FA;&#x7840;&#xFF0C;&#x4F1A;&#x9010;&#x6E10;&#x90FD;&#x63A5;&#x89E6;&#x5230;</p>
<h4 id="&#x94FE;&#x8868;&#x5B9E;&#x73B0;&#x6808;stack"><a href="#&#x94FE;&#x8868;&#x5B9E;&#x73B0;&#x6808;-Stack" class="headerlink" title="&#x94FE;&#x8868;&#x5B9E;&#x73B0;&#x6808;(Stack)"></a>&#x94FE;&#x8868;&#x5B9E;&#x73B0;<code>&#x6808;(Stack)</code></h4><p>&#x5148;&#x8BA9;&#x6211;&#x4EEC;&#x628A;&#x4E0A;&#x6B21;&#x8BBE;&#x8BA1;&#x7684;<code>&#x6808;</code>&#x6539;&#x4E3A;&#x4F7F;&#x7528;<code>&#x94FE;&#x8868;</code>&#x800C;&#x4E0D;&#x662F;<code>&#x6570;&#x7EC4;</code>&#x6765;&#x5B9E;&#x73B0;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">publci <span class="class"><span class="keyword">class</span> <span class="title">StackDemo</span> </span>{</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> N;	    <span class="comment">// &#x94FE;&#x8868;&#x957F;&#x5EA6;</span></span><br><span class="line">	<span class="keyword">private</span> Node first; <span class="comment">// &#x5934;&#x8282;&#x70B9;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>{</span><br><span class="line">		Item item;</span><br><span class="line">		Node next;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>{</span><br><span class="line">		<span class="keyword">return</span> first == <span class="keyword">null</span>; <span class="comment">// &#x6216;&#x8005; N == 0;</span></span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>{ <span class="keyword">return</span> N; }</span><br><span class="line"></span><br><span class="line">	<span class="comment">// &#x5C31;&#x662F;&#x5728;&#x5934;&#x8282;&#x70B9;&#x524D;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;node</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(Item item)</span> </span>{</span><br><span class="line">		Node oldFirst &#xFF1D; first;</span><br><span class="line">		first = <span class="keyword">new</span> Node();</span><br><span class="line">		first.item = item;</span><br><span class="line">		fisrt.next = oldFirst;</span><br><span class="line">		N++;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="comment">// pop&#x5C31;&#x662F;&#x5220;&#x9664;&#x9996;&#x8282;&#x70B9;</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> Item <span class="title">pop</span><span class="params">()</span> </span>{</span><br><span class="line">		Item item = first.item;</span><br><span class="line">		first = first.next;</span><br><span class="line">		N--;</span><br><span class="line">		<span class="keyword">return</span> item;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="comment">// iterator() &#x7559;&#x5F85;</span></span><br><span class="line">	<span class="comment">// &#x6D4B;&#x8BD5;main&#x6839;&#x539F;&#x6765;&#x76F8;&#x4F3C;</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<ul>
<li><p>&#x4F7F;&#x7528;&#x94FE;&#x8868;&#x80FD;&#x4FDD;&#x8BC1;&#x6808;&#x7684;&#x5927;&#x5C0F;&#x6839;&#x94FE;&#x8868;&#x5206;&#x914D;&#x7684;&#x5927;&#x5C0F;&#x4E00;&#x81F4;&#xFF0C;&#x4E0D;&#x5B58;&#x5728;&#x6D6A;&#x8D39;&#x548C;&#x4E0D;&#x591F;&#x7684;&#x95EE;&#x9898;</p>
</li>
<li><p>&#x53EA;&#x4F7F;&#x7528;first&#x8282;&#x70B9;&#x5C31;&#x8DB3;&#x591F;&#x4E86;&#xFF0C;&#x6808;&#x53EA;&#x6709;&#x4E00;&#x4E2A;IO&#x53E3;&#xFF0C;&#x5BF9;&#x4E8E;&#x94FE;&#x8868;&#x6765;&#x8BF4;&#x64CD;&#x4F5C;first&#x8282;&#x70B9;&#x662F;&#x6700;&#x5BB9;&#x6613;&#x7684;</p>
</li>
</ul>
<h4 id="&#x94FE;&#x8868;&#x5B9E;&#x73B0;&#x961F;&#x5217;quene"><a href="#&#x94FE;&#x8868;&#x5B9E;&#x73B0;&#x961F;&#x5217;-Quene" class="headerlink" title="&#x94FE;&#x8868;&#x5B9E;&#x73B0;&#x961F;&#x5217;(Quene)"></a>&#x94FE;&#x8868;&#x5B9E;&#x73B0;<code>&#x961F;&#x5217;(Quene)</code></h4><p>&#x7136;&#x540E;&#x94FE;&#x8868;&#x6765;&#x5B9E;&#x73B0;<code>&#x961F;&#x5217;(Queue)</code>&#xFF0C;&#x662F;&#x518D;&#x5408;&#x9002;&#x4E0D;&#x8FC7;&#x4E86;&#xFF0C;&#x5165;&#x5217;&#x5C31;&#x662F;&#x6DFB;&#x52A0;last&#x8282;&#x70B9;&#xFF0C;&#x51FA;&#x5217;&#x5C31;&#x662F;first&#x8282;&#x70B9;&#x5220;&#x9664;&#xFF0C;size&#xFF0C;isEmpty&#x7B49;&#x7B49;&#x6839;&#x6808;&#x4E2D;&#x7684;&#x4E00;&#x81F4;&#xFF0C;&#x5C31;&#x4E0D;&#x518D;&#x5199;&#x4E86;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">QueueDemo</span> </span>{</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> N;</span><br><span class="line">	<span class="keyword">private</span> Node first; <span class="comment">// first&#x8282;&#x70B9;</span></span><br><span class="line">	<span class="keyword">private</span> Node last;  <span class="comment">// last&#x8282;&#x70B9;</span></span><br><span class="line">	<span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>{</span><br><span class="line">		Item item;</span><br><span class="line">		Node next;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	...</span><br><span class="line">	<span class="comment">// &#x5165;&#x5217;&#x5C31;&#x662F;&#x5411;last&#x540E;&#x6DFB;&#x52A0;node</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">enquene</span><span class="params">(Item item)</span> </span>{</span><br><span class="line">		Node oldLast = last;</span><br><span class="line">		last = <span class="keyword">new</span> Node();</span><br><span class="line">		last.item = item;</span><br><span class="line">		last.next = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// &#x5982;&#x679C;&#x6E90;&#x94FE;&#x8868;&#x4E3A;&#x7A7A;&#xFF0C;&#x90A3;&#x4E48;first&#x548C;last&#x8282;&#x70B9;&#x662F;&#x540C;&#x4E00;&#x4E2A;&#x8282;&#x70B9;</span></span><br><span class="line">		<span class="keyword">if</span>(isEmptyy()) {</span><br><span class="line">			first = last;</span><br><span class="line">		} <span class="keyword">else</span> {</span><br><span class="line">			oldLast.next = last;</span><br><span class="line">		}</span><br><span class="line">		N++;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="comment">// &#x51FA;&#x961F;&#x5C31;&#x662F;&#x5220;&#x9664;first&#x8282;&#x70B9;</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> Item <span class="title">dequeue</span><span class="params">()</span> </span>{</span><br><span class="line">		Item item = first.item;</span><br><span class="line">		first = first.next;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// &#x5982;&#x679C;&#x5BF9;&#x7A7A;&#x961F;&#x5217;&#x51FA;&#x961F;&#xFF0C;&#x5C31;&#x8BA9;&#x94FE;&#x8868;&#x4E3A;&#x7A7A;</span></span><br><span class="line">		<span class="keyword">if</span>(isEmpty()) {</span><br><span class="line">			last = <span class="keyword">null</span>;</span><br><span class="line">		}</span><br><span class="line">		N--;</span><br><span class="line">		<span class="keyword">return</span> item;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">	<span class="comment">// itetator() &#x7559;&#x5F85;</span></span><br><span class="line">	...</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<ul>
<li>&#x961F;&#x5217;&#x7684;&#x5B9E;&#x73B0;&#x9700;&#x8981;first&#x548C;last&#x4E24;&#x4E2A;&#x8282;&#x70B9;</li>
<li>&#x6CE8;&#x610F;&#x961F;&#x5217;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x65F6;&#xFF0C;<code>first &#xFF1D; last</code></li>
<li>&#x6CE8;&#x610F;&#x961F;&#x5217;&#x4E3A;&#x7A7A;&#x5C31;&#x662F; <code>last &#xFF1D; null</code></li>
</ul>
<h4 id="&#x94FE;&#x8868;&#x5B9E;&#x73B0;&#x80CC;&#x5305;bag"><a href="#&#x94FE;&#x8868;&#x5B9E;&#x73B0;&#x80CC;&#x5305;-Bag" class="headerlink" title="&#x94FE;&#x8868;&#x5B9E;&#x73B0;&#x80CC;&#x5305;(Bag)"></a>&#x94FE;&#x8868;&#x5B9E;&#x73B0;<code>&#x80CC;&#x5305;(Bag)</code></h4><p>&#x80CC;&#x5305;&#x5176;&#x5B9E;&#x6700;&#x7B80;&#x5355;&#x7684;&#x96C6;&#x5408;&#xFF0C;&#x5B83;&#x53EA;&#x652F;&#x6301;&#x6DFB;&#x52A0;&#x548C;&#x67E5;&#x627E;&#xFF0C;&#x4E0D;&#x652F;&#x6301;&#x5220;&#x9664;<br>&#x5176;&#x5B9E;&#x73B0;&#x4E5F;&#x5F88;&#x7B80;&#x5355;&#x57FA;&#x672C;&#x8DDF;<code>&#x6808;</code>&#x76F8;&#x540C;&#xFF0C;&#x53EA;&#x7528;&#x4E00;&#x4E2A;first&#x8282;&#x70B9;&#x5C31;&#x8DB3;&#x591F;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x91CD;&#x70B9;&#x4E0D;&#x5728;&#x5B83;&#x7684;add&#x4E0A;&#xFF0C;&#x800C;&#x5728;&#x4E8E;&#x5BF9;&#x5176;&#x4E2D;&#x5143;&#x7D20;&#x7684;&#x67E5;&#x627E;</p>
<p>&#x5728;java&#x4E2D;&#xFF0C;&#x4F7F;&#x7528;&#x7684;&#x5C31;&#x662F;<code>&#x8FED;&#x4EE3;(Iterator)</code>,&#x5141;&#x8BB8;&#x4F60;&#x4F7F;&#x7528;<code>foreach()</code>&#x8BED;&#x53E5;&#x6765;&#x904D;&#x5386;&#x96C6;&#x5408;&#xFF0C;&#x90A3;&#x8FED;&#x4EE3;&#x5230;&#x5E95;&#x662F;&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x7684;&#x5462;<br>&#xFF1F;</p>
<p>&#x9996;&#x5148;&#x9700;&#x8981;&#x5B9E;&#x73B0;<code>Iterator</code>&#x63A5;&#x53E3;&#xFF1A;&#x5F15;&#x5165;<code>import java.util.Iterator</code>&#x5E76;<code>implement Iterator&lt;Item&gt;</code> &#x5B9E;&#x73B0;&#x5176;&#x6240;&#x6709;&#x65B9;&#x6CD5;</p>
<p>&#x5177;&#x4F53;&#x4EE3;&#x7801;&#x5982;&#xFF1A;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BagDemo</span></span></span><br></pre></td></tr></table></figure>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2015/04/29/329/"><span>tips</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2015/04/29/329/" rel="bookmark">
        <time class="entry-date published" datetime="2015-04-29T12:01:40.000Z">
          2015-04-29
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="tips"><a href="#tips" class="headerlink" title="tips"></a>tips</h2><h3 id="&#x5730;&#x56FE;&#x6548;&#x679C;&#x5B9E;&#x73B0;demo&#x9A8C;&#x8BC1;"><a href="#&#x5730;&#x56FE;&#x6548;&#x679C;&#x5B9E;&#x73B0;&#xFF0C;demo&#x9A8C;&#x8BC1;" class="headerlink" title="&#x5730;&#x56FE;&#x6548;&#x679C;&#x5B9E;&#x73B0;&#xFF0C;demo&#x9A8C;&#x8BC1;"></a>&#x5730;&#x56FE;&#x6548;&#x679C;&#x5B9E;&#x73B0;&#xFF0C;demo&#x9A8C;&#x8BC1;</h3><p> &#x4F7F;&#x7528;scrollView&#xFF0C;&#x5728;&#x7F29;&#x653E;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x901A;&#x8FC7;&#x4EFF;&#x5C04;&#x53C2;&#x6570;&#xFF08;a&#x6216;&#x8005;d&#xFF09;&#x548C;&#x6700;&#x5927;zoom&#x503C;&#x7684;&#x6BD4;&#x4F8B;&#xFF0C;&#x6765;&#x786E;&#x5B9A;percent&#xFF0C;&#x4ECE;&#x800C;&#x8BBE;&#x7F6E;Interaction&#x7684;&#x8FDB;&#x5EA6;&#xFF0C;&#x5B9E;&#x73B0;&#x53CC;&#x624B;&#x634F;&#x5408;&#x7B49;&#x653E;&#x5730;&#x56FE;&#x4EA4;&#x4E92;&#x3002;</p>
<h3 id="&#x9879;&#x76EE;&#x6846;&#x67B6;&#x642D;&#x5EFA;"><a href="#&#x9879;&#x76EE;&#x6846;&#x67B6;&#x642D;&#x5EFA;" class="headerlink" title="&#x9879;&#x76EE;&#x6846;&#x67B6;&#x642D;&#x5EFA;"></a>&#x9879;&#x76EE;&#x6846;&#x67B6;&#x642D;&#x5EFA;</h3><p>&#x51C6;&#x5907;&#x9636;&#x6BB5;&#xFF1A;</p>
<ul>
<li>&#x4E3B;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x6E05;&#x695A;&#xFF08;8&#x6210;&#xFF09;</li>
<li>&#x6570;&#x636E;&#x7EC4;&#x7EC7;&#x5F62;&#x5F0F;&#xFF08;&#x5F85;&#x5B9A;&#xFF09;</li>
<li>&#x6570;&#x636E;&#x6D41;&#x5411;</li>
</ul>
<blockquote>
<p>&#x8BF7;&#x6C42;&#x90E8;&#x5206;&#xFF1A; &#x4ECE;&#x4E1A;&#x52A1;&#x90E8;&#x5206;&#xFF0C;&#x901A;&#x8FC7;&#x7EDF;&#x4E00;&#x63A5;&#x53E3;&#x53D1;&#x9001;&#x8BF7;&#x6C42;</p>
<p>&#x54CD;&#x5E94;&#x90E8;&#x5206;&#xFF1A; &#x4ECE;&#x7F51;&#x7EDC;&#x83B7;&#x53D6;&#x5230;&#x539F;&#x59CB;&#x6570;&#x636E;&#xFF08;JSON&#xFF09;&#xFF0C;&#x7531;Manager&#x5B9E;&#x4F8B;&#x4FDD;&#x7BA1;&#xFF0C;Manager&#x5B9E;&#x73B0;reformManagerData&#x534F;&#x8BAE;&#xFF0C;&#x76F4;&#x63A5;&#x5F97;&#x5230;&#x6700;&#x5408;&#x9002;&#x7684;view&#x9700;&#x8981;&#x7684;&#x5177;&#x4F53;&#x5316;model&#xFF0C;&#x5B9E;&#x73B0;&#x6570;&#x636E;&#x5C55;&#x793A;</p>
</blockquote>
<ul>
<li>&#x5DE5;&#x5177;&#x7C7B;&#x7EC4;&#x5408;&#xFF1A;&#x5305;&#x542B;&#x5206;&#x7C7B;&#x548C;&#x72EC;&#x7ACB;&#x534F;&#x8BAE; &#xFF0B; &#x5E38;&#x7528;&#x5355;&#x5229;</li>
<li>&#x7B2C;&#x4E09;&#x65B9;&#x6846;&#x67B6;&#xFF0C;&#x4EA4;&#x7531;pod&#x7EDF;&#x4E00;&#x7BA1;&#x7406;</li>
</ul>
<h3 id="&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x7684;&#x86CB;&#x75BC;&#x7684;json&#x89E3;&#x6790;&#x539F;&#x6570;&#x636E;"><a href="#&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x7684;&#x86CB;&#x75BC;&#x7684;JSON&#x89E3;&#x6790;&#xFF0C;&#x539F;&#x6570;&#x636E;&#xFF1A;" class="headerlink" title="&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x7684;&#x86CB;&#x75BC;&#x7684;JSON&#x89E3;&#x6790;&#xFF0C;&#x539F;&#x6570;&#x636E;&#xFF1A;"></a>&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x7684;&#x86CB;&#x75BC;&#x7684;JSON&#x89E3;&#x6790;&#xFF0C;&#x539F;&#x6570;&#x636E;&#xFF1A;</h3><p><a href="http://host/index.php?c=recommend_ctrl&amp;m=get_tag_level_page_data" target="_blank" rel="external">http://host/index.php?c=recommend_ctrl&amp;m=get_tag_level_page_data</a><br><img src="/img/329_01.png" alt="&#x5173;&#x7CFB;&#x6811;"></p>
<p>&#x9996;&#x5148;&#x662F;&#x6570;&#x636E;&#x7684;&#x5C42;&#x7EA7;&#x5173;&#x7CFB;&#xFF0C;&#x5B58;&#x50A8;&#x5B57;&#x6BB5;&#x4E3A;tag_level&#xFF0C;&#x53EA;&#x5B58;&#x50A8;&#x5C42;&#x7EA7;&#x5173;&#x7CFB;</p>
<ul>
<li>&#x5176;&#x4E2D;root_tag&#x7684;&#x4E3A;&#x7B2C;&#x4E00;&#x5C42;&#x7EA7;&#x6240;&#x6709;&#x7684;id</li>
<li>&#x4F59;&#x4E0B;&#x4EE5;&#x7B2C;&#x4E00;&#x5C42;id&#x4E3A;key&#xFF0C;&#x5B58;&#x50A8;&#x4E0B;&#x4E00;&#x5C42;&#x7EA7;&#x7684;&#x79D1;&#x76EE;id</li>
</ul>
<p><img src="/img/329_02.png" alt="&#x5173;&#x7CFB;&#x6811;"><br>&#x5177;&#x4F53;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x90FD;&#x5728;tag_meta&#x4E2D;&#xFF0C;&#x5171;93&#x7EC4;&#xFF0C;&#x6BCF;&#x7EC4;&#x7531;id&#x4E3A;key&#xFF0C;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x5B57;&#x5178;</p>
<p>&#x6240;&#x4EE5;&#x9700;&#x8981;<br>&#x7B2C;&#x4E00;&#xFF0C;&#x5C06;tag_meta&#x6240;&#x6709;&#x6570;&#x636E;&#x52A0;&#x8F7D;&#x5230;&#x5185;&#x5B58;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E8E;&#x6839;&#x636E;id&#x53BB;&#x83B7;&#x53D6;&#xFF0C;&#x5E76;&#x4E14;&#x751F;&#x547D;&#x5468;&#x671F;&#x8981;&#x4FDD;&#x6301;&#x81F3;&#x5C11;2&#x4E2A;&#x5C42;&#x7EA7;&#x63A7;&#x5236;&#x5668;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x4ECE;&#x7F51;&#x7EDC;&#x83B7;&#x53D6;&#x7684;&#x539F;&#x59CB;&#x6570;&#x636E;&#x5B57;&#x5178;<br>&#x7B2C;&#x4E8C;&#xFF0C;&#x5BF9;&#x4E8E;&#x6BCF;&#x4E00;&#x4E2A;&#x63A7;&#x5236;&#x5668;itemList&#x4E2D;&#xFF0C;&#x76F4;&#x63A5;&#x53EF;&#x7528;&#x7684;&#x662F;&#x6BCF;&#x5C42;&#x7684;title</p>
<h3 id="uibutton"><a href="#UIButton" class="headerlink" title="UIButton"></a>UIButton</h3><ul>
<li>&#x5728;system&#x4E0B;&#xFF0C;&#x8BBE;&#x7F6E;background&#x65E0;&#x6548;&#xFF0C;&#x800C;&#x8981;&#x66F4;&#x6362;&#x4E3A;custom<br>&#x53E6;&#x5916;&#x7CFB;&#x7EDF;&#x5E76;&#x672A;&#x63D0;&#x4F9B;setBackground&#xFF1A;forState&#x65B9;&#x6CD5;&#xFF0C;&#x6240;&#x4EE5;&#x81EA;&#x5DF1;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x5206;&#x7C7B;&#x5B9E;&#x73B0;&#x4E4B;&#xFF1A;</li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&quot;UIButton+UIButtonColor.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">UIButton</span> (<span class="title">FillColor</span>)</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)setBackgroundColor:(<span class="built_in">UIColor</span> *)backgroundColor forState:(<span class="built_in">UIControlState</span>)state {</span><br><span class="line">    [<span class="keyword">self</span> setBackgroundImage:[<span class="built_in">UIButton</span> imageWithColor:backgroundColor] forState:state];</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">+ (<span class="built_in">UIImage</span> *)imageWithColor:(<span class="built_in">UIColor</span> *)color {</span><br><span class="line">    <span class="built_in">CGRect</span> rect = <span class="built_in">CGRectMake</span>(<span class="number">0.0</span>f, <span class="number">0.0</span>f, <span class="number">1.0</span>f, <span class="number">1.0</span>f);</span><br><span class="line">    <span class="built_in">UIGraphicsBeginImageContext</span>(rect.size);</span><br><span class="line">    <span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">CGContextSetFillColorWithColor</span>(context, [color <span class="built_in">CGColor</span>]);</span><br><span class="line">    <span class="built_in">CGContextFillRect</span>(context, rect);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">UIImage</span> *image = <span class="built_in">UIGraphicsGetImageFromCurrentImageContext</span>();</span><br><span class="line">    <span class="built_in">UIGraphicsEndImageContext</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> image;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<ul>
<li>UIButton&#x7684;&#x8FB9;&#x6846;&#x548C;&#x5012;&#x89D2;,&#x5BF9;<code>layer</code>&#x64CD;&#x4F5C;&#x662F;&#x6700;&#x65B9;&#x4FBF;&#x7684;</li>
</ul>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/tips-开发/">tips, 开发</a>
    </span>
    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2015/04/14/hello-world/"><span>AutoLayout 的时机</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2015/04/14/hello-world/" rel="bookmark">
        <time class="entry-date published" datetime="2015-04-14T03:11:10.000Z">
          2015-04-14
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h6 id="autolayout-by-yongsir"><a href="#AutoLayout-by-YongSir&#x1F1E8;&#x1F1F3;&#x1F1E8;&#x1F1F3;" class="headerlink" title="AutoLayout by YongSir&#x1F1E8;&#x1F1F3;&#x1F1E8;&#x1F1F3;"></a>AutoLayout by YongSir&#x1F1E8;&#x1F1F3;&#x1F1E8;&#x1F1F3;</h6><ul>
<li>&#x89C6;&#x56FE;&#x5E03;&#x5C40;&#x76F8;&#x5173;<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// Called just before the view controller&apos;s view&apos;s layoutSubviews method is invoked. Subclasses can implement as necessary. The default is a nop.</span></span><br><span class="line">- (<span class="keyword">void</span>)viewWillLayoutSubviews;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Called just after the view controller&apos;s view&apos;s layoutSubviews method is invoked. Subclasses can implement as necessary. The default is a nop.</span></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLayoutSubviews;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>&#x8FD9;&#x4E24;&#x4E2A;&#x5728;VC&#x4E2D;&#x65B9;&#x6CD5;&#xFF0C;&#x6B63;&#x5982;&#x5B83;&#x7684;&#x6CE8;&#x91CA;&#x6240;&#x8FF0;&#xFF0C;<strong>&#x4F1A;&#x5728;VC&#x7684;view&#x7684;layoutSubviews&#x88AB;&#x8C03;&#x7528;&#x7684;&#x4E4B;&#x524D;&#x548C;&#x4E4B;&#x540E;&#x88AB;&#x8C03;&#x7528;&#xFF0C;&#x8FD9;&#x4E5F;&#x5C31;&#x662F;&#x4E3A;&#x4EC0;&#x4E48;&#xFF0C;&#x5BF9;&#x4E00;&#x4E9B;&#x6DFB;&#x52A0;&#x5230;view&#x7684;&#x5B50;&#x89C6;&#x56FE;&#x5E03;&#x5C40;&#x4E4B;&#x540E;&#xFF0C;&#x76F4;&#x5230; viewDidLayoutSubviews&#x624D;&#x80FD;&#x5F97;&#x5230;&#x6B63;&#x786E;&#x7684;&#x503C;&#xFF01;</strong></p>
<ul>
<li>PS<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- (void)viewDidLoad</span><br><span class="line">            |</span><br><span class="line">- (void)awakeFromNib</span><br><span class="line">            |</span><br><span class="line">- (void)viewWillAppear:(BOOL)animated</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;viewDidLoad&#x662F;&#x6700;&#x5148;&#x7684;&#xFF0C;&#x5B83;&#x8D1F;&#x8D23;&#x52A0;&#x8F7D;&#x63A7;&#x5236;&#x5668;&#xFF0C;&#x5728;&#x5B83;&#x52A0;&#x8F7D;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x53BB;&#x67E5;&#x770B;view&#xFF0C;&#x5982;&#x679C;&#x4ECE;sb&#x52A0;&#x8F7D;&#x5C31;&#x53BB;&#x5230;awakeFromNib&#x65B9;&#x6CD5;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x663E;&#x793A;&#x4E4B;&#x7C7B;&#x7684;&#xFF0C;&#x77E5;&#x9053;&#x8FD9;&#x4E9B;&#x8FD8;&#x4E0D;&#x591F;&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x77E5;&#x9053;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">111 viewDidload  -- self: &lt;ZXMessgeCentreViewController: 0x1559a7280&gt;, self.view: &lt;UIView: 0x155f12cf0; frame = (0 0; 375 667); autoresize = W+H; layer = &lt;CALayer: 0x155be07a0&gt;&gt;</span><br><span class="line"></span><br><span class="line">222 awake  -- self: &lt;ZXMessgeCentreViewController: 0x1559a7280&gt;, self.view: &lt;UIView: 0x155f12cf0; frame = (0 0; 375 667); autoresize = W+H; layer = &lt;CALayer: 0x155be07a0&gt;&gt;</span><br><span class="line"></span><br><span class="line">333 viewWillAppear -- self: &lt;ZXMessgeCentreViewController: 0x1559a7280&gt;, self.view: &lt;UIView: 0x155f12cf0; frame = (0 0; 375 667); autoresize = W+H; layer = &lt;CALayer: 0x155be07a0&gt;&gt;</span><br></pre></td></tr></table></figure>
<p>&#x4EB2;&#x6D4B;Xcode7 beat &#x4E0B;&#x4ECE;SB&#x6765;&#x7684;view&#x5DF2;&#x7ECF;&#x5E03;&#x5C40;&#xFF0C;&#x548C;viewDidLayoutSubviews&#x4E2D;&#x5BF9;&#x6BD4;&#xFF0C;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x8FDB;&#x4E86;2&#x6B21;&#xFF0C;&#x90FD;&#x662F;&#xFF1A;<br><code>viewDidLayoutSubviews</code> &#x4E2D;&#x7684;<code>view: &lt;UIView: 0x12697d2d0; frame = (0 0; 375 667); autoresize = W+H; layer = &lt;CALayer: 0x126bd2450&gt;&gt;</code></p>
<ul>
<li>PPS</li>
</ul>
<p><strong>&#x5F53;&#x7136;&#x5728;&#x5B9E;&#x9645;&#x4F7F;&#x7528;&#x65F6;&#xFF0C;&#x6700;&#x597D;&#x80FD;&#x8DDF;&#x8E2A;&#x4E00;&#x4E0B;&#x8FD9;&#x51E0;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x786E;&#x5B9A;&#x6700;&#x597D;&#x7684;&#x65F6;&#x673A;</strong></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2015/04/13/AutoLayout-的一个重要概念/"><span>AutoLayout 的一个重要概念</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2015/04/13/AutoLayout-的一个重要概念/" rel="bookmark">
        <time class="entry-date published" datetime="2015-04-13T05:01:40.000Z">
          2015-04-13
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h6 id="autolayout-by-yongsir"><a href="#AutoLayout-by-YongSir&#x1F1E8;&#x1F1F3;&#x1F1E8;&#x1F1F3;" class="headerlink" title="AutoLayout by YongSir&#x1F1E8;&#x1F1F3;&#x1F1E8;&#x1F1F3;"></a>AutoLayout by YongSir&#x1F1E8;&#x1F1F3;&#x1F1E8;&#x1F1F3;</h6><p>&#x5982;&#x679C;&#x4F60;&#x5E38;&#x5E38;&#x4E3A;&#x660E;&#x660E;&#x5199;&#x597D;&#x4E86;&#x81EA;&#x52A8;&#x5E03;&#x5C40;&#x7684;&#x4EE3;&#x7801;&#x800C;&#x5F97;&#x4E0D;&#x5230;&#x60F3;&#x5E94;&#x5F97;&#x6548;&#x679C;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x5728;&#x9700;&#x8981;&#x6309;&#x5185;&#x5BB9;&#x81EA;&#x9002;&#x5E94;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x4F60;&#x9700;&#x8981;&#x77E5;&#x9053;&#x4E00;&#x4E2A;&#x91CD;&#x8981;&#x7684;&#x6982;&#x5FF5;&#x548C;&#x7406;&#x89E3;&#x5404;&#x4E2A;&#x5E03;&#x5C40;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x95EE;&#x9898;</p>
<ul>
<li><p><code>&#x5185;&#x5BB9;&#x7684;&#x538B;&#x7F29;&#x963B;&#x529B;</code>&#x548C;<code>&#x5185;&#x5BB9;&#x5305;&#x88F9;</code></p>
<p>&#x4ECE;StackOverFlow&#x4E0A;&#x7684;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x5F00;&#x59CB;&#xFF0C;&#x8FD8;&#x662F;&#x5EFA;&#x8BAE;&#x5148;&#x770B;&#x539F;&#x6587;&#xFF0C;&#x6BD5;&#x7ADF;&#x597D;&#x591A;&#x8001;&#x5916;&#x7684;&#x8BCD;&#x5E76;&#x4E0D;&#x662F;&#x90A3;&#x4E48;&#x597D;&#x7FFB;&#x8BD1;</p>
<p>what is the content compression  resistance and content hugging of UIView?</p>
<p>Taken from objc.io&#x2019;s excellent Advanced Auto Layout Toolbox article:</p>
<blockquote>
<p><strong>Intrinsic Content Size</strong></p>
<p>The intrinsic content size is the size a view prefers to have for a specific content it displays. For example, UILabel has a preferred height based on the font, and a preferred width based on the font and the text it displays. A UIProgressView only has a preferred height based on its artwork, but no preferred width. A plain UIView has neither a preferred width nor a preferred height.</p>
<p><strong>Compression Resistance and Content Hugging</strong></p>
<p>Each view has content compression resistance priorities and content hugging priorities assigned for both dimensions. These properties only take effect for views which define an intrinsic content size, otherwise there is no content size defined that could resist compression or be hugged.</p>
<p>Behind the scenes, the intrinsic content size and these priority values get translated into constraints. For a label with an intrinsic content size of { 100, 30 }, horizontal/vertical compression resistance priority of 750, and horizontal/vertical content hugging priority of 250, four constraints will be generated:</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">H:[label(&lt;=100@250)]</span><br><span class="line">H:[label(&gt;=100@750)]</span><br><span class="line">V:[label(&lt;=30@250)]</span><br><span class="line">V:[label(&gt;=30@750)]</span><br></pre></td></tr></table></figure>
<p>If you&#x2019;re not familiar with the visual format language for the constraints used above, you can read up about it in Apple&#x2019;s documentation. Keeping in mind that these additional constraints are generated implicitly helps to understand Auto Layout&#x2019;s behavior and to make better sense of its error messages.</p>
<p>Here&#x2019;s another StackOverflow question that addresses the difference between content compression resistance &amp; content hugging: Cocoa Autolayout: content hugging vs content compression resistance priority</p>
<p>Quick summary of the concepts:</p>
<ul>
<li>Hugging =&gt; content does not want to grow</li>
<li>Compression Resistance =&gt; content does not want to shrink</li>
</ul>
<p>and an example:</p>
<p>Say you&#x2019;ve got button like this:</p>
<p>  <code>[      Click Me      ]</code></p>
<p>and you&#x2019;ve pinned the edges to a larger superview with priority 500.</p>
<p>Then, if Hugging priority &gt; 500 it&#x2019;ll look like this:</p>
<p>  <code>[Click Me]</code></p>
<p>If Hugging priority &lt; 500 it&#x2019;ll look like this:</p>
<p>  <code>[      Click Me      ]</code></p>
<p>If superview now shrinks then, if the Compression Resistance priority &gt; 500, it&#x2019;ll look like this</p>
<p>  <code>[Click Me]</code></p>
<p>Else if Compression Resistance priority &lt; 500, it could look like this:</p>
<p>  <code>[Cli..]</code></p>
<p>If it doesn&#x2019;t work like this then you&#x2019;ve probably got some other constraints going on that are messing up your good work!</p>
<p>E.g. you could have it pinned to the superview with priority 1000. Or you could have a width priority. If so, this can be helpful:</p>
<p>Editor &gt; Size to Fit Content</p>
</li>
</ul>
<hr>
<p>&#x5176;&#x5B9E;&#x8BF4;&#x7684;&#x5DF2;&#x7ECF;&#x5F88;&#x8BE6;&#x7EC6;&#x4E86;</p>
<ul>
<li><p><strong>&#x56FA;&#x6709;&#x5185;&#x5BB9;&#x5927;&#x5C0F;</strong></p>
<p>&#x56FA;&#x6709;&#x5185;&#x5BB9;&#x5927;&#x5C0F;&#x662F;&#x6240;&#x663E;&#x793A;&#x5185;&#x5BB9;&#x7684;&#x9996;&#x9009;&#xFF08;&#x6216;&#x8005;&#x4FDD;&#x8BC1;&#x663E;&#x793A;&#x5B8C;&#x6574;&#x7684;&#x6700;&#x5C0F;&#x7A0B;&#x5EA6;&#xFF09;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x6BD4;&#x5982;UILabel&#x7684;&#x56FA;&#x6709;&#x9AD8;&#x5EA6;&#x5C31;&#x662F;&#x5F53;&#x524D;&#x6240;&#x7528;&#x5B57;&#x4F53;&#xFF08;&#x5305;&#x62EC;&#x5B57;&#x578B;&#x548C;&#x5B57;&#x4F53;&#x5927;&#x5C0F;&#xFF09;&#x7684;&#x9996;&#x9009;&#x9AD8;&#x5EA6;&#xFF0C;&#x56FA;&#x6709;&#x5BBD;&#x5EA6;&#x5C31;&#x662F;&#x5F53;&#x524D;&#x5B57;&#x4F53;&#x548C;&#x5185;&#x5BB9;&#x4E00;&#x8D77;&#x51B3;&#x5B9A;&#x7684;&#x9996;&#x9009;&#x5BBD;&#x5EA6;&#x3002;UIProgressView&#x7684;&#x56FA;&#x6709;&#x5185;&#x5BB9;&#x5927;&#x5C0F;&#xFF0C;&#x5C31;&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x9996;&#x9009;&#x7684;&#x4FBF;&#x4E0E;&#x5B8C;&#x6574;&#x663E;&#x793A;&#x8FDB;&#x5EA6;&#x6761;&#x5F62;&#x72B6;&#x7684;&#x56FA;&#x6709;&#x9AD8;&#x5EA6;&#xFF0C;&#x800C;&#x6CA1;&#x6709;&#x4E00;&#x4E2A;&#x9996;&#x9009;&#x7684;&#x5BBD;&#x5EA6;&#x53BB;&#x51B3;&#x5B9A;&#x8981;&#x663E;&#x793A;&#x591A;&#x957F;&#x7684;&#x8FDB;&#x5EA6;&#x3002;&#x4E00;&#x4E2A;&#x4EC0;&#x4E48;&#x90FD;&#x4E0D;&#x663E;&#x793A;&#x7684;&#x7A7A;&#x767D;&#x7684;&#x7B80;&#x6613;&#x7684;view&#x662F;&#x6CA1;&#x6709;&#x9996;&#x9009;&#x5BBD;&#x548C;&#x9AD8;&#x7684;&#x3002;</p>
</li>
<li><p><strong>&#x538B;&#x7F29;&#x963B;&#x529B;</strong> &#x548C; <strong>&#x5185;&#x5BB9;&#x5305;&#x88F9;</strong><br>&#x6BCF;&#x4E00;&#x4E2A;view&#x90FD;&#x5206;&#x914D;&#x597D;&#x7684;&#xFF1A;&#x5185;&#x5BB9;&#x538B;&#x7F29;&#x548C;&#x5185;&#x5BB9;&#x5305;&#x88F9;&#x8FD9;2&#x4E2A;&#x65B9;&#x9762;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;&#x4F18;&#x5148;&#x7EA7;&#x5C5E;&#x6027;&#x4EC5;&#x4EC5;&#x5728;&#x51B3;&#x5B9A;&#x56FA;&#x6709;&#x5927;&#x5C0F;&#x65F6;&#x8D77;&#x4F5C;&#x7528;&#xFF0C;&#x6CA1;&#x6709;&#x5185;&#x5BB9;&#x65F6;&#x662F;&#x4E0D;&#x8D77;&#x4F5C;&#x7528;&#x7684;&#x3002;<br>&#x5728;&#x80CC;&#x540E;&#xFF0C;&#x56FA;&#x6709;&#x5927;&#x5C0F;&#x548C;&#x8FD9;&#x4E24;&#x4E2A;&#x4F18;&#x5148;&#x7EA7;&#x5C5E;&#x6027;&#x503C;&#x4F1A;&#x8F6C;&#x5316;&#x8868;&#x73B0;&#x4E3A;&#x7EA6;&#x675F;&#xFF08;constrains&#xFF09;&#xFF0C;&#x5982;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x663E;&#x793A;&#x7740;&#x56FA;&#x6709;&#x5185;&#x5BB9;&#x5927;&#x5C0F;&#x4E3A;&#xFF5B;100&#xFF0C;30&#xFF5D;&#x7684;UILabel&#x6765;&#x8BF4;&#xFF0C;&#x6C34;&#x5E73;&#x548C;&#x5782;&#x76F4;&#x7684;&#x538B;&#x7F29;&#x963B;&#x529B;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x503C;&#x4E3A;750&#xFF0C;&#x5185;&#x5BB9;&#x5305;&#x88F9;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x4E3A;250&#xFF0C;&#x6240;&#x4EE5;&#x672C;&#x8D28;&#x4E0A;&#x4F1A;&#x8F6C;&#x5316;&#x4E3A;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">H:[label(&lt;=100@250)]</span><br><span class="line">H:[label(&gt;=100@750)]</span><br><span class="line">V:[label(&lt;=30@250)]</span><br><span class="line">V:[label(&gt;=30@750)]</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>&#x5728;&#x5F62;&#x8C61;&#x4E00;&#x4E9B;&#x4E86;&#x89E3;&#x8FD9;&#x4E9B;&#x6982;&#x5FF5;&#xFF1A;</p>
<ul>
<li>&#x5305;&#x88F9;&#xFF08;Hugging&#xFF09; =&gt; &#x5185;&#x5BB9;&#x4E0D;&#x5E0C;&#x671B;&#x518D;&#x589E;&#x5927;</li>
<li>&#x538B;&#x7F29;&#x963B;&#x529B;&#xFF08;Compression Resistance&#xFF09; =&gt; &#x5185;&#x5BB9;&#x4E0D;&#x5E0C;&#x671B;&#x518D;&#x538B;&#x7F29;</li>
</ul>
<p>&#x4E00;&#x4E2A;&#x6709;&#x5F88;&#x5927;&#x7684;&#x7236;&#x89C6;&#x56FE;&#x7684;&#x5C0F;btn&#xFF0C;&#x4E0A;&#x4E0B;&#x5DE6;&#x53F3;&#x8FB9;&#x8DDD;&#x90FD;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x7A7A;&#x9699;&#xFF0C;&#x5E76;&#x4E14;&#x4F18;&#x5148;&#x7EA7;&#x8BBE;&#x4E3A;500</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[       Click Me      ]</span><br></pre></td></tr></table></figure>
<ul>
<li><p>&#x5982;&#x679C;&#x5305;&#x88F9;&#x7684;&#x4F18;&#x5148;&#x7EA7; &gt; 500&#xFF0C;&#x5C31;&#x4F1A;&#x81EA;&#x52A8;&#x5305;&#x88F9;&#xFF0C;&#x53D8;&#x6210;&#x8FD9;&#x6837;:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[Click Me]</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x5982;&#x679C;&#x5305;&#x88F9;&#x7684;&#x4F18;&#x5148;&#x7EA7; &lt; 500&#xFF0C;&#x5C31;&#x4E0D;&#x4F1A;&#x81EA;&#x52A8;&#x5305;&#x88F9;&#xFF0C;&#x7EF4;&#x6301;&#x8FD9;&#x6837;:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[      Click Me      ]</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>&#x5982;&#x679C;&#x7236;&#x89C6;&#x56FE;&#x73B0;&#x5728;&#x538B;&#x7F29;</p>
<ul>
<li><p>&#x5982;&#x679C;&#x538B;&#x7F29;&#x963B;&#x529B;&#x4F18;&#x5148;&#x7EA7; &gt; 500&#xFF0C;&#x4F1A;&#x53D8;&#x6210;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[Click Me]</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x538B;&#x7F29;&#x963B;&#x529B;&#x4F18;&#x5148;&#x7EA7; &lt; 500, it could look like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[Cli..]</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>&#x5982;&#x679C;&#x6CA1;&#x6709;&#x8FD9;&#x4E24;&#x4E2A;&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x5C5E;&#x6027;&#xFF0C;&#x663E;&#x7136;&#x5728;&#x8BBE;&#x7F6E;&#x5E03;&#x5C40;&#x65F6;&#x6211;&#x4EEC;&#x8981;&#x5904;&#x7406;&#x66F4;&#x591A;&#x7684;&#x7EA6;&#x675F;&#xFF01;</p>
<p><strong>&#x6240;&#x4EE5;&#xFF0C;&#x5728;&#x81EA;&#x5DF1;&#x6DFB;&#x52A0;&#x89C6;&#x56FE;&#x7684;&#x7EA6;&#x675F;&#x65F6;&#xFF0C;&#x8981;&#x786E;&#x4FDD;&#x5B50;&#x89C6;&#x56FE;&#x7684;&#x5185;&#x5BB9;&#x538B;&#x7F29;&#x963B;&#x529B;&#x548C;&#x5438;&#x9644;&#x5C5E;&#x6027;&#x7EA6;&#x675F;&#x6CA1;&#x6709;&#x88AB;&#x66F4;&#x9AD8;&#x4F18;&#x5148;&#x7EA7;&#x7684;&#x7EA6;&#x675F;&#x6761;&#x4EF6;&#x8986;&#x76D6;&#x6389;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;&#x5F88;&#x591A;&#x65F6;&#x5019;&#x660E;&#x660E;&#x52A0;&#x4E0A;&#x4E86;&#x7EA6;&#x675F;&#x800C;&#x6CA1;&#x6709;&#x8D77;&#x4F5C;&#x7528;&#x7684;&#x539F;&#x56E0;&#x3002;</strong></p>
<p>E.g. you could have it pinned to the superview with priority 1000. Or you could have a width priority. If so, this can be helpful:<br>Editor &gt; Size to Fit Content</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2015/04/05/algs001/"><span>algs001-《算法》4th笔记</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2015/04/05/algs001/" rel="bookmark">
        <time class="entry-date published" datetime="2015-04-05T07:11:46.000Z">
          2015-04-05
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h6 id="&#x7B97;&#x6CD5;4th&#x7B14;&#x8BB0;"><a href="#&#x300A;&#x7B97;&#x6CD5;&#x300B;4th&#x7B14;&#x8BB0;" class="headerlink" title="&#x300A;&#x7B97;&#x6CD5;&#x300B;4th&#x7B14;&#x8BB0;"></a>&#x300A;&#x7B97;&#x6CD5;&#x300B;4th&#x7B14;&#x8BB0;</h6><h2 id="&#x7B2C;&#x4E00;&#x7AE0;-&#x57FA;&#x7840;"><a href="#&#x7B2C;&#x4E00;&#x7AE0;-&#x57FA;&#x7840;" class="headerlink" title="&#x7B2C;&#x4E00;&#x7AE0; &#x57FA;&#x7840;"></a>&#x7B2C;&#x4E00;&#x7AE0; &#x57FA;&#x7840;</h2><p>  &#x5229;&#x7528;&#x8FD9;&#x6BB5;&#x65F6;&#x95F4;&#xFF0C;&#x501F;&#x52A9;&#x8FD9;&#x672C;&#x5927;&#x4F5C;&#x628A;&#x8BE5;&#x8865;&#x7684;&#x5168;&#x90E8;&#x8865;&#x4E0A;&#x3002;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  &#x672C;&#x4E66;&#x4EE5;Java&#x4E3A;&#x4F8B;,&#x4E00;&#x4E2A;&#x5178;&#x578B;&#x7684;Java&#x7C7B;</span></span><br><span class="line"><span class="function"><span class="keyword">import</span> <span class="title">package</span><span class="params">(packageName)</span></span>;</span><br><span class="line"><span class="keyword">public</span>(optional) <span class="class"><span class="keyword">class</span> <span class="title">ClassName</span> <span class="keyword">extends</span> <span class="title">FatherClass</span> <span class="title">implement</span> <span class="title">InterfaceName</span>&#xFF5B;</span><br><span class="line"></span><br><span class="line">  &#x6784;&#x9020;&#x51FD;&#x6570;&#xFF1B;&#xFF08;&#x9ED8;&#x8BA4;&#x81EA;&#x52A8;&#x521B;&#x5EFA;&#xFF09;</span><br><span class="line"></span><br><span class="line">  <span class="title">static</span> &#x7C7B;&#x53D8;&#x91CF;&#xFF1B;</span><br><span class="line">  <span class="title">static</span> &#x7C7B;&#x65B9;&#x6CD5;&#xFF1B;</span><br><span class="line"></span><br><span class="line">  &#x6210;&#x5458;&#x53D8;&#x91CF;&#xFF1B;&#xFF08;&#x5B9E;&#x4F8B;&#x53D8;&#x91CF;&#xFF09;</span><br><span class="line">  &#x6210;&#x5458;&#x51FD;&#x6570;&#xFF1B;&#xFF08;&#x6210;&#x5458;&#x65B9;&#x6CD5;&#xFF09;</span><br><span class="line">&#xFF5D;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>&#x4ECE;&#x4E00;&#x4E2A;&#x8BA1;&#x6570;&#x5668;&#x7C7B;&#x5F00;&#x59CB; &#xFF0D; Counter<br>&#x5F53;&#x6211;&#x4EEC;&#x58F0;&#x660E;&#x4E00;&#x4E2A;Counter&#x7C7B;&#x578B;&#x7684;&#x53D8;&#x91CF;&#x65F6;&#xFF0C;&#x53D1;&#x751F;&#x4E86;&#x4EC0;&#x4E48;&#xFF1F;</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Counter heads;</span><br></pre></td></tr></table></figure>
<p><em>&#x5BF9;&#x8C61;</em> &#x662F;&#x80FD;&#x627F;&#x63A5;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x7684;&#x503C;&#x7684;&#x5B9E;&#x4F53;&#xFF0C;&#x5177;&#x6709;&#x4EE5;&#x4E0B;&#x4E09;&#x4E2A;&#x7279;&#x5F81;&#xFF1A;<em>&#x72B6;&#x6001;</em> <em>&#x6807;&#x793A;</em> &#x548C; <em>&#x884C;&#x4E3A;</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x5BF9;&#x8C61;&#x7684;&#x72B6;&#x6001;  | &#x6570;&#x636E;&#x7C7B;&#x578B;&#x4E2D;&#x7684;&#x503C;</span><br><span class="line">&#x5BF9;&#x8C61;&#x7684;&#x6807;&#x8BC6;  | &#x80FD;&#x5C06;&#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#x533A;&#x5206;&#xFF0C;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x4F4D;&#x7F6E;</span><br><span class="line">&#x5BF9;&#x8C61;&#x7684;&#x884C;&#x4E3A;  | &#x6570;&#x636E;&#x7C7B;&#x578B;&#x7684;&#x64CD;&#x4F5C;</span><br></pre></td></tr></table></figure>
<p><img src="file:///Users/YongRen/algs4/1.2.1.png" alt="&#x5BF9;&#x8C61;&#x7684;&#x8868;&#x793A;"></p>
<hr>
<p>&#x57FA;&#x7840;&#x90E8;&#x5206;&#x5C31;&#x4E0D;&#x6309;&#x7167;&#x4E66;&#x4E0A;&#x4ECB;&#x7ECD;&#x7684;&#x6765;&#x4E86;&#xFF0C;&#x6709;&#x5176;&#x4ED6;oop&#x7ECF;&#x9A8C;&#xFF0C;&#x5FEB;&#x901F;&#x5165;&#x624B;&#x5206;&#x5C06;&#x4EE5;&#x4E0B;&#x95EE;&#x9898;&#x5404;&#x4E2A;&#x51FB;&#x7834;&#x5373;&#x53EF;&#x5F00;&#x59CB;&#x672C;&#x4E66;&#x7684;&#x9605;&#x8BFB;&#xFF0C;&#x81F3;&#x4E8E;&#x7EE7;&#x627F;&#x591A;&#x6001;&#x6D41;&#x7A0B;&#x63A7;&#x5236;&#x4E4B;&#x7C7B;&#x7684;&#x5C31;&#x4E0D;&#x5E9F;&#x8BDD;&#x4E86;&#xFF1A;</p>
<h3 id="&#x57FA;&#x7840;&#x89C2;&#x611F;"><a href="#&#x57FA;&#x7840;&#x89C2;&#x611F;" class="headerlink" title="&#x57FA;&#x7840;&#x89C2;&#x611F;"></a>&#x57FA;&#x7840;&#x89C2;&#x611F;</h3><h4 id="1-&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x6BD4;&#x76F4;&#x63A5;&#x4E0A;&#x4EE3;&#x7801;&#x7ED9;&#x5408;&#x9002;&#x7684;&#x8BF4;&#x660E;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x4E86;"><a href="#1-&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x6BD4;&#x76F4;&#x63A5;&#x4E0A;&#x4EE3;&#x7801;&#x7ED9;&#x5408;&#x9002;&#x7684;&#x8BF4;&#x660E;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x4E86;&#xFF1A;" class="headerlink" title="1. &#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x6BD4;&#x76F4;&#x63A5;&#x4E0A;&#x4EE3;&#x7801;&#x7ED9;&#x5408;&#x9002;&#x7684;&#x8BF4;&#x660E;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x4E86;&#xFF1A;"></a>1. &#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x6BD4;&#x76F4;&#x63A5;&#x4E0A;&#x4EE3;&#x7801;&#x7ED9;&#x5408;&#x9002;&#x7684;&#x8BF4;&#x660E;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x4E86;&#xFF1A;</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloJava</span> </span>{</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line"></span><br><span class="line">    System.Out.println(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<ul>
<li>&#x6587;&#x4EF6;&#x4FDD;&#x5B58;&#x4E3A; <code>HelloJava.java</code>&#xFF0C;&#x6E90;&#x6587;&#x4EF6;&#x540D;&#x5FC5;&#x987B;&#x548C;&#x7C7B;&#x540D;&#x4E00;&#x81F4;&#x5373; ClassName.java</li>
<li>&#x7F16;&#x8BD1;&#xFF1A;</li>
</ul>
<blockquote>
<p><strong>javac</strong> HelloJava.java</p>
</blockquote>
<p> &#x7F16;&#x8BD1;&#x5B8C;&#x6210;&#xFF0C;&#x5BF9;&#x5E94;&#x76EE;&#x5F55;&#x4E4B;&#x4E0B;&#x751F;&#x6210;<code>HelloJava.class</code>&#x6587;&#x4EF6;</p>
<ul>
<li>&#x8FD0;&#x884C;&#xFF1A;&#x5728;&#x5BF9;&#x5E94;&#x7684;&#x76EE;&#x5F55;&#x4E4B;&#x4E0B;&#x6709;java&#x865A;&#x62DF;&#x673A;&#x8FD0;&#x884C;<code>.class</code>&#x6587;&#x4EF6;</li>
</ul>
<blockquote>
<p><strong>java</strong> HelloJava</p>
</blockquote>
<ul>
<li><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x7A0B;&#x5E8F;&#x5165;&#x53E3;&#x5C31;&#x662F;<code>public static void main(String[] args)</code>&#x65B9;&#x6CD5;</p>
</li>
<li><p>&#x4E00;&#x4E2A;&#x6E90;&#x6587;&#x4EF6;&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x4E2A;<code>Class</code>&#xFF0C;&#x4F46;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;<code>public</code>&#x7684;</p>
</li>
</ul>
<h4 id="2-&#x4FEE;&#x9970;&#x7B26;"><a href="#2-&#x4FEE;&#x9970;&#x7B26;" class="headerlink" title="2. &#x4FEE;&#x9970;&#x7B26;"></a>2. &#x4FEE;&#x9970;&#x7B26;</h4><p>Java&#x4E2D;&#x7684;&#x4FEE;&#x9970;&#x7B26;&#x6839;&#x6240;&#x6709;oop&#x8BBE;&#x8BA1;&#x4E00;&#x6837;&#xFF0C;&#x6709;<code>&#x8BBF;&#x95EE;&#x4FEE;&#x9970;&#x7B26;</code>&#x548C;<code>&#x975E;&#x8BBF;&#x95EE;&#x4FEE;&#x9970;&#x7B26;</code>2&#x79CD;<br>&#x4E3B;&#x8981;&#x8981;&#x8BF4;&#x660E;&#x7684;&#x662F;<code>&#x975E;&#x8BBF;&#x95EE;&#x4FEE;&#x9970;&#x7B26;</code>&#xFF1A;</p>
<p><code>static</code> : &#x9759;&#x6001;&#x53D8;&#x91CF;&#x548C;&#x9759;&#x6001;&#x65B9;&#x6CD5;&#x7684;&#x4FEE;&#x9970;&#x7B26;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x7528;&#x4E8E;&#x521B;&#x5EFA;<code>&#x7C7B;&#x65B9;&#x6CD5;</code>,<code>&#x7C7B;&#x53D8;&#x91CF;</code>&#xFF0C;&#x6240;&#x58F0;&#x660E;&#x81EA;&#x7136;&#x662F;&#x5728;&#x9759;&#x6001;&#x533A;&#xFF0C;&#x4E0D;&#x7BA1;&#x591A;&#x5C11;&#x5BF9;&#x8C61;&#xFF0C;&#x5168;&#x5C40;&#x4E00;&#x4EFD;&#x4E0D;&#x591A;&#x4F59;&#x5206;&#x914D;<br><code>final</code>  : &#x4E0D;&#x540C;&#x60C5;&#x51B5;&#x6709;&#x4E00;&#x4E9B;&#x5DEE;&#x522B;&#xFF0C;&#x4F46;&#x603B;&#x4F53;&#x662F;&#x6709;&#x8868;&#x8FBE;&#x201C;&#x8FD9;&#x662F;&#x65E0;&#x6CD5;&#x6539;&#x53D8;&#x7684;&#x610F;&#x601D;&#x201D;&#xFF0C;&#x7EC6;&#x5FAE;&#x7684;&#x5DEE;&#x522B;&#x5E38;&#x5E38;&#x4EE4;&#x4EBA;&#x56F0;&#x60D1;</p>
<blockquote>
<p>&#x4E09;&#x79CD;&#x4F7F;&#x7528;final&#x7684;&#x60C5;&#x51B5;&#xFF1A;&#x6570;&#x636E;&#xFF0C;&#x65B9;&#x6CD5;&#x548C;&#x7C7B;</p>
<ul>
<li>final &#x6570;&#x636E; - &#x544A;&#x77E5;&#x7F16;&#x8BD1;&#x5668;&#x4E00;&#x5757;&#x6570;&#x636E;&#x662F;&#x6052;&#x5B9A;&#x4E0D;&#x53D8;&#x7684;</li>
</ul>
<p>&#x540C;<code>public + static</code>&#x914D;&#x5408;&#x4F5C;&#x4E3A;&#x5168;&#x5C40;&#x5E38;&#x91CF;&#xFF0C;&#x5E76;&#x4E14;&#x53D8;&#x91CF;&#x540D;&#x8981;&#x5927;&#x5199;&#x548C;&#x521D;&#x59CB;&#x5316;&#xFF0C;eg&#xFF1A;<br><figure class="highlight plain"><figcaption><span>static final PRICE = 0;```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; &#x5982;&#x679C;&#x662F;&#x5BF9;&#x8C61;&#x7684;final&#x4E86;,&#x8868;&#x793A;&#x5F15;&#x7528;&#x7684;&#x6052;&#x5B9A;&#x4E0D;&#x53D8;&#xFF0C;eg&#xFF1A;</span><br><span class="line">&gt; ```java</span><br><span class="line">  final ClassName a = new ClassName();</span><br><span class="line">  a = new ClassName(); // Error: Cannot change reference</span><br></pre></td></tr></table></figure></p>
<ul>
<li>final&#x65B9;&#x6CD5; &#xFF0D; &#x53EF;&#x88AB;&#x7EE7;&#x627F;&#x4F46;&#x4E0D;&#x80FD;&#x4FEE;&#x6539;&#xFF0C;<code>private</code>&#x9ED8;&#x8BA4;&#x4F1A;&#x5E26;&#x4E0A;final</li>
<li>final&#x7C7B; &#xFF0D; &#x7C7B;&#x4E0D;&#x53EF;&#x88AB;&#x7EE7;&#x627F;</li>
</ul>
</blockquote>
<p><code>abstract</code> : &#x62BD;&#x8C61;&#x7684;&#x81EA;&#x8EAB;&#x90FD;&#x4E0D;&#x80FD;&#x5B9E;&#x73B0;&#xFF0C;&#x62BD;&#x8C61;&#x7C7B;&#x4E5F;&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x975E;&#x62BD;&#x8C61;&#x65B9;&#x6CD5;&#xFF0C;&#x4F46;&#x62BD;&#x8C61;&#x65B9;&#x6CD5;&#x6709;&#x4E00;&#x4E2A;&#x90A3;&#x8FD9;&#x4E2A;&#x7C7B;&#x5C31;&#x5FC5;&#x987B;&#x662F;&#x62BD;&#x8C61;&#x7C7B;&#xFF0C;&#x4E00;&#x65E6;&#x5B50;&#x7C7B;&#x7EE7;&#x627F;&#x4E86;&#x5C31;&#x9700;&#x8981;&#x5168;&#x90E8;&#x5B9E;&#x73B0;</p>
<p>&#x8FD8;&#x6709;&#x5176;&#x4ED6;&#x7EBF;&#x7A0B;&#x76F8;&#x5173;&#x7684;&#x4FEE;&#x9970;&#x7B26;&#x6682;&#x4E14;&#x6401;&#x4E0B;</p>
<ul>
<li>&#x7C7B;&#x7684;&#x8BBE;&#x8BA1;&#xFF1A;&#x5982;&#x8BA1;&#x6570;&#x5668;Counter&#x7684;&#x8BBE;&#x8BA1;</li>
</ul>
<h4 id="streamfile&#x53CA;io"><a href="#Stream&#xFF0C;File&#x53CA;IO" class="headerlink" title="Stream&#xFF0C;File&#x53CA;IO"></a>Stream&#xFF0C;File&#x53CA;IO</h4><p>&#x57FA;&#x672C;&#x90FD;&#x5728;<code>Java.io</code>&#x4E2D;</p>
<h4 id="1-&#x63A7;&#x5236;&#x53F0;io-systemin-systemout"><a href="#1-&#x63A7;&#x5236;&#x53F0;IO-&#xFF0D;-System-in-System-out" class="headerlink" title="1 &#x63A7;&#x5236;&#x53F0;IO &#xFF0D; System.in System.out"></a>1 &#x63A7;&#x5236;&#x53F0;IO &#xFF0D; <code>System.in</code> <code>System.out</code></h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IODemo2</span> </span>{</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>{</span><br><span class="line">            <span class="comment">// read() &#x8BFB;&#x53D6;&#x5B57;&#x7B26;</span></span><br><span class="line"><span class="comment">//            IODemo2.charRead();</span></span><br><span class="line">            <span class="comment">// readLine() &#x8BFB;&#x53D6;&#x5B57;&#x7B26;&#x4E32;</span></span><br><span class="line">            IODemo2.stringRead();</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">charRead</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>{</span><br><span class="line">            <span class="keyword">char</span> c;</span><br><span class="line">            BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">            System.out.println(<span class="string">&quot;&#x8BF7;&#x8F93;&#x5165;&#x6587;&#x5B57;&#xFF0C;&#x5E76;&#x4EE5;&apos;q&apos;&#x7ED3;&#x675F;&quot;</span>);</span><br><span class="line">            do {</span><br><span class="line">                    c = (<span class="keyword">char</span>) br.read();</span><br><span class="line">                    System.out.println(c);</span><br><span class="line">            } <span class="keyword">while</span>(c != <span class="string">&apos;q&apos;</span>);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">stringRead</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>{</span><br><span class="line">            String str;</span><br><span class="line">            BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">            System.out.println(<span class="string">&quot;&#x8BF7;&#x8F93;&#x5165;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5E76;&#x4EE5;&#x201C;q&#x201D;&#x7ED3;&#x675F;&quot;</span>);</span><br><span class="line">            do {</span><br><span class="line">                str = br.readLine();</span><br><span class="line">                System.out.println(str);</span><br><span class="line">                } <span class="keyword">while</span>(!str.equals(<span class="string">&quot;q&quot;</span>));</span><br><span class="line">        }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x867D;&#x7136;&#x4E0E;<code>read()</code>&#x5BF9;&#x5E94;&#x7684;&#x662F;<code>write()</code>,&#x4F46;&#x90FD;&#x4E60;&#x60EF;&#x4F7F;&#x7528;&#x66F4;&#x65B9;&#x4FBF;&#x7684;<code>print()</code>&#xFF0C;&#x5F53;&#x7136;&#x8981;&#x662F;&#x786C;&#x8981;&#x7528;<code>System.out.write(&apos;a&apos;)</code>&#x8F93;&#x51FA;&#x5B57;&#x7B26;&#x2018;a&#x2019;&#x7684;&#x8BDD;&#x4E5F;&#x53EF;&#x4EE5;&#x7684;</p>
<h4 id="2-&#x6587;&#x4EF6;io"><a href="#2-&#x6587;&#x4EF6;IO" class="headerlink" title="2 &#x6587;&#x4EF6;IO"></a>2 &#x6587;&#x4EF6;IO</h4><p>&#x6587;&#x4EF6;&#x7684;io,&#x5148;&#x662F;Java&#x4E2D;&#x7CFB;&#x7EDF;&#x6587;&#x4EF6;&#x8BFB;&#x5199;&#x5305;&#xFF0C;&#x8FD8;&#x662F;&#x770B;&#x4F8B;&#x5B50;<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileStreamDemo</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span> <span class="params">(String[] avgs)</span> <span class="keyword">throws</span> IOException </span>{</span><br><span class="line"><span class="comment">//        FileStreamDemo.fileWriter();</span></span><br><span class="line">        FileStreamDemo.fileReader();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x5199;&#x5165;&#x6587;&#x4EF6;</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">fileWriter</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>{</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1 &#x6784;&#x5EFA;FileOutputStream&#x5BF9;&#x8C61;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6587;&#x4EF6;&#x4F1A;&#x81EA;&#x52A8;&#x521B;&#x5EFA;</span></span><br><span class="line">        File f = <span class="keyword">new</span> File(<span class="string">&quot;HelloJava.txt&quot;</span>);</span><br><span class="line">        FileOutputStream fop = <span class="keyword">new</span> FileOutputStream(f);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2 &#x6784;&#x5EFA;&#x6307;&#x5B9A;&#x7F16;&#x7801;&#x7684;OutputStreamWriter</span></span><br><span class="line">        OutputStreamWriter writer = <span class="keyword">new</span> OutputStreamWriter(fop, <span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line"></span><br><span class="line">        writer.append(<span class="string">&quot;&#x8F93;&#x5165;&#x5185;&#x5BB9;&#xFF1A;\r\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">        writer.append(<span class="string">&quot;hello java&#xFF0C;this has been write to file&#xFF01; &quot;</span>);</span><br><span class="line"></span><br><span class="line">        writer.close();</span><br><span class="line">        fop.close();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#x8BFB;&#x6587;&#x4EF6;</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">fileReader</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>{</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1 &#x6784;&#x5EFA;FileInputStream&#x5BF9;&#x8C61;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6587;&#x4EF6;&#x4F1A;&#x81EA;&#x52A8;&#x521B;&#x5EFA;</span></span><br><span class="line">        File f = <span class="keyword">new</span> File(<span class="string">&quot;HelloJava.txt&quot;</span>);</span><br><span class="line">        FileInputStream fip = <span class="keyword">new</span> FileInputStream(f);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2 &#x6784;&#x5EFA;&#x6307;&#x5B9A;&#x7F16;&#x7801;&#x7684;InputStreamReader</span></span><br><span class="line">        InputStreamReader reader = <span class="keyword">new</span> InputStreamReader(fip, <span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3 &#x5199;&#x5165;buffer</span></span><br><span class="line">        StringBuffer sb = <span class="keyword">new</span> StringBuffer();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(reader.ready()) {</span><br><span class="line">            sb.append((<span class="keyword">char</span>)reader.read());</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// &#x6253;&#x5370;</span></span><br><span class="line">        System.out.println(sb.toString());</span><br><span class="line"></span><br><span class="line">        reader.close();</span><br><span class="line"></span><br><span class="line">        fip.close();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">                            &#xFF5C;--</span><br><span class="line">      &#xFF5C;&#xFF0D;&#xFF0D; OutputStream&#xFF0D;&#xFF0D;&#xFF5C;--</span><br><span class="line">      &#xFF5C;                    &#xFF5C;--</span><br><span class="line">      &#xFF5C;</span><br><span class="line">Object</span><br><span class="line">      &#xFF5C;</span><br><span class="line">      &#xFF5C;                    &#xFF5C;--</span><br><span class="line">      &#xFF5C;&#xFF0D;&#xFF0D; InputStream &#xFF0D;&#xFF0D;&#xFF5C; --</span><br><span class="line">                            &#xFF5C;--</span><br></pre></td></tr></table></figure>
<h4 id="3-&#x672C;&#x4E66;&#x4E2D;&#x7684;io"><a href="#3-&#x672C;&#x4E66;&#x4E2D;&#x7684;IO" class="headerlink" title="3 &#x672C;&#x4E66;&#x4E2D;&#x7684;IO"></a>3 &#x672C;&#x4E66;&#x4E2D;&#x7684;IO</h4><p>&#x672C;&#x4E66;&#x4F7F;&#x7528;&#x7684;&#x662F;<strong>Wayne</strong>&#x4E3A;&#x8BFE;&#x7A0B;&#x4E13;&#x95E8;&#x63D0;&#x4F9B;&#x7684;StdIn&#x548C;StdOut&#x4E24;&#x4E2A;&#x5305;&#x4EE5;&#x53CA;<code>In``Out</code>&#x7B49;&#x7C7B;&#xFF0C;&#x90FD;&#x5728;<code>algs4.jar</code>&#x4E2D;&#x5305;&#x542B;<br>&#x63D0;&#x4F9B;&#x7684;&#x5305;&#x7B80;&#x5316;&#x4E86;&#x6587;&#x4EF6;IO&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x53EF;&#x4F7F;&#x7528;&#x547D;&#x4EE4;&#x884C;&#x91CD;&#x5B9A;&#x5411;&#x6307;&#x5B9A;&#x6587;&#x4EF6;&#x7684;&#x8F93;&#x5165;&#x8F93;&#x51FA;,&#x8FD8;&#x53EF;&#x4EE5;&#x7BA1;&#x9053;&#x8F93;&#x5165;&#xFF0C;eg&#xFF1A;<br><img src="file:///Users/YongRen/algs4/1.1.5.png" alt="&#x547D;&#x4EE4;&#x884C;&#x7684;&#x91CD;&#x5B9A;&#x5411;&#x548C;&#x7BA1;&#x9053;"></p>
<p>&#x9700;&#x8981;&#x5176;&#x4ED6;API&#xFF0C;&#x53EF;&#x81EA;&#x884C;&#x67E5;&#x627E;&#xFF0C;&#x4E0B;&#x9762;&#x7ED9;&#x51FA;&#x4E00;&#x4E2A;&#x7528;<code>&#x4E8C;&#x5206;&#x6CD5;</code>,&#x505A;<em>&#x767D;&#x540D;&#x5355;</em>&#x8FC7;&#x6EE4;&#x7684;Demo<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BinarySearch</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * This class should not be instantiated.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">BinarySearch</span><span class="params">()</span> </span>{ }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">indexOf</span><span class="params">(<span class="keyword">int</span>[] a, <span class="keyword">int</span> key)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span> lo = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> hi = a.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (lo &lt;= hi) {</span><br><span class="line">            <span class="keyword">int</span> mid = lo + (hi - lo) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>      (key &lt; a[mid]) hi = mid - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (key &gt; a[mid]) lo = mid + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">return</span> mid;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">rank</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span>[] a)</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> indexOf(a, key);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        <span class="comment">// 1 &#x4ECE;&#x6587;&#x4EF6;&#x8BFB;&#x53D6;&#x6574;&#x6570;&#x653E;&#x5012;&#x6570;&#x7EC4;</span></span><br><span class="line">        In in = <span class="keyword">new</span> In(args[<span class="number">0</span>]);</span><br><span class="line">        <span class="keyword">int</span>[] whitelist = in.readAllInts();   </span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2 &#x6570;&#x7EC4;&#x6392;&#x5E8F;</span></span><br><span class="line">        Arrays.sort(whitelist);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3 &#x4ECE;&#x7EC8;&#x7AEF;&#x8F93;&#x5165;&#x8981;&#x67E5;&#x8BE2;&#x7684;&#x6570;&#x5B57;key&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x5728;&#x767D;&#x540D;&#x5355;&#x4E2D;&#x5C31;&#x8F93;&#x51FA;</span></span><br><span class="line">        <span class="keyword">while</span> (!StdIn.isEmpty()) {</span><br><span class="line">            <span class="keyword">int</span> key = StdIn.readInt();</span><br><span class="line">            <span class="keyword">if</span> (BinarySearch.indexOf(whitelist, key) &lt; <span class="number">0</span>)</span><br><span class="line">                StdOut.println(key);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// - &#x6253;&#x5370;&#x51FA;&#x8F93;&#x5165;&#x7684;&#x5BF9;&#x7167;&#x767D;&#x540D;&#x5355;&#x6587;&#x4EF6;</span></span><br><span class="line">        System.out.printf(<span class="string">&quot; totol length: %d  \n  &quot;</span>, whitelist.length);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; whitelist.length; i ++) {</span><br><span class="line">            System.out.println(whitelist[i]);</span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></table></figure></p>
<ul>
<li><p>&#x5728;&#x7528;&#x5C0F;&#x6570;&#x636E;&#x6D4B;&#x8BD5;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x6253;&#x5370;&#x8F93;&#x51FA;&#xFF0C;&#x8981;&#x662F;&#x5927;&#x6587;&#x4EF6;&#x5C31;&#x522B;&#x4F5C;&#x4E86;</p>
</li>
<li><p>&#x4E8C;&#x5206;&#x6CD5;&#xFF0C;&#x5148;&#x6392;&#x5E8F;&#xFF0C;&#x8FD9;&#x91CC;&#x4F7F;&#x7528;<code>Arrays.sort()</code>&#x6392;&#x5E8F;</p>
</li>
<li><p>&#x67E5;&#x627E;&#x6539;&#x4E3A;&#x4F7F;&#x7528;<code>&#x9012;&#x5F52;</code>&#xFF0C;&#x770B;&#x8D77;&#x6765;&#x4F1A;&#x66F4;&#x52A0;&#x7B80;&#x6D01;&#x548C;&#x4F18;&#x96C5;&#xFF0C;&#x6545;&#x5C06;&#x73B0;&#x6709;&#x7684;<code>rank()</code>&#x51FD;&#x6570;&#x66FF;&#x6362;&#x4E3A;&#xFF1A;</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">rank</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span>[] a)</span> </span>{</span><br><span class="line">    <span class="keyword">return</span> rank(key, a, <span class="number">0</span>, a.length -<span class="number">1</span>);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">rank</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span>[] a, <span class="keyword">int</span> lo, <span class="keyword">int</span> hi)</span> </span>{</span><br><span class="line">  <span class="keyword">if</span> (lo &gt; hi) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">int</span> mid = lo + (hi - lo) / <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">if</span> (key &lt; a[mid])      <span class="keyword">return</span> rank(key , a, lo, mid - <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (key &gt; a[mid]) <span class="keyword">return</span> rank(key, a, mid - <span class="number">1</span>, hi);</span><br><span class="line">  <span class="keyword">else</span>                   <span class="keyword">return</span> a[mid];</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p><em>&#x9012;&#x5F52;&#x5C31;&#x662F;&#x6570;&#x5B66;&#x5F52;&#x7EB3;&#x6CD5;</em>,&#x5E76;&#x4E14;&#xFF1A;</p>
<blockquote>
<p>&#x9012;&#x5F52;&#x603B;&#x8981;&#x6709;&#x6700;&#x7B80;&#x5355;&#x7684;&#x60C5;&#x51B5;</p>
<p>&#x9012;&#x5F52;&#x603B;&#x662F;&#x8D8B;&#x8FD1;&#x4E8E;&#x4E00;&#x4E2A;&#x66F4;&#x52A0;&#x7B80;&#x5355;&#x7684;&#x60C5;&#x51B5;</p>
<p>&#x9012;&#x5F52;&#x5D4C;&#x5957;&#x65F6;&#xFF0C;&#x5404;&#x4E2A;&#x5B50;&#x95EE;&#x9898;&#x4E0D;&#x80FD;&#x6839;&#x7236;&#x95EE;&#x9898;&#x4E0D;&#x80FD;&#x6709;&#x4EA4;&#x96C6;</p>
</blockquote>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2015/03/17/CoreData-四/"><span>CoreData(四)</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2015/03/17/CoreData-四/" rel="bookmark">
        <time class="entry-date published" datetime="2015-03-17T01:31:31.000Z">
          2015-03-17
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h6 id="coredata-and-swift-by-yongsir"><a href="#CoreData-and-Swift-by-YongSir&#x1F1E8;&#x1F1F3;&#x1F1E8;&#x1F1F3;" class="headerlink" title="CoreData and Swift by YongSir&#x1F1E8;&#x1F1F3;&#x1F1E8;&#x1F1F3;"></a>CoreData and Swift by YongSir&#x1F1E8;&#x1F1F3;&#x1F1E8;&#x1F1F3;</h6><p>&#x5B9E;&#x9645;&#x4F7F;&#x7528;&#x4E2D;&#xFF0C;&#x4F7F;&#x7528;tableView&#x6765;&#x5C55;&#x793A;&#x6570;&#x636E;&#x662F;&#x5982;&#x6B64;&#x7684;&#x666E;&#x904D;&#xFF0C;&#x4EE5;&#x81F3;&#x4E8E;&#x5B98;&#x65B9;&#x9488;&#x5BF9;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x65B9;&#x4FBF;&#x7684;&#x5C55;&#x73B0;&#x505A;&#x4E86;&#x5C01;&#x88C5;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x8FD9;&#x4E00;&#x7BC7;&#x7684;&#x4E3B;&#x8981;&#x76EE;&#x7684;&#xFF0D;&#xFF0D;NSFetchedResultsController&#x3002;</p>
<p>In fact, they saw so much potential for a close connection between UITableView and Core Data that they penned a class to formalize this bond: NSFetchedResultsController.</p>
<p>As the name suggests, NSFetchedResultsController is a controller, but it is not a view controller. It has no user interface. Its purpose is to make developers&#x2019; lives easier by abstracting away much of the code needed to synchronize a table view with a data source backed by Core Data.</p>
<p>Set up an NSFetchedResultsController correctly, and your table will &#x201C;magically&#x201D; mimic its data source without you have to write more than a few lines of code.</p>
<p><em>&#xFF08;&#x5C31;&#x50CF; NSFetchedResultsController &#x7684;&#x540D;&#x79F0;&#xFF0C;&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x63A7;&#x5236;&#x5668;&#x4F46;&#x4E0D;&#x662F;view&#x7684;&#x63A7;&#x5236;&#x5668;&#xFF0C;&#x53EA;&#x662F;&#x4FBF;&#x4E8E;&#x6570;&#x636E;&#x548C;tableView&#x5173;&#x8054;&#x7684;&#x62BD;&#x8C61;&#x7684;&#x5C01;&#x88C5;&#x4EE3;&#x7801;&#xFF0C;&#x8BA9;&#x4F60;&#x77ED;&#x77ED;&#x51E0;&#x884C;&#x4EE3;&#x7801;&#xFF0C;&#x5C31;&#x80FD;&#x201C;&#x9B54;&#x6CD5;&#x822C;&#x7684;&#x201D;&#x8BA9;coreData&#x6570;&#x636E;&#x6E90;&#x5316;&#xFF09;</em></p>
<p>&#x6211;&#x4EEC;&#x501F;&#x7528;&#x4E00;&#x4E2A;WorldCup &#x7684;Demo&#x6765;&#x6F14;&#x7EC3;&#xFF1A;Demo&#x6A21;&#x62DF;&#x7403;&#x961F;&#x7684;&#x79EF;&#x5206;&#xFF0C;tap&#x4E00;&#x6B21;&#x4EE3;&#x8868;&#x52A0;&#x4E00;&#x5206;&#xFF0C;&#x5F97;&#x5206;&#x6700;&#x9AD8;&#x7684;&#x5C31;&#x662F;winner&#x3002;</p>
<hr>
<p>&#x9996;&#x5148;&#x662F;&#xFF0C;&#x521B;&#x5EFA;&#x548C;&#x8BBE;&#x7F6E;NSFetchedResultsController&#xFF0C;&#x4F7F;&#x7528;&#x552F;&#x4E00;&#x7684;&#x4E00;&#x4E2A;&#x521D;&#x59CB;&#x5316;&#x65B9;&#x6CD5;&#xFF1A;</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">// MARK:&#x8BBE;&#x7F6E;fetchedResultsController</span></span><br><span class="line">  <span class="comment">// handles the coordination between Core Data and your table view</span></span><br><span class="line">  <span class="comment">// requires at least one sort descriptor.Note that how would it know the right order for table view</span></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">setFetchController</span><span class="params">()</span></span> {</span><br><span class="line">     <span class="comment">// 1 &#x521B;&#x5EFA;&#x8BF7;&#x6C42; &#xFF0B; &#x6307;&#x5B9A;&#x6392;&#x5E8F;</span></span><br><span class="line">     <span class="keyword">let</span> fetchRequset = <span class="type">NSFetchRequest</span>(entityName: <span class="string">&quot;Team&quot;</span>)</span><br><span class="line">     <span class="keyword">let</span> sortDescriptor = <span class="type">NSSortDescriptor</span>(key: <span class="string">&quot;teamName&quot;</span>, ascending: <span class="literal">true</span>)</span><br><span class="line">     fetchRequset.sortDescriptors = [sortDescriptor]</span><br><span class="line"></span><br><span class="line">     <span class="comment">// 2 fetch&#x63A7;&#x5236;&#x5668;&#x7684;&#x5B9E;&#x4F8B;&#x8BDD;&#x4ECD;&#x7136;&#x4F9D;&#x8D56;&#x4E8E; NSFetchRequest &#x548C; context&#x4E0A;&#x4E0B;&#x6587;</span></span><br><span class="line">     fetchedResultsController = <span class="type">NSFetchedResultsController</span>(fetchRequest: fetchRequset, managedObjectContext: coreDataStack.context, sectionNameKeyPath: <span class="literal">nil</span>, cacheName: <span class="literal">nil</span>)</span><br><span class="line"></span><br><span class="line">     <span class="comment">// 3 &#x63A7;&#x5236;&#x5668;&#x6267;&#x884C;&#x83B7;&#x53D6; &#xFF0D;&#xFF0D;performFetch &amp;&amp; &#x9519;&#x8BEF;&#x5904;&#x7406;</span></span><br><span class="line">     <span class="keyword">do</span> {</span><br><span class="line">          <span class="keyword">try</span> fetchedResultsController.performFetch()</span><br><span class="line">     } <span class="keyword">catch</span> <span class="keyword">let</span> error <span class="keyword">as</span> <span class="type">NSError</span> {</span><br><span class="line">          <span class="built_in">print</span>(<span class="string">&quot;Error:\(error.localizedDescription)&quot;</span>)</span><br><span class="line">     }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x7279;&#x522B;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;FetchedResultsController&#x662F;&#x4F9D;&#x8D56;&#x4E8E;&#x666E;&#x901A;&#x7684;NSFetchRequest&#x7684;&#xFF0C;&#x5E76;&#x4E14;&#x8FD9;&#x4E2A;request&#x81F3;&#x5C11;&#x9700;&#x8981;&#x6307;&#x5B9A;&#x4E00;&#x79CD;sort&#xFF0C;&#x5426;&#x5219;&#x5C31;&#x4F1A;&#x62A5;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&apos;NSInvalidArgumentException&apos;, reason: &apos;An instance of NSFetchedResultsController requires a fetch request with sort descriptors&apos;</span><br></pre></td></tr></table></figure>
<p>&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;fetchResultsController&#x8FD8;&#x5C06;fetch&#x5230;&#x7684;&#x7ED3;&#x679C;&#x5C01;&#x88C5;&#x5728;&#x4E86;fetchObjects&#x5C5E;&#x6027;&#x548C;objectAtIndexPath&#x4E2D;&#xFF0C;&#x5728;dataSource&#x4E0B;&#x662F;&#xFF1A;<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> fetchedResultsController.sections!.<span class="built_in">count</span></span><br></pre></td></tr></table></figure></p>
<p>&#x7136;&#x540E;&#x83B7;&#x53D6;&#x6A21;&#x578B;&#x6570;&#x636E;&#xFF0C;&#x88C5;&#x586B;&#x5230;cell&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A;<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">configureCell</span><span class="params">(cell: TeamCell, indexPath: NSIndexPath)</span></span> {</span><br><span class="line">     <span class="comment">// &#xFF0D; &#x901A;&#x8FC7;fetchCtoller&#x83B7;&#x53D6;&#x6570;&#x636E;</span></span><br><span class="line">     <span class="keyword">let</span> team = fetchedResultsController.objectAtIndexPath(indexPath) <span class="keyword">as</span>! <span class="type">Team</span></span><br><span class="line">     <span class="comment">// &#xFF0D; cell&#x8BBE;&#x7F6E;</span></span><br><span class="line">     cell.flagImageView.image = <span class="type">UIImage</span>(named: team.imageName)</span><br><span class="line">     cell.teamLabel.text = team.teamName</span><br><span class="line">     cell.scoreLabel.text = <span class="string">&quot;Wins: \(team.wins)&quot;</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<p>&#x8865;&#x5145;&#x5B8C;&#x6210;&#x201C;tap&#x52A0;1&#x201D;&#x7684;&#x529F;&#x80FD;&#xFF1A;<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MARK: -- tableView delegat --</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView,</span><br><span class="line">  didSelectRowAtIndexPath indexPath: NSIndexPath)</span></span> {</span><br><span class="line">   <span class="keyword">let</span> team = fetchedResultsController.objectAtIndexPath(indexPath) <span class="keyword">as</span>! <span class="type">Team</span></span><br><span class="line">   <span class="comment">// tap&#x52A0;1 &#x64CD;&#x4F5C;</span></span><br><span class="line">   <span class="keyword">let</span> wins = team.wins.integerValue</span><br><span class="line">   team.wins = <span class="type">NSNumber</span>(integer: wins + <span class="number">1</span>) <span class="comment">// &#x7C7B;&#x578B;&#x8F6C;&#x6362;</span></span><br><span class="line">   <span class="comment">// &#x4FDD;&#x5B58;</span></span><br><span class="line">   coreDataStack.saveContext()</span><br><span class="line">   <span class="comment">// &#x5237;&#x65B0;UI</span></span><br><span class="line">   tableView.reloadData()</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<p>&#x81F3;&#x6B64;&#x57FA;&#x672C;&#x7684;&#x529F;&#x80FD;&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#xFF0C;&#x4ECE;&#x6570;&#x636E;&#x5C55;&#x793A;&#x5230;&#x6570;&#x636E;&#x66F4;&#x6539;&#xFF0C;&#x5012;&#x662F;&#x5E76;&#x6CA1;&#x89C1;&#x5F97;&#x6709;&#x4EC0;&#x4E48;magic&#x7684;&#x5730;&#x65B9;&#xFF0C; &#x1F613;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x662F;&#x653E;&#x5927;&#x62DB;&#x7684;&#x65F6;&#x5019;</p>
<hr>
<ul>
<li><p>&#x5C06;&#x5404;&#x4E2A;&#x961F;&#x4F0D;&#x5C0F;&#x7EC4;&#x5316;</p>
<p>  There are six qualifying zones in the World Cup: Africa, Asia, Oceania, Europe, South America and North/Central America. The Team entity has a string attribute named qualifyingZone that stores this information.</p>
<p>  &#x4EFB;&#x52A1;&#x662F;&#x5C31;&#x5C06;&#x5404;&#x4E2A;&#x56FD;&#x5BB6;&#x653E;&#x5230;&#x5176;&#x5BF9;&#x5E94;&#x7684;&#x9884;&#x9009;&#x8D5B;&#x533A;&#x7684;section&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x901A;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8FD9;&#x770B;&#x8D77;&#x6765;&#x662F;&#x4E2A;&#x9700;&#x8981;&#x9996;&#x5148;&#x6574;&#x7406;model&#x7136;&#x540E;&#x518D;&#x6539;&#x5199;&#x6570;&#x636E;&#x6E90;&#x65B9;&#x6CD5;&#x7684;&#x7E41;&#x7410;&#x6B65;&#x9AA4;&#xFF0C;&#x4F46;&#x662F;&#x501F;&#x52A9;fetchedResultsController&#x5C31;&#x4F1A;&#x5BB9;&#x6613;&#x5F88;&#x591A;&#xFF0C;&#x4EC5;&#x4EC5;&#x53EA;&#x9700;&#x8981;&#x66F4;&#x6539;2&#x4E2A;&#x5C0F;&#x5730;&#x65B9;&#x5373;&#x53EF;&#xFF1A;</p>
<ol>
<li><p>&#x66F4;&#x6539;fetchResultsController&#x7684;&#x5B9E;&#x4F8B;&#x5316;funcsetFetchController() &#x4E2D;&#xFF1A;</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 2 fetch&#x63A7;&#x5236;&#x5668;&#x7684;&#x5B9E;&#x4F8B;&#x8BDD;&#x4ECD;&#x7136;&#x4F9D;&#x8D56;&#x4E8E; NSFetchRequest &#x548C; context&#x4E0A;&#x4E0B;&#x6587;</span></span><br><span class="line"><span class="comment">// &#x66F4;&#x6539;&#x4F7F;&#x7528;keyPath&#x201C;qualifyingZone&#x201D;&#x505A;&#x5B9E;&#x4F8B;&#x5316;</span></span><br><span class="line">fetchedResultsController = <span class="type">NSFetchedResultsController</span>(fetchRequest: fetchRequset, managedObjectContext: coreDataStack.context, sectionNameKeyPath: <span class="string">&quot;qualifyingZone&quot;</span>, cacheName: <span class="literal">nil</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x5B9E;&#x73B0;dataSourece&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x4E3A;section&#x8BBE;&#x7F6E;title&#xFF1A;</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">// &#x8BBE;&#x7F6E;title</span></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, titleForHeaderInSection section: Int)</span></span> -&gt; <span class="type">String</span>? {</span><br><span class="line">    <span class="keyword">let</span> sectionInfo = fetchedResultsController.sections![section]</span><br><span class="line">    <span class="keyword">return</span> sectionInfo.name</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>&#x8FD0;&#x884C;&#x5F97;&#x5230;&#x6548;&#x679C;&#xFF1A;</p>
<p><img src="/img/CoreData4_001.png" alt=""></p>
<p>&#x89C6;&#x89C9;&#x4E0A;&#x5DEE;&#x4E0D;&#x591A;&#x5B9E;&#x73B0;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x7B49;&#x7B49;&#xFF0C;&#x963F;&#x6839;&#x5EF7;&#x4E3A;&#x4EC0;&#x4E48;&#x6210;&#x4E86;&#x975E;&#x6D32;&#x7684;&#x961F;&#x4F0D;&#x4E86;&#xFF0C;&#x6570;&#x636E;&#x9519;&#x4E71;&#x4E86;&#xFF0C;&#x662F;cell&#x91CD;&#x7528;&#x7684;&#x7684;&#x95EE;&#x9898;&#x8FD8;&#x662F;&#x672C;&#x8EAB;&#x6570;&#x636E;&#x7684;&#x95EE;&#x9898;&#xFF1F;<br>&#x8FD9;&#x91CC;&#x5E94;&#x8BE5;&#x6570;&#x636E;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x56E0;&#x4E3A;&#x6392;&#x5E8F;&#x6307;&#x5B9A;&#x7684;&#x4ECD;&#x7136;&#x8FD8;&#x662F;&#x6309;&#x7167;A&#xFF5E;Z&#x7684;&#x987A;&#x5E8F;&#x6392;&#x5217;&#xFF0C;&#x800C;&#x6DFB;&#x52A0;&#x56FD;&#x7C4D;&#x4E4B;&#x540E;&#x6309;&#x56FD;&#x7C4D;group&#x6392;&#x5217;&#x4F1A;&#x4E0E;&#x4E4B;&#x51B2;&#x7A81;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x5C31;&#x5F15;&#x51FA;&#x4E86;&#x5E76;&#x5217;&#x6392;&#x5E8F;&#x4E2D;&#x7684;&#x8457;&#x540D;&#x7684;&#x201C;&#x7591;&#x96BE;&#x6742;&#x75C7;&#x201D;&#xFF0D;&#xFF0D;<strong>&#x6392;&#x5E8F;&#x89C4;&#x5219;&#x51B2;&#x7A81;</strong>&#xFF1A;</p>
<p>  The problem was the sort descriptor. This is another NSFetchedResultsController &#x201C;gotcha&#x201D; to keep in mind. If you want to separate fetched results using a section keyPath,the first sort descriptor&#x2019;s attribute must match the key path&#x2019;s attribute.</p>
<p>  The documentation for NSFetchedResultsController makes this point emphatically, and with good reason! You saw what happened when the sort descriptor doesn&#x2019;t match the key path&#x2014;your data ends up making no sense.</p>
<p>  &#x6240;&#x4EE5;&#x66F4;&#x6539;&#x5982;&#x4E0B;</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x66F4;&#x6539;&#x6392;&#x5E8F; - &#x6CE8;&#x610F;&#x6392;&#x5E8F;&#x4E0D;&#x8981;&#x51B2;&#x7A81;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x4E71;&#x6389;</span></span><br><span class="line"><span class="keyword">let</span> zoneSort = <span class="type">NSSortDescriptor</span>(key: <span class="string">&quot;qualifyingZone&quot;</span>, ascending: <span class="literal">true</span>)</span><br><span class="line"><span class="keyword">let</span> scoreSort = <span class="type">NSSortDescriptor</span>(key: <span class="string">&quot;wins&quot;</span>, ascending: <span class="literal">true</span>)</span><br><span class="line"><span class="keyword">let</span> nameSort = <span class="type">NSSortDescriptor</span>(key: <span class="string">&quot;teamName&quot;</span>, ascending: <span class="literal">true</span>)</span><br><span class="line">fetchRequset.sortDescriptors = [zoneSort, scoreSort, nameSort]</span><br></pre></td></tr></table></figure>
<p>  &#x8FD9;&#x6837;&#x5BF9;&#x7ED3;&#x6784;&#x5C31;&#x6309;&#x7167;&#xFF0C;&#x5148;<code>&#x5730;&#x57DF;</code>&#xFF0C;&#x518D;<code>&#x79EF;&#x5206;</code>&#xFF0C;&#x6700;&#x540E;<code>&#x961F;&#x540D;</code>&#x7684;&#x6392;&#x5217;&#x987A;&#x5E8F;&#x4E86;<br>  &#x5728;NSFetchedResultsController&#x7684;&#x534F;&#x52A9;&#x4E4B;&#x4E0B;&#xFF0C;&#x6211;&#x4EEC;&#x4E0D;&#x5FC5;&#x904D;&#x5386;&#x6240;&#x6709;&#x961F;&#x4F0D;&#xFF0C;&#x6309;&#x533A;&#x57DF;&#x5206;&#x522B;&#x5BF9;&#x5E94;&#x627E;&#x5230;&#x5404;&#x4E2A;&#x56FD;&#x5BB6;&#x7EC4;&#x6210;&#x5C0F;&#x7EC4;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x5728;&#x5C0F;&#x7EC4;&#x5185;&#x6392;&#x5E8F;&#xFF0C;&#x800C;&#x662F;&#x5F88;&#x7B80;&#x5355;&#x7684;&#x4EE3;&#x7801;&#x5C31;&#x80FD;&#x5B9E;&#x73B0;&#x8FD9;&#x4E9B;&#x529F;&#x80FD;&#xFF0C;too maigical&#xFF01;</p>
</li>
<li><p>cache&#x7684;&#x5F15;&#x5165;<br>  &#x9996;&#x5148;&#x8003;&#x8651;&#x8FD9;&#x6837;&#x4E00;&#x79CD;&#x573A;&#x666F;&#xFF0C;&#x5982;&#x679C;&#x8FD9;&#x91CC;&#x4E0D;&#x662F;32&#x4E2A;&#x56FD;&#x5BB6;&#xFF0C;&#x800C;&#x662F;&#x8BA9;&#x4F60;&#x73A9;&#x6210;&#x6211;&#x671D;13&#x4EBF;&#x4EBA;&#x7684;&#x4EBA;&#x53E3;&#x5206;&#x7C7B;&#xFF0C;&#x6309;&#x7167;&#x4E0D;&#x540C;&#x7684;&#x7701;&#x5E02;&#x5730;&#x533A;&#x5F52;&#x7C7B;&#x7684;&#x8BDD;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x52BF;&#x5FC5;&#x5E26;&#x6765;&#x4E00;&#x4E2A;&#x6027;&#x80FD;&#x548C;&#x5185;&#x5B58;&#x7684;&#x95EE;&#x9898;&#x3002;&#x6211;&#x53EF;&#x4EE5;&#x81EA;&#x4F5C;&#x806A;&#x660E;&#x7684;&#x5F00;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF0C;like this</p>
<p>  &#x201C;I&#x2019;d just throw that on a background thread!&#x201D; might be your first thought. The table view, however, can&#x2019;t populate itself until all sections are available. You might save yourself from blocking the main thread, but you&#x2019;d still be left looking at a spinner.</p>
<p>  There&#x2019;s no denying that this operation is expensive. At a bare minimum, you should only pay the cost once: figure out the section grouping a single time, and reuse your result every time after that.</p>
<p>  &#x9664;&#x4E86;&#x653E;&#x5230;&#x540E;&#x53F0;&#x7EBF;&#x7A0B;&#x4E4B;&#x5916;&#xFF0C;&#x5BF9;&#x4E8E;&#x7C7B;&#x4F3C;&#x8FD9;&#x6837;&#x7684;&#x2019;&#x6602;&#x8D35;&#x2019;&#x64CD;&#x4F5C;&#xFF0C;&#x6700;&#x597D;&#x7684;&#x548C;&#x6700;&#x5FC5;&#x8981;&#x65B9;&#x5F0F;&#x5C31;&#x662F;&#xFF1A;<code>&#x65E2;&#x7136;&#x65E0;&#x6CD5;&#x907F;&#x514D;&#xFF0C;&#x90A3;&#x5C31;&#x5C3D;&#x91CF;&#x53EA;&#x505A;&#x4E00;&#x6B21;&#xFF01;&#x8FD9;&#x5C31;&#x662F;&#x201C;Cache&#x201D;&#x7684;&#x771F;&#x6B63;&#x610F;&#x4E49;</code>&#x3002;&#x597D;&#x5728;&#x82F9;&#x679C;&#x5DF2;&#x7ECF;&#x4E3A;&#x6211;&#x4EEC;&#x8003;&#x8651;&#x5230;&#x4E86;&#xFF0C;&#x5728;fetchedResultsController&#x7684;&#x5B9E;&#x4F8B;&#x8BDD;&#x4E2D;&#xFF0C;&#x90A3;4&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x505A;&#x540E;&#x4E00;&#x4E2A;&#x5C31;&#x662F;cacheName</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x518D;&#x6B21;&#x66F4;&#x6539;&#xFF0C;&#x6307;&#x5B9A;cache&#x7684;name</span></span><br><span class="line">fetchedResultsController = <span class="type">NSFetchedResultsController</span>(fetchRequest: fetchRequset, managedObjectContext: coreDataStack.context, sectionNameKeyPath: <span class="string">&quot;qualifyingZone&quot;</span>, cacheName: <span class="string">&quot;worldCup&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>  &#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;cacheName&#x662F;&#x975E;&#x5E38;sensitive&#x7684;&#xFF0C;&#x4ED6;&#x6807;&#x793A;&#x8FD9;&#x6837;&#x4E00;&#x79CD;&#x201C;&#x5355;&#x4F8B;&#x201D;&#x822C;&#x7684;&#x673A;&#x5236;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5373;&#x8868;&#x793A;&#x9996;&#x6B21;&#x52A0;&#x8F7D;&#xFF0C;&#x5C31;&#x52A0;&#x8F7D;&#xFF0C;&#x5982;&#x679C;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x5373;&#x975E;&#x9996;&#x6B21;&#x52A0;&#x8F7D;&#xFF0C;&#x5C31;&#x4F1A;&#x6839;&#x636E;&#x8FD9;&#x4E2A;&#x6807;&#x8BB0;&#x53D6;cache&#x4E2D;&#x53BB;&#x53D6;&#x7B2C;&#x4E00;&#x6B21;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x4FDD;&#x8BC1;&#x53EA;&#x52A0;&#x8F7D;&#x4E00;&#x6B21;&#x3002;&#x6240;&#x4EE5;&#x5C31;&#x53EF;&#x4EE5;&#x7406;&#x89E3;cacheName&#x7684;sensitive&#x4E86;&#xFF0C;&#x5982;&#x679C;&#x53D8;&#x52A8;&#x4E86;&#x4F7F;&#x7528;&#xFF0C;&#x5C31;&#x7528;deleteCacheName&#x6216;&#x8005;&#x91CD;&#x65B0;&#x6307;&#x5B9A;&#x65B0;&#x7684;name&#x6765;&#x53D8;&#x66F4;&#x3002;</p>
</li>
<li><p>&#x76D1;&#x6D4B;&#x53D8;&#x52A8;<br>  &#x622A;&#x6B62;&#x76EE;&#x524D;&#x53EF;&#x89C1;&#xFF0C;&#x4F7F;&#x7528;NSFetchedResultesController&#x81F3;&#x5C11;&#x5E26;&#x6765;&#x4E24;&#x4E2A;&#x597D;&#x5904;&#xFF1A;&#x65B9;&#x4FBF;&#x5904;&#x7406;section&#x548C;&#x505A;cache&#x5904;&#x7406;&#x3002;&#x4E0B;&#x9762;&#x4ECB;&#x7ECD;&#x7B2C;&#x4E09;&#x4E2A;&#x597D;&#x5904;&#xFF0C;&#x4F46;&#x8981;&#x8BF4;&#x660E;&#x7684;&#x662F;&#xFF0C;&#x867D;&#x7136;&#x529F;&#x80FD;&#x5F3A;&#x5927;&#x4F46;&#x4E5F;&#x5F88;&#x5BB9;&#x6613;&#x51FA;&#x9519;&#xFF0C;&#x5C31;&#x662F;&#x9F2C;&#x795E;&#x7684;&#x201C;&#x8D8A;&#x662F;&#x5F3A;&#x5927;&#x7684;&#x672F;&#x5C31;&#x8D8A;&#x6709;&#x4E0D;&#x53EF;&#x514B;&#x670D;&#x7684;&#x7F3A;&#x9677;&#x548C;&#x98CE;&#x9669;&#x201D;&#x3002;</p>
<p>  <img src="/img/CoreData4_002.png" alt=""></p>
<p>  The third and last benefit is somewhat of a double-edged sword: it is powerful but also easy to misuse.</p>
<p>  &#x5148;&#x56DE;&#x5FC6;&#x5728;&#x201C;Tap &#x52A0; 1&#x201D;&#x7684;&#x529F;&#x80FD;&#x662F;&#xFF0C;Tap&#x4E00;&#x4E0B;wins&#xFF0B;1&#xFF0C;&#x7136;&#x540E;tableView.reloadData&#xFF0C;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x7C97;&#x66B4;&#x6709;&#x6548;&#xFF0C;&#x4F46;&#x5982;&#x679C;&#x8003;&#x8651;&#x7684;&#x66F4;&#x591A;&#x6BD4;&#x5982;Demo&#x7684;&#x4E0B;&#x4E00;&#x4E2A;&#x7248;&#x672C;&#xFF0C;&#x5982;&#x679C;&#x5E76;&#x4E0D;&#x662F;&#x901A;&#x8FC7;&#x8FD9;&#x79CD;&#x201C;tap&#xFF0B;1&#x201D;&#x83B7;&#x5F97;&#x79EF;&#x5206;&#xFF0C;&#x800C;&#x662F;&#x4ECE;&#x7F51;&#x7EDC;&#x83B7;&#x53D6;win&#x79EF;&#x5206;&#xFF0C;&#x5C31;&#x5E94;&#x8BE5;&#x8003;&#x8651;&#x4E00;&#x79CD;&#x66F4;&#x52A0;&#x63A5;&#x8FD1;&#x57FA;&#x7840;&#x6570;&#x636E;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x505A;&#x5230;&#x53EA;&#x8981;&#x6570;&#x636E;&#x6709;&#x53D8;&#x5316;&#x5C31;&#x80FD;&#x53CA;&#x65F6;&#x7684;&#x5C55;&#x793A;&#x3002;</p>
<p>  Maybe there&#x2019;s a detail screen for every team where you can change the score. Maybe the app calls an API endpoint and gets new score information from the web service. It would be your job to refresh the table view for every code path that updates the underlying data.</p>
<p>  &#x8FD9;&#x5C31;&#x9700;&#x8981;NSFetchedResultsController&#x7684;&#x4EE3;&#x7406;&#x6765;&#x5E2E;&#x5FD9;&#x4E86;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x76D1;&#x542C;&#x57FA;&#x7840;&#x6570;&#x636E;&#x7684;&#x53D8;&#x5316;&#x8FC7;&#x7A0B;&#xFF0C;&#x8BA9;&#x4F60;&#x8F7B;&#x677E;&#x505A;&#x5230;&#x53EA;&#x8981;&#x57FA;&#x7840;&#x6570;&#x636E;&#x53D8;&#x5316;&#x5C31;&#x81EA;&#x52A8;&#x5237;&#x65B0;&#x5217;&#x8868;&#x663E;&#x793A;&#xFF1A;</p>
<p>  NSFetchedResultsController can listen for changes in its result set and notify its delegate, NSFetchedResultsControllerDelegate. You can use this delegate to refresh the table view as needed any time the underlying data changes.</p>
<blockquote>
<p>Note: A fetched results controller <code>can only monitor changes made via the managed object context specified in its initializer</code>. If you create a separate NSManagedObjectContext somewhere else in your app and start making changes there, your delegate method won&#x2019;t run until those changes have been saved and merged with the fetched results controller&#x2019;s context.</p>
</blockquote>
<p>  &#x64CD;&#x4F5C;&#x4E0A;&#x9700;&#x8981;&#x9075;&#x5B88;&#x534F;&#x8BAE; <code>NSFetchedResultsControllerDelegate</code> &#xFF0C;&#x8BBE;&#x7F6E;&#x4EE3;&#x7406;</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x8BBE;&#x7F6E;&#x4EE3;&#x7406;</span></span><br><span class="line">fetchedResultsController.delegate = <span class="keyword">self</span></span><br></pre></td></tr></table></figure>
<p>  &#x5B9E;&#x73B0;&#x65B9;&#x6CD5;&#xFF1A;</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MARK: -- NSFetchedResultsControllerDelegate</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">controllerDidChangeContent</span><span class="params">(controller: NSFetchedResultsController)</span></span> {</span><br><span class="line">  <span class="comment">// &#x518D;&#x6B21;&#x66F4;&#x65B0;UI</span></span><br><span class="line">  tableView.reloadData()</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>  &#x867D;&#x7136;&#x6539;&#x52A8;&#x5E76;&#x4E0D;&#x5927;&#xFF0C;&#x4F46;&#x8FD9;&#x6837;&#x5C31;&#x610F;&#x5473;&#x7740;&#xFF0C;&#x57FA;&#x7840;&#x6570;&#x636E;&#x53EA;&#x8981;&#x6709;&#x4EFB;&#x4F55;&#x6539;&#x52A8;&#xFF0C;&#x4E0D;&#x7BA1;&#x662F;&#x901A;&#x8FC7;tap&#x8FD8;&#x662F;&#x4ECE;&#x7F51;&#x7EDC;&#x83B7;&#x53D6;&#x4ECE;&#x800C;&#x6539;&#x52A8;&#xFF0C;&#x90FD;&#x4F1A;&#x5237;&#x65B0;&#x5217;&#x8868;&#x6570;&#x636E;&#x3002;&#x4F46;&#x4EC5;&#x4EC5;&#x662F;&#x8FD9;&#x6837;&#x8FD8;&#x662F;&#x4E0D;&#x591F;&#xFF0C;&#x867D;&#x7136;&#x6211;&#x5E76;&#x6CA1;&#x80FD;&#x91CD;&#x590D;&#x9519;&#x8BEF;&#xFF0C;&#x5012;&#x662F;&#x8DF3;&#x8DC3;&#x611F;&#x5F88;&#x5F71;&#x54CD;&#x4F53;&#x9A8C;&#xFF1A;</p>
<p>  <img src="/img/CoreData4_003.png" alt=""></p>
<p>  The score labels update as before, but this reveals another problem. If you tap around enough times, you might get into a state where teams within a qualifying zone are not ranked by number of wins. For example, in the previous screenshot, you can see Cameroon below Algeria. However, Cameroon has 16 wins and Algeria 9. Also, when the cells do move around, it&#x2019;s pretty jumpy, almost as if you were completely reloading the table every time something changed. :]</p>
<p>  &#x663E;&#x7136;&#x6211;&#x4EEC;&#x8FD8;&#x9700;&#x8981;&#x8C03;&#x6574;&#xFF0C;&#x4E3A;&#x4E86;&#x4E0D;&#x663E;&#x5F97;&#x90A3;&#x4E48;&#x8DF3;&#x8DC3;&#xFF0C;&#x9700;&#x8981;&#x518D;&#x5230;&#x4EE3;&#x7406;&#x4E2D;&#xFF1A;</p>
<p>  The fetched results controller delegate can tell you if something needs to be moved, inserted or deleted due to a change in the fetched results controller&#x2019;s result set.</p>
<p>  &#x7531;&#x4E8E;&#x6539;&#x52A8;&#x90FD;&#x662F;&#x5728;controller&#x7684;&#x7ED3;&#x679C;&#x96C6;&#x5408;&#x4E2D;&#xFF0C;&#x6240;&#x4EE5;&#x501F;&#x52A9;&#x4EE3;&#x7406;&#x53EF;&#x4EE5;&#x8BA9;&#x4F60;&#x51B3;&#x5B9A;&#x662F;&#x5426;&#x53BB;&#x6DFB;&#x52A0;&#xFF0C;&#x5220;&#x9664;&#x6216;&#x8005;&#x79FB;&#x52A8;&#x3002;&#x6362;&#x8A00;&#x4E4B;&#xFF0C;&#x80FD;&#x591F;&#x8BA9;&#x5F00;&#x53D1;&#x8005;&#x63A7;&#x5236;&#x5230;&#x5E95;&#x8BE5;&#x201C;&#x5982;&#x4F55;&#x663E;&#x793A;&#xFF0C;&#x663E;&#x793A;&#x8C01;&#x201D;&#xFF0C;&#x5728;&#x8FD9;&#x91CC;&#xFF0C;&#x6211;&#x4EEC;&#x8981;&#x6539;&#x52A8;&#x4EE3;&#x7406;&#x65B9;&#x6CD5;&#x4E2D;&#x7684;&#x5B9E;&#x73B0;&#xFF1A;</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// MARK: -- NSFetchedResultsControllerDelegate</span></span><br><span class="line"><span class="comment">// &#x6309;&#x7167;&#x201C;begin updates-make changes-end updates&#x201D;&#x7684;&#x987A;&#x5E8F;&#x53D8;&#x66F4;</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">controllerWillChangeContent</span><span class="params">(controller: NSFetchedResultsController)</span></span> {</span><br><span class="line">    <span class="comment">// &#x5F00;&#x59CB;&#x66F4;&#x65B0;</span></span><br><span class="line">    tableView.beginUpdates()</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">controller</span><span class="params">(controller: NSFetchedResultsController, didChangeObject anObject: AnyObject, atIndexPath indexPath: NSIndexPath?, forChangeType type: NSFetchedResultsChangeType, newIndexPath: NSIndexPath?)</span></span> {</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;move \(indexPath!) -&gt; \(newIndexPath!)&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span><br><span class="line">    &#x6839;&#x636E;&#x6570;&#x636E;&#x7684;&#x4E0D;&#x540C;type&#xFF0C;&#x8FDB;&#x884C;&#x533A;&#x5206;&#x64CD;&#x4F5C;</span><br><span class="line">       - Insert</span><br><span class="line">       - Delete</span><br><span class="line">       - Update</span><br><span class="line">       - Move</span><br><span class="line">    */</span></span><br><span class="line">    <span class="keyword">switch</span> type {</span><br><span class="line">      <span class="keyword">case</span> <span class="type">NSFetchedResultsChangeType</span>.<span class="type">Insert</span>:</span><br><span class="line">        tableView.insertRowsAtIndexPaths([newIndexPath!], withRowAnimation: <span class="type">UITableViewRowAnimation</span>.<span class="type">Automatic</span>)</span><br><span class="line">      <span class="keyword">case</span> <span class="type">NSFetchedResultsChangeType</span>.<span class="type">Delete</span>:</span><br><span class="line">        tableView.deleteRowsAtIndexPaths([indexPath!], withRowAnimation: <span class="type">UITableViewRowAnimation</span>.<span class="type">Automatic</span>)</span><br><span class="line">      <span class="keyword">case</span> <span class="type">NSFetchedResultsChangeType</span>.<span class="type">Update</span>:</span><br><span class="line">        tableView.cellForRowAtIndexPath(indexPath!) <span class="keyword">as</span>! <span class="type">TeamCell</span></span><br><span class="line">      <span class="keyword">case</span> <span class="type">NSFetchedResultsChangeType</span>.<span class="type">Move</span>:</span><br><span class="line">        tableView.deleteRowsAtIndexPaths([indexPath!], withRowAnimation: <span class="type">UITableViewRowAnimation</span>.<span class="type">Automatic</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//            tableView.insertRowsAtIndexPaths([indexPath!],  withRowAnimation: UITableViewRowAnimation.Automatic)</span></span><br><span class="line"></span><br><span class="line">       tableView.insertRowsAtIndexPaths([newIndexPath!], withRowAnimation: <span class="type">UITableViewRowAnimation</span>.<span class="type">Automatic</span>)</span><br><span class="line">      <span class="keyword">default</span> :</span><br><span class="line">       <span class="keyword">break</span></span><br><span class="line">     }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">controllerDidChangeContent</span><span class="params">(controller: NSFetchedResultsController)</span></span> {</span><br><span class="line">     <span class="comment">// &#x7ED3;&#x675F;&#x66F4;&#x65B0;</span></span><br><span class="line">     tableView.endUpdates()</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x200B;</p>
<p><strong>Note that the order and nature of the methods ties in very neatly to the &#x201C;begin updates-make changes-end updates&#x201D; pattern used to update table views. This is not a coincidence!</strong> &#x8FD9;&#x662F;&#x6309;&#x7167;&#x5B98;&#x65B9;&#x6587;&#x6863;&#x6307;&#x5BFC;&#x7684;&#x6309;&#x7167;&#x201C;&#x5F00;&#x59CB;&#xFF0D;&#x66F4;&#x65B0;&#xFF0D;&#x7ED3;&#x675F;&#x201D;&#x7684;&#x987A;&#x5E8F;&#x3002;<em>&#x6CE8;&#x610F;insert&#x65F6;&#x7531;&#x4E8E;&#x4E0D;&#x5B58;&#x5728;&#x6307;&#x5B9A;index&#x6240;&#x4EE5;&#x8981;newIndexPath&#x7684;</em>    </p>
<p><code>controllerWillChangeContent</code> -&gt;  <code>didChangeObject, atIndexPath, forChangeType type</code> -&gt;  <code>controllerDidChangeContent</code>     </p>
<p>This delegate method is similar to didChangeObject&#x2026; but notifies you of changes to sections rather than to individual objects.&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x4EE3;&#x7406;&#x65B9;&#x6CD5;&#x3002;&#x7C7B;&#x4F3C;&#x4E8E;didChangeObject&#x65B9;&#x6CD5;&#xFF0C;&#x53EA;&#x662F;&#x5173;&#x6CE8;&#x7684;&#x662F;section&#x7684;&#x6539;&#x53D8;&#xFF0C;&#x6BD4;&#x5982;&#x73B0;&#x5728;&#x6709;&#x4E00;&#x53EA;&#x5168;&#x65B0;&#x7684;&#x961F;&#x4F0D;&#x5728;&#x4E00;&#x4E2A;&#x5168;&#x65B0;&#x7684;&#x5206;&#x7EC4;&#xFF08;&#x6216;&#x8BB8;&#x662F;&#x706B;&#x661F;&#x961F;&#x1F61B;&#xFF09;&#x4E4B;&#x4E0B;&#xFF0C;&#x8FD9;&#x4E2A;&#x4EE3;&#x7406;&#x5C31;&#x6709;&#x7528;&#x4E86;     </p>
<p>   &#x5982;&#x679C;&#x6CE8;&#x610F;&#x7EC6;&#x8282;&#x7684;&#x8BDD;&#xFF0C;&#x5728;Demo&#x4E2D;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x9ED8;&#x8BA4;&#x4E0D;&#x542F;&#x7528;&#x7684;addItem&#xFF0C;&#x663E;&#x7136;&#x8FD9;&#x662F;&#x4E3A;&#x6211;&#x5927;&#x56FD;&#x8DB3;&#x51C6;&#x5907;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x8981;&#x662F;&#x7B49;&#x56FD;&#x8DB3;&#x5802;&#x5802;&#x6B63;&#x6B63;&#x7684;&#x8E22;&#x8FDB;&#x4E16;&#x754C;&#x676F;&#xFF0C;&#x5C31;&#x60F3;&#x6B96;&#x6C11;&#x706B;&#x661F;&#x4E00;&#x6837;&#x73B0;&#x5B9E;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x50B2;&#x5A07;&#x7684;&#x8BBE;&#x7F6E;&#x4E86;&#x4E00;&#x4E2A;&#x540E;&#x95E8;&#xFF0C;&#x7528;&#x6765;&#x5C06;&#x6211;&#x5927;&#x56FD;&#x8DB3;&#x4FDD;&#x9001;&#x5230;&#x4E16;&#x754C;&#x676F;&#xFF0C;&#x4F7F;&#x7528;&#x6447;&#x4E00;&#x6447;&#x5373;&#x53EF;&#x6FC0;&#x6D3B;        </p>
<p>&#x200B;</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MARK: &#x9707;&#x52A8;&#x6FC0;&#x6D3B;&#x6DFB;&#x52A0;&#x6309;&#x94AE; &#xFF0D;&gt; &#x4E2D;&#x56FD;&#x961F;&#x51B2;&#x51FB;&#x4E16;&#x754C;&#x676F;&#x4E13;&#x7528;</span></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">motionEnded</span><span class="params">(motion: UIEventSubtype, withEvent event: UIEvent?)</span></span> {</span><br><span class="line">    <span class="keyword">if</span> motion == <span class="type">UIEventSubtype</span>.<span class="type">MotionShake</span> {</span><br><span class="line">    	addButton.enabled = <span class="literal">true</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>  &#x7136;&#x540E;&#x6DFB;&#x52A0;&#x65B9;&#x6CD5;&#xFF1A;</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@available</span>(iOS <span class="number">8.0</span>, *)</span><br><span class="line"><span class="comment">// &#x56FD;&#x8DB3;&#x8D70;&#x540E;&#x95E8;&#x4E13;&#x7528;&#x65B9;&#x6CD5;</span></span><br><span class="line"><span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">addTeam</span><span class="params">(sender: AnyObject)</span></span> {</span><br><span class="line">    <span class="keyword">let</span> alert = <span class="type">UIAlertController</span>(title: <span class="string">&quot;&#x5929;&#x671D;&#x7279;&#x8272;&quot;</span>, message: <span class="string">&quot;&#x76EE;&#x524D;&#x770B;&#x6765;&#x4E2D;&#x56FD;&#x8DB3;&#x7403;&#x8FDB;&#x4E16;&#x754C;&#x676F;&#x53EA;&#x80FD;&#x7528;&#x8FD9;&#x79CD;&#x624B;&#x6BB5;&#x4E86;&quot;</span>, preferredStyle: <span class="type">UIAlertControllerStyle</span>.<span class="type">Alert</span>)</span><br><span class="line"></span><br><span class="line">    alert.addTextFieldWithConfigurationHandler { (textField) -&gt; <span class="type">Void</span> <span class="keyword">in</span></span><br><span class="line">        textField.placeholder = <span class="string">&quot;Team name&quot;</span></span><br><span class="line">    }</span><br><span class="line">    alert.addTextFieldWithConfigurationHandler { (textField) -&gt; <span class="type">Void</span> <span class="keyword">in</span></span><br><span class="line">        textField.placeholder = <span class="string">&quot;Qualifying Zone&quot;</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    alert.addAction(<span class="type">UIAlertAction</span>(title: <span class="string">&quot;Save&quot;</span>, style: <span class="type">UIAlertActionStyle</span>.<span class="type">Default</span>, handler: { (action) -&gt; <span class="type">Void</span> <span class="keyword">in</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;&#xFF0D;&#xFF0D;&#x5F00;&#x59CB;&#x4FDD;&#x9001;&#x56FD;&#x8DB3;&#xFF0D;&#xFF0D;&quot;</span>)</span><br><span class="line">        <span class="comment">// 1</span></span><br><span class="line">        <span class="keyword">let</span> nameTextFeild = alert.textFields![<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">let</span> zoneTextFeild = alert.textFields![<span class="number">1</span>]</span><br><span class="line">        <span class="comment">// 2 &#x65B0;&#x63D2;&#x5165;&#x4E00;&#x4E2A;&#x5B9E;&#x4F53;&#xFF0D;&#xFF0D;&#x5F53;&#x7136;&#x5C31;&#x662F;&#x4E07;&#x5E74;&#x8FDB;&#x4E0D;&#x4E86;&#x7684;&#x56FD;&#x8DB3;&#x4E86;</span></span><br><span class="line">        <span class="keyword">let</span> team = <span class="type">NSEntityDescription</span>.insertNewObjectForEntityForName(<span class="string">&quot;Team&quot;</span>, inManagedObjectContext: <span class="keyword">self</span>.coreDataStack.context) <span class="keyword">as</span>! <span class="type">Team</span></span><br><span class="line">        team.teamName = nameTextFeild.text!</span><br><span class="line">        team.qualifyingZone = zoneTextFeild.text!</span><br><span class="line">        team.imageName = <span class="string">&quot;wenderland-flag&quot;</span></span><br><span class="line">        <span class="comment">// 3</span></span><br><span class="line">        <span class="keyword">self</span>.coreDataStack.saveContext()</span><br><span class="line">    }))</span><br><span class="line"></span><br><span class="line">    alert.addAction(<span class="type">UIAlertAction</span>(title: <span class="string">&quot;cancel&quot;</span>, style: <span class="type">UIAlertActionStyle</span>.<span class="type">Cancel</span>, handler: { (action) -&gt; <span class="type">Void</span> <span class="keyword">in</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;&#x88AB;cancel&#xFF0C;&#x679C;&#x7136;&#x4E0A;&#x5E1D;&#x90FD;&#x8981;&#x653E;&#x5F03;&#x56FD;&#x8DB3;&#x4E86;&#x1F640;&quot;</span>)</span><br><span class="line">    }))</span><br><span class="line"></span><br><span class="line">    presentViewController(alert, animated: <span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>  &#x4EE3;&#x7801;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#x4E0D;&#x5728;&#x8D58;&#x8FF0;&#xFF0C;&#x603B;&#x4E4B;&#x4E3A;&#x56FD;&#x8DB3;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x793E;&#x4F1A;&#x4E3B;&#x4E49;&#x4F18;&#x8D8A;&#x6027;&#x7684;&#x540E;&#x95E8;&#xFF0C;&#x5E76;&#x5355;&#x72EC;&#x5F00;&#x4E00;&#x4E2A;&#x533A;&#x5C31;&#x80FD;&#x4FDD;&#x8BC1;&#x664B;&#x7EA7;&#x4E86;<br>  <img src="/img/CoreData4_004.png" alt=""></p>
<p>  &#x611F;&#x8C22;&#x5F3A;&#x5927;&#x7684;&#x4EE3;&#x7406;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x505A;&#x5230;&#x53EA;&#x8981;&#x539F;&#x59CB;&#x6570;&#x636E;&#x66F4;&#x6539;&#xFF0C;&#x5C31;&#x81EA;&#x52A8;&#x89E6;&#x53D1;&#x5237;&#x65B0;&#x6570;&#x636E;&#xFF0C;&#x800C;&#x4E0D;&#x7BA1;&#x539F;&#x59CB;&#x6570;&#x636E;&#x662F;&#x600E;&#x6837;&#x53D8;&#x5316;&#x7684;</p>
<p>  &#x2026;&#x56FD;&#x8DB3;&#x2026;&#x1F64F;</p>
</li>
</ul>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2015/03/16/CoreData-三/"><span>CoreData(三)</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2015/03/16/CoreData-三/" rel="bookmark">
        <time class="entry-date published" datetime="2015-03-15T16:31:31.000Z">
          2015-03-16
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h6 id="coredata-and-swift-by-yongsir"><a href="#CoreData-and-Swift-by-YongSir&#x1F1E8;&#x1F1F3;&#x1F1E8;&#x1F1F3;" class="headerlink" title="CoreData and Swift by YongSir&#x1F1E8;&#x1F1F3;&#x1F1E8;&#x1F1F3;"></a>CoreData and Swift by YongSir&#x1F1E8;&#x1F1F3;&#x1F1E8;&#x1F1F3;</h6><p><strong>NSFetchRequest is the multi-function Swiss army knife of the Core Data framework!</strong></p>
<p>&#x8FD9;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x5C06;&#x96C6;&#x4E2D;&#x4ECB;&#x7ECD;coreData&#x4E2D;fetch&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5728;&#x524D;&#x8FB9;&#x6240;&#x6709;&#x7684;fetch&#x57FA;&#x672C;&#x90FD;&#x662F;&#x4E00;&#x4E2A;&#x5957;&#x8DEF;&#xFF1A;<code>create an instance of NSFetchRequest</code>, <code>configure it and hand it over to NSManagedObjectContext</code>&#xFF0C;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x4E8B;&#x5B9E;&#x4E0A;&#x6709;4&#x79CD;&#x6301;&#x6709;&#x8BF7;&#x6C42;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x4E3A;&#x4E86;&#x4E0D;&#x663E;&#x7A81;&#x5140;&#xFF0C;&#x90FD;&#x5217;&#x4E3E;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// 1</span><br><span class="line">let fetchRequest1 = NSFetchRequest()</span><br><span class="line">let entity = NSEntityDescription.entityForName(&quot;XXX&quot;, inManagedObjectContext: managedObjectContext)</span><br><span class="line">fetchRequest1.entity = entity!</span><br><span class="line"></span><br><span class="line">// 2</span><br><span class="line">let fetchRequest2 = NSFetchRequest(entityName: &quot;XXX&quot;)</span><br><span class="line"></span><br><span class="line">// 3</span><br><span class="line">let fetchRequest3 = managedObjectModel.fetchRequestTemplateName(&#x201C;peopleFR&quot;)</span><br><span class="line"></span><br><span class="line">// 4</span><br><span class="line">let fetchRequest4 = managedObjectModel.fetchRequestFromTemplateWithName(&quot;peropleFR&quot;, substitutionVariables:[&quot;NAME&quot; : &quot;Ray&quot;])</span><br></pre></td></tr></table></figure>
<p>&#x5176;&#x5B9E;&#x533A;&#x522B;&#x5E76;&#x4E0D;&#x50CF;&#x60F3;&#x8C61;&#x7684;&#x5927;&#x548C;&#x7A81;&#x5140;&#xFF0C;&#x5BF9;&#x4E8E;request&#x6765;&#x8BF4;&#xFF0C;&#x8DDF;&#x91CD;&#x8981;&#x7684;&#x5728;&#x4E8E;&#x7279;&#x5B9A;&#x7684;&#x4E00;&#x4E9B;&#x914D;&#x7F6E;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x4E0D;&#x5199;SQL&#x8BED;&#x53E5;&#x4E5F;&#x80FD;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x3002;&#x4F7F;&#x7528;DemoBubbleTeaFinder&#x6765;&#x5177;&#x4F53;&#x8BF4;&#x660E;&#x5427;</p>
<hr>
<p>&#x9996;&#x5148;&#x662F;&#x521B;&#x5EFA;&#x9879;&#x76EE;&#xFF0C;&#x6DFB;&#x52A0;coreData Stack&#x7B49;&#x7B49;&#x7684;&#x51C6;&#x5907;&#x5DE5;&#x4F5C;&#xFF0C;&#x597D;&#x5728;&#x5DF2;&#x7ECF;&#x5B8C;&#x6210;&#x4E86;<br>&#x5148;&#x4ECB;&#x7ECD;&#x4E00;&#x79CD;&#x6700;&#x76F4;&#x63A5;&#x7684;request&#x65B9;&#x5F0F;&#xFF0C;&#x5C31;&#x662F;&#x5229;&#x7528;Xcode&#x7684;data editer&#x6DFB;&#x52A0;requset&#xFF0C;&#x7136;&#x540E;&#x518D;&#x901A;&#x8FC7;&#x4EE3;&#x7801;&#x5173;&#x8054;&#xFF0C;&#x7528;fetchRequest&#x627F;&#x63A5;&#xFF1A;</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x5173;&#x8054;editor&#x7684;request &#xFF0D;&#xFF0D; &#x901A;&#x8FC7;model &#xFF0B; Xcode&#x8F85;&#x52A9;</span></span><br><span class="line">fetchRequest = coreDataStack.model.fetchRequestTemplateForName(<span class="string">&quot;FetchRequest&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF1A;</p>
<ol>
<li>&#x5B83;&#x76F4;&#x63A5;&#x4ECE;NSManagedObjectModele&#xFF0C;&#x901A;&#x8FC7;&#x501F;&#x52A9;Xcode&#x8F85;&#x52A9;&#x800C;&#x6765;&#xFF0C;&#x4F7F;&#x7528;&#x5F02;&#x5E38;&#x7B80;&#x5355;&#xFF1B;</li>
<li>&#x7F3A;&#x70B9;&#x5728;&#x4E8E;&#x5F62;&#x5F0F;&#x56FA;&#x5B9A;&#xFF08;<em>A drawback of stored fetch requests is that there is no way to specify a sort order for the results.</em>&#xFF09;&#xFF0C;&#x4E0D;&#x80FD;&#x591A;&#x4F59;&#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x6240;&#x6709;&#x5E38;&#x7528;&#x4E8E;&#x9700;&#x8981;&#x53CD;&#x590D;&#x591A;&#x6B21;&#x76F8;&#x540C;&#x7684;request&#x65F6;&#xFF0C;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x5F88;&#x5C11;&#x9047;&#x5230;&#x3002;&#x5982;&#x679C;&#x6267;&#x610F;&#x8981;&#x4F7F;&#x7528;&#xFF0C;&#x90A3;&#x51FA;&#x73B0;&#x8FD9;&#x79CD;&#x9519;&#x8BEF;&#x5C31;&#x4E0D;&#x8981;&#x5947;&#x602A;&#x4E86;&#xFF1A;</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Terminating app due to uncaught exception &apos;NSInternalInconsistencyException&apos;, reason: &apos;Can&apos;t modify a named fetch request in an immutable model.&apos;</span><br></pre></td></tr></table></figure>
<hr>
<p>&#x5982;&#x679C;&#x53EA;&#x662F;&#x5355;&#x7EAF;&#x7684;&#x4EE5;&#x4E3A;request&#x53EA;&#x662F;&#x5355;&#x7EAF;&#x7684;&#x83B7;&#x53D6;&#x6570;&#x636E;&#xFF0C;&#x90A3;&#x5C31;&#x5927;&#x9519;&#x7279;&#x9519;&#x4E86;&#xFF0C;&#x5B83;&#x7684;&#x529F;&#x80FD;&#x4E0D;&#x6B62;&#x5982;&#x6B64; &#xFF1A;You can use it to fetch individual values, compute statistics on your data such as the average, minimum and maximum, and more.&#x5B83;&#x62E5;&#x6709;&#x4E00;&#x4E2A;&#x53EF;&#x4EE5;&#x89C4;&#x5B9A;&#x8FD4;&#x56DE;&#x7C7B;&#x578B;&#x7684;&#x5C5E;&#x6027;NSManagedObjectResultType &#xFF0C;&#x6709;&#x56DB;&#x79CD;&#x7C7B;&#x578B;&#xFF1A;</p>
<ul>
<li><strong>NSManagedObjectResultType</strong>: Returns managed objects (default value).</li>
<li><strong>NSCountResultType</strong>: Returns the count of the objects that match the fetch request.</li>
<li><strong>NSDictionaryResultType</strong>: This is a catch-all return type for returning the results of different calculations.</li>
<li><strong>NSManagedObjectIDResultType</strong>: Returns unique identifiers instead of full- fledged managed objects.</li>
</ul>
<p>&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x4F7F;&#x7528;countResultType&#xFF0C;Demo&#x4E2D;&#x7684;Filters&#x754C;&#x9762;&#xFF0C;&#x4E3B;&#x8981;&#x529F;&#x80FD;&#x662F;&#x6309;&#x7167;&#x7ED9;&#x5B9A;&#x7684;&#x6807;&#x8BB0;&#x5F52;&#x6863;&#x5206;&#x7C7B;&#xFF0C;&#x7ED9;&#x51FA;&#x5F53;&#x524D;&#x6700;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x7684;&#x5E97;&#x5740;&#xFF0C;&#x5176;&#x4E2D;&#x7684;PRICE&#x90E8;&#x5206;&#xFF0C;&#x662F;&#x6839;&#x636E;&#x4EF7;&#x683C;&#x5206;&#x7C7B;&#x7684;&#xFF1A;</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">// &#x4F7F;&#x7528;CountResultType&#x65B9;&#x5F0F;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x53EA;&#x5305;&#x542B;&#x603B;&#x6570;&#x76EE;&#x7684;&#x6570;&#x7EC4;</span></span><br><span class="line">  <span class="comment">// &#x5F53;&#x7136;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x8FD4;&#x56DE;&#x6240;&#x6709;&#x7684;[Venue],&#x5728;&#x5F97;&#x51FA;&#x6570;&#x91CF;&#xFF0C;&#x4F46;&#x5F53;&#x6570;&#x636E;&#x5DE8;&#x5927;&#x65F6;&#xFF0C;</span></span><br><span class="line">  <span class="comment">// CountResultType&#x65B9;&#x5F0F;&#x5C31;&#x662F;&#x4E00;&#x79CD;&#x9AD8;&#x6548;&#x7684;&#x9009;&#x62E9;&#xFF08;is more memory- efficient&#xFF09;</span></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">populateCheapVenueCountLable</span><span class="params">()</span></span> {</span><br><span class="line">     <span class="keyword">let</span> fetchRequest = <span class="type">NSFetchRequest</span>(entityName: <span class="string">&quot;Venue&quot;</span>)</span><br><span class="line">     fetchRequest.resultType = <span class="type">NSFetchRequestResultType</span>.<span class="type">CountResultType</span></span><br><span class="line">     fetchRequest.predicate = cheapVenuePredicate</span><br><span class="line">     <span class="comment">// &#x6267;&#x884C;&#x8BF7;&#x6C42;</span></span><br><span class="line">      <span class="keyword">do</span> {</span><br><span class="line">          <span class="keyword">let</span> results = <span class="keyword">try</span>           coreDataStack.context.executeFetchRequest(fetchRequest) <span class="keyword">as</span>! [<span class="type">NSNumber</span>]</span><br><span class="line">     <span class="comment">// &#x4ECE;&#x6570;&#x7EC4;&#x4E2D;&#x53D6;&#x51FA;</span></span><br><span class="line">          <span class="keyword">let</span> <span class="built_in">count</span> = results[<span class="number">0</span>].integerValue</span><br><span class="line">          firstPriceCategoryLabel.text = <span class="string">&quot;\(count) bubbke tea places&quot;</span></span><br><span class="line">           }<span class="keyword">catch</span> <span class="keyword">let</span> error <span class="keyword">as</span> <span class="type">NSError</span> {</span><br><span class="line">          <span class="built_in">print</span>(<span class="string">&quot;&#x672A;&#x80FD;&#x6210;&#x529F;&#x83B7;&#x53D6;\(error) ,\(error.userInfo)&quot;</span>)</span><br><span class="line">      }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;<code>NSCountResultType</code>&#x4F1A;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#x201C;&#xFF3B;12&#xFF3D;&#x201D;&#xFF0C;&#x4F46;&#x8FD9;&#x4E2A;&#x6570;&#x7EC4;&#x53EA;&#x542B;&#x6709;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;&#x6B64;&#x5916;&#x4E0D;&#x4F1A;&#x5C06;&#x6240;&#x6709;&#x9879;&#x76EE;&#x90FD;&#x52A0;&#x8F7D;&#xFF0C;&#x5728;&#x5904;&#x7406;&#x5927;&#x91CF;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x662F;&#x4E00;&#x79CD;&#x9AD8;&#x6548;&#x7684;&#x5F97;&#x5230;&#x6570;&#x91CF;&#x7684;&#x65B9;&#x5F0F;&#x3002;</p>
<p>&#x5728;Offering a deal&#x6761;&#x76EE;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x5F97;&#x5230;&#x4EA4;&#x6613;&#x6570;&#x76EE;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;JSON&#x4E2D;&#x5404;&#x4E2A;&#x4E0D;&#x540C;&#x5E97;&#x94FA;&#x7684;specialCount&#x5B57;&#x6BB5;&#x4E0B;&#x7684;&#x503C;&#x7684;&#x548C;&#xFF0C;&#x5F53;&#x7136;&#x628A;&#x6240;&#x6709;&#x7684;&#x5E97;&#x94FA;&#x4FE1;&#x606F;&#x5168;&#x90E8;&#x53D6;&#x51FA;&#x6765;&#x7136;&#x540E;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;for&#x5FAA;&#x73AF;&#x53BB;&#x6C42;&#x548C;&#x662F;&#x53EF;&#x4EE5;&#x7684;&#xFF0C;&#x4F46;&#x8003;&#x8651;&#x5230;&#x5927;&#x91CF;&#x6570;&#x636E;&#x7684;&#x60C5;&#x5F62;&#x5C31;&#x4E0D;&#x884C;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;coreData&#x4E3A;&#x6211;&#x4EEC;&#x63D0;&#x4E86;<code>NSDictionaryResultType</code>&#x8FD9;&#x79CD;&#x7C7B;&#x578B;&#xFF0C;&#x4F1A;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x7684;&#x8BA1;&#x7B97;&#x540E;&#x7684;&#x7ED3;&#x679C;&#xFF0C; has built-in support for a number of different functions such as average, sum, min and max.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">populateDealsCountLabel</span><span class="params">()</span></span> {</span><br><span class="line"></span><br><span class="line">     <span class="comment">// 1 &#x4F7F;&#x7528;DictionaryResultType&#x65B9;&#x5F0F;--&#x5373;&#x662F;&#x4EE5;NSDictionary&#x7684;&#x683C;&#x5F0F;&#x7EC4;&#x7EC7;&#x8FD4;&#x56DE;          &#x7684;&#x6570;&#x636E;</span></span><br><span class="line">     <span class="keyword">let</span> fetchRequest = <span class="type">NSFetchRequest</span>(entityName: <span class="string">&quot;Venue&quot;</span>)</span><br><span class="line">     fetchRequest.resultType = <span class="type">NSFetchRequestResultType</span>.<span class="type">DictionaryResultType</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">// 2 &#x521B;&#x5EFA;NSExpressionDescription&#xFF0C;&#x5E76;&#x547D;&#x540D;</span></span><br><span class="line">     <span class="keyword">let</span> sumExpressionDesc = <span class="type">NSExpressionDescription</span>()</span><br><span class="line">     sumExpressionDesc.name = <span class="string">&quot;sumDeals&quot;</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">// 3 &#x622A;&#x53D6;specialCount&#x5B57;&#x6BB5;&#xFF0C;&#x5E76;&#x505A;sum&#x8BA1;&#x7B97;</span></span><br><span class="line">     sumExpressionDesc.expression = <span class="type">NSExpression</span>(forFunction: <span class="string">&quot;sum:&quot;</span>, arguments: [<span class="type">NSExpression</span>(forKeyPath: <span class="string">&quot;specialCount&quot;</span>)])</span><br><span class="line">     sumExpressionDesc.expressionResultType = <span class="type">NSAttributeType</span>.<span class="type">Integer32AttributeType</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">// 4 &#x914D;&#x7F6E;&#x8BF7;&#x6C42;:propertiesToFetch&#x5C5E;&#x6027;&#x8D4B;&#x503C;</span></span><br><span class="line">      fetchRequest.propertiesToFetch = [sumExpressionDesc]</span><br><span class="line"></span><br><span class="line">     <span class="comment">// 5 &#x6267;&#x884C;&#x8BF7;&#x6C42; &#xFF0B; &#x66F4;&#x65B0;UI</span></span><br><span class="line">     <span class="keyword">do</span> {</span><br><span class="line">         <span class="keyword">let</span> results = <span class="keyword">try</span>           coreDataStack.context.executeFetchRequest(fetchRequest) <span class="keyword">as</span>! [<span class="type">NSDictionary</span>]</span><br><span class="line">          <span class="comment">// &#x5B9E;&#x9645;&#x4E0A;&#x4F1A;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x5B57;&#x5178;&#x7684;&#x6570;&#x7EC4; &#xFF3B;{sumDeals &#xFF1D; 12;}&#xFF3D;</span></span><br><span class="line">         <span class="keyword">let</span> resultDict = results[<span class="number">0</span>]</span><br><span class="line">         <span class="built_in">print</span>(results)</span><br><span class="line">         <span class="keyword">let</span> numDeals: <span class="type">AnyObject</span>? = resultDict[<span class="string">&quot;sumDeals&quot;</span>]</span><br><span class="line">         numDealsLabel.text = <span class="string">&quot;\(numDeals!) total deals&quot;</span></span><br><span class="line">     }<span class="keyword">catch</span> <span class="keyword">let</span> error <span class="keyword">as</span> <span class="type">NSError</span>{</span><br><span class="line">         <span class="built_in">print</span>(<span class="string">&quot;&#x672A;&#x80FD;&#x6210;&#x529F;&#x83B7;&#x53D6;&#x6298;&#x6263;&#x6570;&#x91CF;\(error),\(error.userInfo)&quot;</span>)</span><br><span class="line">     }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x5176;&#x4E2D;&#xFF0C;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x9700;&#x8981;&#x521B;&#x5EFA;&#x548C;&#x914D;&#x7F6E;<code>NSExpressionDescription</code>&#xFF0C;&#x8BBE;&#x7F6E;<code>propertiesToFetch</code>&#x5C5E;&#x6027;&#xFF0C;&#x6267;&#x884C;&#x8BF7;&#x6C42;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x662F;&#x4E00;&#x4E2A;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x5B57;&#x5178;&#x7684;&#x6570;&#x7EC4;<em>&#xFF3B;{sumDeals &#xFF1D; 12;}&#xFF3D;</em>&#x3002;&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x7531;&#x4E8E;&#x4EE3;&#x7801;&#x7684;&#x4E0D;&#x76F4;&#x89C2;&#xFF0C;&#x9664;&#x975E;&#x5904;&#x4E8E;&#x6027;&#x80FD;&#x4E0A;&#x7684;&#x8003;&#x8651;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x7528;&#x6CD5;&#x5E76;&#x4E0D;&#x5E38;&#x89C1;&#xFF1A;</p>
<blockquote>
<p>Fetching a calculated value from Core Data requires you to follow many, often unintuitive steps, so make sure you have a good reason for using this technique&#x2014; like performance considerations.</p>
</blockquote>
<p>&#x81F3;&#x5C11;&#x73B0;&#x5728;&#x5DF2;&#x7ECF;&#x7528;&#x8FC7;&#x4E86;3&#x79CD;&#x65B9;&#x5F0F;&#xFF08;&#x597D;&#x5427;&#xFF0C;&#x5176;&#x5B9E;&#x662F;2&#x79CD;&#xFF09;&#xFF0C;&#x8FD8;&#x6709;&#x6700;&#x540E;&#x4E00;&#x79CD;<code>NSManagedObjectIDResultType</code>&#xFF0C;&#x4F1A;&#x8FD4;&#x56DE;&#x4E00;&#x7EC4;&#x7B26;&#x5408;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x7684;&#x67E5;&#x627E;&#x5230;&#x7684;&#x6258;&#x7BA1;&#x7684;&#x6570;&#x636E;&#x201C;&#xFF3B;ID&#x2026;&#xFF3D;&#x201D;&#xFF0C;&#x5C31;&#x50CF;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;id&#x4E00;&#x6837;&#x3002;&#x5728;ios5&#x4E4B;&#x540E;&#x7684;&#x5E76;&#x53D1;&#x6280;&#x672F;&#x5F15;&#x5165;&#x4EE5;&#x540E;&#xFF0C;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x5C31;&#x66F4;&#x5C11;&#x89C1;&#x5230;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x57FA;&#x672C;&#x53EF;&#x4EE5;&#x5FFD;&#x7565;&#x3002;</p>
<blockquote>
<p>When you fetch with this type, the result is an array of NSManagedObjectID objects rather the actual managed objects they represent. An NSManagedObjectID is a compact, universal identifier for a managed object. It works like the primary key in the database!</p>
</blockquote>
<hr>
<p>&#x5728;&#x8865;&#x5168;Files&#x4E2D;&#x7684;&#x5269;&#x4F59;&#x6761;&#x76EE;&#x4E4B;&#x524D;&#xFF0C;&#x5148;&#x6765;&#x601D;&#x8003;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF1A;</p>
<p>You&#x2019;ve gotten a taste of all the things a fetch request can do for you. <em>But just as important as the information a fetch request returns is the information it doesn&#x2019;t return. For practical reasons, you have cap the incoming data at some point.</em></p>
<p>Why? Imagine a perfectly connected object graph, one where each Core Data object is connected to every other object through a series of relationships. If Core Data didn&#x2019;t put limits on the information a fetch request returned, you&#x2019;d be fetching the entire object graph every single time! That&#x2019;s not memory efficient.</p>
<p>&#x6240;&#x4EE5;&#x5FC5;&#x987B;&#x8981;&#x5BF9;&#x83B7;&#x53D6;&#x7684;&#x8BF7;&#x6C42;&#x52A0;&#x4EE5;&#x9650;&#x5236;&#xFF0C;&#x597D;&#x5728;&#x6211;&#x4EEC;&#x6709;&#x5F88;&#x591A;&#x79CD;&#x624B;&#x6BB5;&#xFF1A;<br>There are ways you can manually limit the information you get back from a fetch request. For example, NSFetchRequest supports fetching batches. You can use the properties fetchBatchSize, fetchLimit and fetchOffset to control the batching behavior.</p>
<p>Yet another way to limit your object graph is to use predicates, as you&#x2019;ve done to populate the venue count labels above.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> offeringDealPredicate: <span class="type">NSPredicate</span> = {</span><br><span class="line">   <span class="keyword">var</span> pr = <span class="type">NSPredicate</span>(format: <span class="string">&quot;specialCount &gt; 0&quot;</span>)</span><br><span class="line">   <span class="keyword">return</span> pr</span><br><span class="line">}()</span><br><span class="line"></span><br><span class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> walkingDistancePredicate: <span class="type">NSPredicate</span> = {</span><br><span class="line">   <span class="keyword">var</span> pr = <span class="type">NSPredicate</span>(format: <span class="string">&quot;location.distance &lt; 500&quot;</span>)</span><br><span class="line">   <span class="keyword">return</span> pr</span><br><span class="line">}()</span><br><span class="line"></span><br><span class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> hasUserTipsPredicate: <span class="type">NSPredicate</span> = {</span><br><span class="line">   <span class="keyword">var</span> pr = <span class="type">NSPredicate</span>(format: <span class="string">&quot;stats.tipCount &gt; 0&quot;</span>)</span><br><span class="line">   <span class="keyword">return</span> pr</span><br><span class="line">}()</span><br></pre></td></tr></table></figure>
<p>&#x540C;&#x65F6;&#x8865;&#x5168;tableViewDelegate&#x4E2D;&#x7684;&#x5185;&#x5BB9;<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">//MARK: - UITableViewDelegate methods</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, didSelectRowAtIndexPath indexPath: NSIndexPath)</span></span> {</span><br><span class="line">    <span class="keyword">let</span> cell = tableView.cellForRowAtIndexPath(indexPath)!</span><br><span class="line">    <span class="comment">// &#x4E0D;&#x540C;&#x7684;cell&#xFF0C;&#x5BF9;&#x5E94;&#x4E0D;&#x7528;&#x7684;predicate</span></span><br><span class="line">    <span class="keyword">switch</span> cell {</span><br><span class="line">      <span class="comment">// PRICE section</span></span><br><span class="line">      <span class="keyword">case</span> cheapVenueCell:</span><br><span class="line">          selectedPredicate = cheapVenuePredicate</span><br><span class="line">      <span class="keyword">case</span> moderateVenueCell:</span><br><span class="line">          selectedPredicate = moderateVenuePredicate</span><br><span class="line">      <span class="keyword">case</span> expensiveVenueCell:</span><br><span class="line">          selectedPredicate = expensiveVenuePredicate</span><br><span class="line">      <span class="comment">// POPULATE section</span></span><br><span class="line">      <span class="keyword">case</span> offeringDealCell:</span><br><span class="line">          selectedPredicate = offeringDealPredicate</span><br><span class="line">      <span class="keyword">case</span> walkingDistanceCell:</span><br><span class="line">          selectedPredicate = walkingDistancePredicate</span><br><span class="line">      <span class="keyword">case</span> userTipsCell:</span><br><span class="line">          selectedPredicate = hasUserTipsPredicate</span><br><span class="line">      <span class="keyword">default</span>:</span><br><span class="line">          <span class="built_in">print</span>(<span class="string">&quot;default case&quot;</span>)</span><br><span class="line">     }       cell.accessoryType = <span class="type">UITableViewCellAccessoryType</span>.<span class="type">Checkmark</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<p>&#x501F;&#x52A9;&#x4EE3;&#x7406;&#x4F20;&#x56DE;&#x5230;&#x4E3B;&#x63A7;&#x5236;&#x5668;&#xFF0C;&#x63A7;&#x5236;&#x5237;&#x65B0;&#x4E3B;&#x754C;&#x9762;&#x7684;venue&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#x6309;&#x7167;&#x6307;&#x5B9A;&#x8981;&#x6C42;&#x83B7;&#x53D6;&#x5BF9;&#x5E94;&#x6570;&#x636E;&#x7684;&#x76EE;&#x7684;&#xFF0D;&#xFF0D;&#x4E5F;&#x5C31;&#x662F;&#x201C;&#x67E5;&#x627E;&#x201D;&#x529F;&#x80FD;</p>
<hr>
<p>&#x63A5;&#x4E0B;&#x6765;&#x66F4;&#x8FDB;&#x4E00;&#x6B65;&#xFF0C;&#x5728;&#x73B0;&#x5B9E;&#x4E2D;&#xFF0C;&#x5728;&#x67E5;&#x627E;&#x4E4B;&#x4F59;&#x80FD;&#x6392;&#x5E8F;&#x7684;&#x9700;&#x6C42;&#x66F4;&#x52A0;&#x5E7F;&#x6CDB;&#xFF0C;&#x6240;&#x4EE5;coreData&#x4E5F;&#x4E3A;&#x6211;&#x4EEC;&#x51C6;&#x5907;&#x4E86;&#x65B9;&#x4FBF;&#x7684;&#x5DE5;&#x5177;NSSortDescriptor&#xFF0C;&#x5E76;&#x4E14;&#x5176;&#x7528;&#x6CD5;&#x8DDF;&#x5355;&#x7EAF;&#x8D1F;&#x8D23;&#x67E5;&#x627E;&#x7684;NSPredicte&#x662F;&#x5206;&#x7C7B;&#x4E86;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x4ECD;&#x65E7;&#x9996;&#x5148;&#x505A;lazy&#xFF1A;<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//MARK: - lazy SortDescriptor</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x6309;&#x59D3;&#x540D;&#x6392;&#x5E8F;</span></span><br><span class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> nameSortDescriptor: <span class="type">NSSortDescriptor</span> = {</span><br><span class="line">   <span class="keyword">var</span> sd = <span class="type">NSSortDescriptor</span>(key: <span class="string">&quot;name&quot;</span>, ascending: <span class="literal">true</span>, selector: <span class="string">&quot;localizedStandardCompare:&quot;</span>) <span class="comment">// &#x5C31;&#x662F;&#x8981;&#x753B;&#x86C7;&#x6DFB;&#x8DB3;&#x600E;&#x7684;</span></span><br><span class="line">   <span class="keyword">return</span> sd</span><br><span class="line">   }()</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x6309;&#x8DDD;&#x79BB;&#x6392;&#x5E8F;</span></span><br><span class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> distanceSortDescriptor: <span class="type">NSSortDescriptor</span> = {</span><br><span class="line">   <span class="keyword">var</span> sd = <span class="type">NSSortDescriptor</span>(key: <span class="string">&quot;location.distance&quot;</span>, ascending: <span class="literal">true</span>)</span><br><span class="line">   <span class="keyword">return</span> sd</span><br><span class="line">   }()</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x6309;&#x5047;&#x671F;&#x6392;&#x5E8F;</span></span><br><span class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> priceSortDescriptor: <span class="type">NSSortDescriptor</span> = {</span><br><span class="line">   <span class="keyword">var</span> sd = <span class="type">NSSortDescriptor</span>(key: <span class="string">&quot;piceInfo.priceCategory&quot;</span>, ascending: <span class="literal">true</span>)</span><br><span class="line">   <span class="keyword">return</span> sd</span><br><span class="line">   }()</span><br></pre></td></tr></table></figure></p>
<p>To initialize an instance of NSSortDescriptor you need three things: a key path to specify the attribute by which you want to sort, a specification of whether the sort is ascending or descending and an optional selector.</p>
<p><code>NSSortDescriptor</code>&#x7684;&#x5B9E;&#x4F8B;&#x8BDD;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x6307;&#x660E;3&#x4E2A;&#x4E1C;&#x897F;&#xFF1A;key&#xFF0D;&#xFF0D;&#x8868;&#x793A;&#x5BF9;&#x8C01;&#x6392;&#x5E8F;&#xFF0C;&#x5E03;&#x5C14;&#x7684;ascending&#xFF0D;&#xFF0D;&#x6307;&#x5B9A;&#x964D;&#x5E8F;&#x8FD8;&#x662F;&#x5347;&#x5E8F;&#xFF0C;&#x4EE5;&#x53CA;&#x53EF;&#x9009;&#x7684;selector&#xFF0D;&#xFF0D;&#x9488;&#x5BF9;&#x5176;&#x4ED6;&#x7279;&#x6B8A;&#x8981;&#x6C42;&#x3002;&#x4E0D;&#x4F7F;&#x7528;&#x53EF;&#x9009;&#x7684;selector&#x65F6;&#xFF0C;&#x7CFB;&#x7EDF;&#x4F1A;&#x9ED8;&#x8BA4;&#x8C03;&#x7528;<code>localizedStandardCompare</code> &#x65B9;&#x6CD5;&#x505A;&#x4E00;&#x4E9B;&#x521A;&#x521A;&#x591F;&#x7528;&#x7684;&#x6392;&#x5E8F;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x7279;&#x6B8A;&#x8981;&#x6C42;&#xFF0C;&#x90A3;&#x5C31;&#x81EA;&#x5DF1;&#x5B9E;&#x73B0;selector&#x5427;&#xFF01;</p>
<p>&#x6B64;&#x5916;&#x989D;&#x5916;&#x7684;&#x8865;&#x5145;&#x4E00;&#x70B9;&#x513F;&#xFF1A;coreData&#x4E2D;&#x7684;NSSortDescriptor&#x548C;NSPredicate&#xFF0C;&#x90FD;&#x4E0D;&#x652F;&#x6301;&#x5728;&#x5904;&#x7406;&#x6570;&#x7EC4;&#x7B49;&#x96C6;&#x5408;&#x4E2D;&#x5E38;&#x89C1;&#x7684;&#x7684;Block&#x5F0F;&#x7684;API&#xFF0C;&#x8FD9;&#x662F;&#x51FA;&#x4E8E;&#x8FD9;&#x6837;&#x7684;&#x8003;&#x8651;&#xFF1A;&#x6392;&#x5E8F;&#x548C;&#x67E5;&#x627E;&#x90FD;&#x662F;SQLite&#x5C42;&#x7EA7;&#x7684;&#x5904;&#x7406;&#xFF0C;&#x9700;&#x8981;&#x7CFB;&#x7EDF;&#x80FD;&#x5FEB;&#x901F;&#x7684;&#x53D8;&#x6210;SQL&#x8BED;&#x53E5;&#x3002;</p>
<blockquote>
<p>The reason is related to the fact that filtering/sorting happens in the SQLite database, so the predicate/sort descriptor has to match nicely to something that can be written as an SQLite statement.</p>
</blockquote>
<p>OK&#xFF0C;&#x8FD8;&#x662F;&#x8BF4;&#x56DE;&#x6765;&#xFF0C;&#x7EE7;&#x7EED;&#x5B8C;&#x6210;&#x6392;&#x5E8F;&#x529F;&#x80FD;&#xFF0C;&#x53BB;&#x6DFB;&#x52A0;&#x6392;&#x5E8F;&#x5B9E;&#x4F8B;&#x7136;&#x540E;&#x5E76;&#x901A;&#x8FC7;&#x4EE3;&#x7406;&#x4F20;&#x9012;&#x5230;&#x4E3B;&#x63A7;&#x5236;&#x5668;&#x3002;let&#x2019;s go down to didSelectRowAtIndexPath and add the following cases to the end of the switch statement:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// SORT section</span></span><br><span class="line"><span class="keyword">case</span> nameAZSortCell:</span><br><span class="line">   selectedSortDescriptor = nameSortDescriptor</span><br><span class="line"><span class="keyword">case</span> nameZASortCell:</span><br><span class="line">   selectedSortDescriptor = nameSortDescriptor.reversedSortDescriptor <span class="keyword">as</span>? <span class="type">NSSortDescriptor</span></span><br><span class="line"><span class="keyword">case</span> distanceSortCell:</span><br><span class="line">   selectedSortDescriptor = distanceSortDescriptor</span><br><span class="line"><span class="keyword">case</span> priceSortCell:</span><br><span class="line">  selectedSortDescriptor = priceSortDescriptor</span><br></pre></td></tr></table></figure>
<p>&#x622A;&#x6B62;&#x76EE;&#x524D;&#x4E3A;&#x6B62;&#xFF0C;&#x529F;&#x80FD;&#x90E8;&#x5206;&#x5B9E;&#x73B0;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x6709;&#x4E00;&#x4E2A;&#x574F;&#x6D88;&#x606F;&#x662F;&#x76EE;&#x524D;&#x7684;request&#x90FD;&#x662F;&#x5728;&#x4E3B;&#x7EBF;&#x7A0B;&#xFF0C;&#x8FD9;&#x663E;&#x7136;&#x662F;&#x4E00;&#x4E2A;&#x4F18;&#x8D28;&#x5E94;&#x7528;&#x5E94;&#x8BE5;&#x907F;&#x514D;&#x7684;&#xFF0C;&#x73B0;&#x5728;&#x7684;demo&#x8FD0;&#x884C;&#x8D77;&#x6765;&#x5E76;&#x4E0D;&#x5361;&#x662F;&#x5E94;&#x4E3A;&#x8FC7;&#x4E8E;&#x7B80;&#x5355;&#xFF0C;&#x6240;&#x4EE5;&#x8BF7;&#x6C42;&#x7684;&#x5F02;&#x90E8;&#x5316;&#x662F;&#x5FC5;&#x7136;&#x7684;&#x3002;</p>
<hr>
<p><strong>Asynchronous fetching</strong></p>
<p>&#x6B63;&#x662F;&#x8003;&#x8651;&#x5230;&#x4E3B;&#x7EBF;&#x7A0B;&#x5360;&#x7528;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x6240;&#x4EE5;&#x5728;iOS8&#x4E4B;&#x540E;&#xFF0C;&#x82F9;&#x679C;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x65B0;&#x7684;&#x8BF7;&#x6C42;&#xFF1A; <code>NSAsynchronousFetchRequest</code>&#xFF0C;&#x770B;&#x8D77;&#x6765;&#x5C31;&#x50CF;&#x662F;&#x5BF9;&#x65E7;&#x7684;<code>NSFetchRequest</code>&#x4E00;&#x4E2A;&#x5F02;&#x6B65;&#x7684;&#x5305;&#x88C5;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x7684;&#x5B9E;&#x4F8B;&#x5316;&#x9700;&#x8981;&#x666E;&#x901A;&#x7684;<code>NSFetchRequest</code>&#xFF0C;&#x5728;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x4E2D;&#x5C31;&#x80FD;&#x770B;&#x51FA;&#xFF0C;&#x5BF9;&#x5E94;&#x4E8E;&#x5F02;&#x6B65;&#x8BF7;&#x6C42;&#xFF0C;&#x51FA;&#x73B0;&#x5F02;&#x6B65;&#x7ED3;&#x679C; <code>NSAsynchronousFetchResult</code>&#x5C31;&#x662F;&#x5F88;&#x81EA;&#x7136;&#x4E86;&#xFF0C;&#x540C;&#x65F6;&#x8FD8;&#x9700;&#x8981;&#x6709;&#x4E3B;&#x7EBF;&#x7A0B;&#x7684;&#x56DE;&#x8C03;&#xFF0C;&#x7B49;&#x4E0D;&#x53CA;&#x4E86;&#x76F4;&#x63A5;&#x4E0A;&#x4EE3;&#x7801;&#xFF0C;&#x5728;&#x4E3B;&#x63A7;&#x5236;&#x5668;&#x7684;<code>ViewDidLoad</code>&#x4E2D;&#x66FF;&#x6362;&#x539F;&#x8BF7;&#x6C42;&#x4E3A;&#xFF1A;</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 1 &#x521B;&#x5EFA;&#x8BF7;&#x6C42;</span></span><br><span class="line">fetchRequest = <span class="type">NSFetchRequest</span>(entityName: <span class="string">&quot;Venue&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2 &#x5F02;&#x6B65;&#x8BF7;&#x6C42; &#xFF0B; &#x5B8C;&#x6210;&#x56DE;&#x8C03;&#x66F4;&#x65B0;UI</span></span><br><span class="line">asyncFetchRequest = <span class="type">NSAsynchronousFetchRequest</span>(fetchRequest: fetchRequest, completionBlock: {</span><br><span class="line">     (results: <span class="type">NSAsynchronousFetchResult</span>) -&gt; <span class="type">Void</span> <span class="keyword">in</span></span><br><span class="line">         <span class="keyword">self</span>.venues = results.finalResult <span class="keyword">as</span>! [<span class="type">Venue</span>]</span><br><span class="line">         <span class="keyword">self</span>.tableView.reloadData()</span><br><span class="line">})</span><br><span class="line"><span class="comment">// 3 &#x6267;&#x884C;&#x8BF7;&#x6C42;</span></span><br><span class="line"><span class="keyword">do</span> {</span><br><span class="line">     <span class="keyword">let</span> results = <span class="keyword">try</span> coreDataStack.context.executeRequest(asyncFetchRequest)</span><br><span class="line">     <span class="keyword">let</span> persistentStoreResults = results</span><br><span class="line">}<span class="keyword">catch</span> <span class="keyword">let</span> error <span class="keyword">as</span> <span class="type">NSError</span> {</span><br><span class="line">     <span class="built_in">print</span>(<span class="string">&quot;&#x672A;&#x80FD;&#x6210;&#x529F;&#x83B7;&#x53D6;\(error),\(error.userInfo)&quot;</span>)</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x4F46;&#x5982;&#x679C;&#x6B64;&#x65F6;&#x7F16;&#x8BD1;&#x8FD0;&#x884C;&#x4F1A;&#x51FA;&#x73B0;&#x8FD9;&#x6837;&#x7684;&#x9519;&#x8BEF;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSConfinementConcurrencyType context &lt;NSManagedObjectContext: 0x7f8eb3c130f0&gt; cannot support asynchronous fetch request &lt;NSAsynchronousFetchRequest: 0x7f8eb3e229e0&gt; with fetch request &lt;NSFetchRequest: 0x7f8eb3ea9580&gt;.</span><br></pre></td></tr></table></figure>
<p>&#x5B9E;&#x9645;&#x4E0A;&#x666E;&#x901A;&#x7684;<code>NSManagedObjectContext</code>&#x5E76;&#x4E0D;&#x80FD;&#x652F;&#x6301;&#x5F02;&#x6B65;&#x7684;&#x8BF7;&#x6C42;&#x65B9;&#x5F0F;&#xFF0C;&#x6240;&#x4EE5;&#x8FD8;&#x6709;&#x5176;&#x4ED6;2&#x4E2A;&#x6B65;&#x9AA4;&#x9700;&#x8981;&#x53D8;&#x66F4;</p>
<ul>
<li>first,&#x662F;<code>coreDataStack</code> &#x4E2D;&#x7684;<code>managedContext</code>&#x7684;&#x5B9E;&#x4F8B;&#x8BDD;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x6307;&#x5B9A;&#x7684;&#x5E76;&#x53D1;&#x7C7B;&#x578B;&#xFF1A;</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// &#x6307;&#x5B9A;&#x5E76;&#x53D1;&#x7C7B;&#x578B;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x5B9E;&#x4F8B;</span></span><br><span class="line"><span class="comment">/*</span><br><span class="line">NSManagedObjectContextConcurrencyType.ConfinementConcurrencyType  // &#x9ED8;&#x8BA4;</span><br><span class="line">NSManagedObjectContextConcurrencyType.PrivateQueueConcurrencyType // &#x591A;&#x7EBF;&#x7A0B;</span><br><span class="line">NSManagedObjectContextConcurrencyType.MainQueueConcurrencyType // &#x4E3B;&#x7EBF;&#x7A0B;&#x5E76;&#x53D1;</span><br><span class="line">*/</span></span><br><span class="line">context = <span class="type">NSManagedObjectContext</span>(concurrencyType: <span class="type">NSManagedObjectContextConcurrencyType</span>.<span class="type">MainQueueConcurrencyType</span>)</span><br></pre></td></tr></table></figure>
<p>&#x6709;3&#x79CD;&#x7C7B;&#x578B;&#x4F9B;&#x9009;&#x62E9;&#xFF0C;&#x9ED8;&#x8BA4;&#x7684;&#x5E76;&#x53D1;&#x7C7B;&#x578B;&#x662F;<code>&#x201C;.ConfinementConcurrencyType&#x201D;</code>&#xFF0C;&#x4F46; <em>The problem is that this concurrency type is an old pattern that is all but deprecated.</em> &#x8FD8;&#x6709;  <code>&#x201C;.PrivateQueueConcurrencyType&quot;</code>&#x7C7B;&#x578B;&#xFF0C;&#x662F;&#x5728;&#x591A;&#x7EBF;&#x7A0B;&#x4E2D;&#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x5148;&#x5F80;&#x540E;&#x653E;&#x3002;&#x5982;&#x679C;&#x6B64;&#x65F6;&#x8FD0;&#x884C;&#xFF0C;&#x5C31;&#x4F1A;&#x62A5;&#x8FD9;&#x6837;&#x7684;&#x9519;&#x8BEF;&#xFF1A;</p>
<blockquote>
<p>fatal error: unexpectedly found nil while unwrapping an Optional value</p>
</blockquote>
<ul>
<li>second&#xFF0C;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#x662F;swift&#x7F16;&#x7A0B;&#x4E2D;&#x7684;&#x8001;&#x9762;&#x5B54;&#xFF0C;&#x539F;&#x56E0;&#x5C31;&#x662F;&#x5C1D;&#x8BD5;&#x5F3A;&#x5236;&#x89E3;&#x5305;&#x4E00;&#x4E2A;&#x53EF;&#x9009;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x81EA;&#x8BA4;&#x4E3A;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x505A;&#x5230;&#x5F88;&#x6CE8;&#x610F;&#x7C7B;&#x578B;&#x7684;&#x8BDD;&#xFF0C;&#x53EF;&#x80FD;&#x5C31;&#x80FD;&#x731C;&#x5230;&#x539F;&#x56E0;&#xFF0C;&#x53EF;&#x60DC;&#x5728;&#x5E76;&#x53D1;&#x573A;&#x666F;&#x4E0B;&#x6211;&#x6CA1;&#x80FD;&#x6CE8;&#x610F;&#x5230;&#xFF0C;Since the original fetch request is asynchronous, it will finish after the table view does its initial load. The table view will try to unwrap the venues property but since there are no results yet, your app will crash.&#x770B;&#x6765;&#x5728;swift&#x7684;&#x5E76;&#x53D1;&#x4E4B;&#x4E2D;&#xFF0C;&#x9700;&#x8981;&#x957F;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x201C;&#x5FC3;&#x773C;&#x201D;&#x3002;&#x66F4;&#x6539;&#x5982;&#x4E0B;&#xFF1A;</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> venues: [<span class="type">Venue</span>]! = []</span><br></pre></td></tr></table></figure>
<p>You fix this issue by initializing venues to an empty array. This way, on first load, if there are no results yet, your table view will simply be empty.</p>
<hr>
<p><strong>Batch Updates&#xFF1A;no fetch request</strong></p>
<p>Sometimes, the only reason you fetch objects from Core Data is to mutate an attribute. Then, after you make your changes, you have to commit the Core Data objects back to the persistent store and call it a day. This is the normal process you&#x2019;ve been following all along.<br>&#x901A;&#x5E38;&#xFF0C;&#x4ECE;coredata&#x83B7;&#x53D6;&#x5BF9;&#x8C61;&#x7684;&#x552F;&#x4E00;&#x7406;&#x7531;&#x662F;&#x60F3;&#x66F4;&#x6539;&#x5176;&#x7684;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#xFF0C;&#x5E76;&#x5728;&#x66F4;&#x6539;&#x4E4B;&#x540E;&#x6DFB;&#x52A0;&#x5230;&#x4E0A;&#x4E0B;&#x6587;&#xFF0C;&#x518D;commit&#x56FA;&#x5316;&#x4E4B;&#xFF0C;&#x8FD9;&#x662F;&#x6700;&#x5E38;&#x89C1;&#x7684;&#x6D41;&#x7A0B;&#x3002;</p>
<p>But What if you want to update a hundred thousand records all at once? It would take a lot of time and a lot of memory to fetch all of those objects just to update one attribute. No amount of tweaking your fetch request would save your user from having to stare at a spinner for a long, long time.<br>&#x4F46;&#x662F;&#x5982;&#x679C;&#x8003;&#x8651;&#x4E00;&#x4E0B;&#x573A;&#x666F;&#xFF1A;&#x5982;&#x679C;&#x4F60;&#x9700;&#x8981;&#x4E00;&#x6B21;&#x6027;&#x66F4;&#x65B0;10&#x4E07;&#x6761;&#x7EAA;&#x5F55;&#xFF0C;&#x8FD9;&#x6837;&#x91CF;&#x7EA7;&#x7684;&#x6570;&#x636E;&#x4F1A;&#x8D39;&#x5927;&#x91CF;&#x7684;&#x65F6;&#x95F4;&#x548C;&#x5185;&#x5B58;&#x53BB;&#x8BF7;&#x6C42;&#x6240;&#x6709;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x6240;&#x4EE5;&#x8C03;&#x6574;&#x8BF7;&#x6C42;&#x662F;&#x5FC5;&#x987B;&#x7684;&#x3002;</p>
<p>&#x5E78;&#x8FD0;&#x7684;&#x662F;&#x5728;iOS8&#x4E4B;&#x4E2D;&#xFF0C;&#x82F9;&#x679C;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x65B0;&#x7684;&#x4E0D;&#x9700;&#x8981;&#x8BF7;&#x6C42;&#x548C;&#x52A0;&#x8F7D;&#x5230;&#x5185;&#x5B58;&#x7684;&#x6279;&#x91CF;&#x66F4;&#x65B0;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x65B0;&#x6280;&#x672F;&#x5141;&#x8BB8;&#x8D8A;&#x8FC7;&#x4E0A;&#x4E0B;&#x6587;&#xFF08;<code>NSManagedObjectContext</code>&#xFF09;&#x76F4;&#x63A5;&#x8FDB;&#x884C;&#x56FA;&#x5316;&#x64CD;&#x4F5C;&#xFF0C;let&#x2019;s see this in practice&#xFF1A;</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MARK: &#x6279;&#x91CF;&#x65E0;&#x8BF7;&#x6C42;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">batchNoFetch</span><span class="params">()</span></span> {</span><br><span class="line"><span class="comment">// &#x6279;&#x91CF;&#x8BF7;&#x6C42;&#xFF1A;&#x6307;&#x660E;&#x66F4;&#x65B0;&#x5C5E;&#x6027; &#x6307;&#x660E;&#x4F5C;&#x7528;&#x5B58;&#x50A8; &#x6307;&#x660E;&#x7ED3;&#x679C;&#x7C7B;&#x578B;</span></span><br><span class="line">     <span class="keyword">let</span> batchUpdate = <span class="type">NSBatchUpdateRequest</span>(entityName: <span class="string">&quot;Venue&quot;</span>)</span><br><span class="line">     batchUpdate.propertiesToUpdate = [<span class="string">&quot;favorite&quot;</span>: <span class="type">NSNumber</span>(bool: <span class="literal">true</span>)]</span><br><span class="line">     batchUpdate.affectedStores = coreDataStack.psc.persistentStores            batchUpdate.resultType = <span class="type">NSBatchUpdateRequestResultType</span>.<span class="type">UpdatedObjectsCountResultType</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">// &#x6267;&#x884C; - &#x8FD4;&#x56DE;NSBatchUpdateResult</span></span><br><span class="line">      <span class="keyword">do</span> {</span><br><span class="line">          <span class="keyword">let</span> result = <span class="keyword">try</span>                                                     coreDataStack.context.executeRequest(batchUpdate) <span class="keyword">as</span>! <span class="type">NSBatchUpdateResult</span></span><br><span class="line"></span><br><span class="line">          <span class="built_in">print</span>(<span class="string">&quot;&#x66F4;&#x65B0;&#x8BB0;&#x5F55;&#xFF1A;\(result.result)&quot;</span>)</span><br><span class="line">     }<span class="keyword">catch</span> <span class="keyword">let</span> error <span class="keyword">as</span> <span class="type">NSError</span> {</span><br><span class="line">          <span class="built_in">print</span>(<span class="string">&quot;&#x672A;&#x80FD;&#x6279;&#x91CF;&#x66F4;&#x65B0;\(error),\(error.userInfo)&quot;</span>)</span><br><span class="line">     }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x4F7F;&#x7528;&#x8D77;&#x6765;&#x8FD8;&#x662F;&#x76F8;&#x5F53;&#x65B9;&#x4FBF;&#x7684;&#xFF0C;&#x6307;&#x660E;&#x64CD;&#x4F5C;&#x5C5E;&#x6027;&#xFF0C;&#x4F5C;&#x7528;&#x5B58;&#x50A8;&#x548C;&#x8BBE;&#x7F6E;&#x7C7B;&#x578B;&#x7740;&#x8001;&#x4E00;&#x5957;&#xFF0C;&#x53EA;&#x662F;&#x7ED3;&#x679C;&#x5C31;&#x662F; <code>NSBatchUpdateResult</code>&#x4E86;&#xFF0C;&#x5F53;&#x7136;&#x5982;&#x679C;&#x4F60;&#x53EB;&#x677F;&#x79FB;&#x52A8;&#x7AEF;&#x6CA1;&#x6709;&#x8FD9;&#x4E48;&#x5927;&#x89C4;&#x6A21;&#x7684;&#x6570;&#x636E;&#x90A3;&#x6211;&#x4E5F;&#x6CA1;&#x529E;&#x6CD5;&#x4E86;</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2015/03/15/AutoLayout的一些经验/"><span>AutoLayout的一些经验</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2015/03/15/AutoLayout的一些经验/" rel="bookmark">
        <time class="entry-date published" datetime="2015-03-15T01:31:31.000Z">
          2015-03-15
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h6 id="autolayout-by-yongsir"><a href="#AutoLayout-by-YongSir&#x1F1E8;&#x1F1F3;&#x1F1E8;&#x1F1F3;" class="headerlink" title="AutoLayout by YongSir&#x1F1E8;&#x1F1F3;&#x1F1E8;&#x1F1F3;"></a>AutoLayout by YongSir&#x1F1E8;&#x1F1F3;&#x1F1E8;&#x1F1F3;</h6><p>&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#x73A9;&#x513F;AutoLayout&#x6240;&#x5F97;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;&#xFF0D;</p>
<ul>
<li>&#x9047;&#x5230;&#x5F88;&#x96BE;&#x5E03;&#x5C40;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x4E0D;&#x8981;&#x5FD8;&#x4E86;&#x4F7F;&#x7528;&#x8F85;&#x52A9;&#x89C6;&#x56FE;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x5BF9;&#x67D0;&#x4E9B;&#x7CFB;&#x7EDF;&#x63D0;&#x4F9B;&#x7D27;&#x5BC6;&#x7684;UI&#x7684;&#x65F6;&#x5019;</li>
</ul>
<p>&#x5982;&#x60F3;&#x4E3A;UINavigationBar&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x4EE3;&#x5934;&#x50CF;&#x548C;title&#x7684;titleView&#x65F6;&#xFF0C;&#x56E0;&#x4E3A;titleView&#x672C;&#x8EAB;&#x53EA;&#x6709;width&#x53EF;&#x8BBE;&#x7F6E;&#xFF0C;&#x90A3;&#x4E48;&#x5982;&#x4F55;&#x4FDD;&#x8BC1;&#x6B63;&#x597D;&#x5185;&#x5BB9;&#x5267;&#x4E2D;&#x5462;&#xFF1F;&#x5F53;&#x7136;&#x7ED9;&#x4F60;&#x7684;&#x5185;&#x5BB9;&#x5F97;&#x5230;&#x7236;&#x89C6;&#x56FE;&#x7684;&#x5BBD;&#x5EA6;&#xFF0C;&#x9996;&#x5148;&#x662F;&#x60F3;&#x5230;&#x8BBE;&#x7F6E;futherVIew&#x7684;<code>Huging/Compression - Priority</code>&#xFF0C;&#x4F46;&#x662F;&#x65E0;&#x8BBA;&#x5982;&#x4F55;&#x90FD;&#x662F;&#x4E0D;&#x884C;&#x7684;&#xFF0C;&#x539F;&#x56E0;&#x5373;&#x5728;&#x4E8E;&#x7CFB;&#x7EDF;&#x9ED8;&#x8BA4;&#x63D0;&#x4F9B;&#x7684;<code>navigationItem.titleView</code>&#x662F;&#x8BBE;&#x7F6E;Autosizingmask&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x65F6;&#x5C31;&#x8981;&#x501F;&#x52A9;&#x4E00;&#x4E2A;&#x8F85;&#x52A9;&#x6027;&#x7684;containerView&#x4E86;&#xFF0C;image&#x548C;titleLb&#x90FD;&#x52A0;&#x5230;containerView&#x4E0A;&#xFF0C;&#x5728;&#x8BBE;&#x7F6E;containerView&#x7684;center&#x7B49;&#x4E8E;titleViewcenter&#xFF0C;&#x5C31;&#x4E0D;&#x7528;&#x53BB;&#x7BA1;&#x5982;&#x4F55;&#x81EA;&#x9002;&#x5E94;width&#x7684;&#x4E3A;&#x9898;&#x4E86;&#xFF0C;&#x603B;&#x4E4B;: <strong>&#x5728;&#x600E;&#x4E48;&#x8BBE;&#x7F6E;&#x90FD;&#x4E0D;&#x884C;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8BB0;&#x7684;&#x8003;&#x8651;&#x6DFB;&#x52A0;&#x53EA;&#x7EA6;&#x675F;centerX &#x548C; centerY &#x7684;&#x8F85;&#x52A9;&#x8BD5;&#x56FE;</strong>&#xFF0C; like this&#xFF1A;</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">let</span> titleView: <span class="type">UIView</span> = {</span><br><span class="line">    <span class="keyword">let</span> view = <span class="type">UIView</span>(frame: <span class="type">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">40</span>))</span><br><span class="line">    <span class="keyword">return</span> view</span><br><span class="line">}()</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">let</span> titleLb: <span class="type">UILabel</span> = {</span><br><span class="line">    <span class="keyword">let</span> view = <span class="type">UILabel</span>()</span><br><span class="line">    view.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">    <span class="keyword">return</span> view</span><br><span class="line">}()</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">let</span> userImageView: <span class="type">UIImageView</span> = {</span><br><span class="line">    <span class="keyword">let</span> view = <span class="type">UIImageView</span>()</span><br><span class="line">    view.layer.cornerRadius = <span class="number">20.0</span></span><br><span class="line">    view.layer.masksToBounds = <span class="literal">true</span></span><br><span class="line">    view.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">    <span class="keyword">return</span> view</span><br><span class="line">}()</span><br><span class="line"></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">    notificationsKeyboard()</span><br><span class="line">    </span><br><span class="line">    setUpNavBar()</span><br><span class="line">    setUpView()</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">setUpNavBar</span><span class="params">()</span></span> {</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> continarView = <span class="type">UIView</span>()</span><br><span class="line">    continarView.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">    continarView.addSubview(userImageView)</span><br><span class="line">    continarView.addSubview(titleLb)</span><br><span class="line">    titleView.addSubview(continarView)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// debuge</span></span><br><span class="line">    titleLb.text = <span class="string">&quot;JASdfasfasdON&quot;</span></span><br><span class="line">    userImageView.image = <span class="type">UIImage</span>(named: <span class="string">&quot;demoAlbum&quot;</span>)?.resizeWithWidth(<span class="number">40.0</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> viewsDict = [<span class="string">&quot;userImageView&quot;</span> : userImageView,</span><br><span class="line">                     <span class="string">&quot;titleLb&quot;</span> : titleLb,</span><br><span class="line">                     <span class="string">&quot;continarView&quot;</span> : continarView]</span><br><span class="line">    <span class="keyword">let</span> vflDict = [<span class="string">&quot;H:|[userImageView(40)]-5-[titleLb]|&quot;</span>,</span><br><span class="line">                   <span class="string">&quot;V:|[userImageView(40)]|&quot;</span>]</span><br><span class="line">    continarView.addConstraints(<span class="type">NSLayoutConstraint</span>.constraintsWithVisualFormat(vflDict[<span class="number">0</span>] <span class="keyword">as</span> <span class="type">String</span>, options: .<span class="type">AlignAllCenterY</span>, metrics: <span class="literal">nil</span>, views: viewsDict))</span><br><span class="line">    continarView.addConstraints(<span class="type">NSLayoutConstraint</span>.constraintsWithVisualFormat(vflDict[<span class="number">1</span>] <span class="keyword">as</span> <span class="type">String</span>, options: [], metrics: <span class="literal">nil</span>, views: viewsDict))</span><br><span class="line">    titleView.addConstraint(<span class="type">NSLayoutConstraint</span>(item: continarView, attribute: .<span class="type">CenterX</span>, relatedBy: .<span class="type">Equal</span>, toItem: titleView, attribute: .<span class="type">CenterX</span>, multiplier: <span class="number">1.0</span>, constant: <span class="number">0</span>))</span><br><span class="line">    titleView.addConstraint(<span class="type">NSLayoutConstraint</span>(item: continarView, attribute: .<span class="type">CenterY</span>, relatedBy: .<span class="type">Equal</span>, toItem: titleView, attribute: .<span class="type">CenterY</span>, multiplier: <span class="number">1.0</span>, constant: <span class="number">0</span>))</span><br><span class="line">    </span><br><span class="line">    navigationItem.titleView = titleView</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> item: <span class="type">UIBarButtonItem</span> = <span class="type">UIBarButtonItem</span>(title: <span class="string">&quot;...&quot;</span>, style: .<span class="type">Plain</span>, target: <span class="keyword">self</span>, action: #selector(settingBtnClicked))</span><br><span class="line">    navigationItem.rightBarButtonItem =  item</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<ul>
<li><p>&#x53D1;&#x73B0;&#x5728;&#x8BBE;&#x7F6E;&#x8DDF;&#x7236;&#x7A7A;&#x95F4;&#x5173;&#x7CFB;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x7528;<code>centterX&#xFF0F;Y</code>&#x6765;&#x7EA6;&#x675F;&#xFF0C;&#x8FD8;&#x662F;&#x7528;&#x7CFB;&#x7EDF;&#x90A3;&#x4E2A;&#x7E41;&#x7410;&#x7684;&#x65B9;&#x6CD5;&#x6BD4;&#x8F83;&#x4FBF;&#x5229;<br>&#x6240;&#x4EE5;&#x5373;&#x4FBF;&#x662F;&#x62E5;&#x6709;VFL&#xFF0C;&#x4E5F;&#x4E0D;&#x80FD;&#x5FD8;&#x4E86;&#x6076;&#x5FC3;&#x7684;&#x539F;&#x88C5;&#x65B9;&#x6CD5;&#xFF0C;&#x6BD4;&#x8F83;&#x5408;&#x7406;&#x7684;&#x662F;&#x8FD9;&#x4FE9;&#x7ED3;&#x5408;&#x7740;&#x7528;<br>&#x5355;&#x5355;&#x662F;&#x8BBE;&#x8BA1;&#x9AD8;&#x5EA6;&#x548C;&#x5BBD;&#x5EA6;&#x65F6;&#xFF0C;&#x9009;&#x7528;&#x6076;&#x5FC3;&#x65B9;&#x6CD5;</p>
</li>
<li><p>&#x8981;&#x6CE8;&#x610F;&#x901A;&#x8FC7;VFL&#x6DFB;&#x52A0;&#x7684;&#x7EA6;&#x675F;&#x672C;&#x8EAB;&#x5C31;&#x662F;NSArray&#xFF0C;&#x8FD9;&#x548C;&#x539F;&#x88C5;&#x7684;&#x8FD4;&#x56DE;NSLayoutContaint&#x4E0D;&#x540C;<br>&#x5728;addContaint/s &#x65F6;&#x8981;&#x6CE8;&#x610F;,&#x5982;&#x679C;&#x5BF9;&#x5E94;&#x4E0D;&#x6B63;&#x786E;&#xFF0C;&#x5C31;&#x4F1A;&#x6709;&#x8FD9;&#x6837;&#x7684;&#x9519;&#x8BEF;&#xFF1A;</p>
<blockquote>
<p>Terminating app due to uncaught exception &#x2018;NSInternalInconsistencyException&#x2019;, reason: &#x2018;Invalid parameter not satisfying: [constraint isKindOfClass:[NSLayoutConstraint class]]&#x2019;</p>
</blockquote>
</li>
<li><p>&#x6CE8;&#x610F;&#x7EA6;&#x675F;&#x7684;&#x6DFB;&#x52A0;&#xFF0C;&#x7EDD;&#x5927;&#x591A;&#x6570;&#x90FD;&#x662F;&#x6DFB;&#x52A0;&#x5230;&#x5F53;&#x524D;&#x7684;super&#xFF0C;&#x4E24;&#x4E2A;View&#x4E4B;&#x95F4;&#x6709;&#x4F46;&#x5F88;&#x5C11;&#xFF0C;&#x5982;&#x679C;&#x6DFB;&#x52A0;&#x9519;&#x8BEF;&#x5C31;&#x53EF;&#x80FD;&#x4F1A;&#x62A5;<br>&#x8FD9;&#x6837;&#x4E00; &#x5768;&#x9519;&#x8BEF;&#xFF1A;</p>
<blockquote>
<p>The view hierarchy is not prepared for the constraint: <nslayoutconstraint:0x7fb853f23910 yrviewofunlock:0x7fb853f218b0.leading="=" uiview:0x7fb853f12a70.leadingmargin=""><br>When added to a view, the constraint&#x2019;s items must be descendants of that view (or the view itself). This will crash if the constraint needs to be resolved before the view hierarchy is assembled. Break on -[UIView _viewHierarchyUnpreparedForConstraint:] to debug.</nslayoutconstraint:0x7fb853f23910></p>
</blockquote>
<p>&#x4EE5;&#x53CA;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">View hierarchy unprepared for constraint.</span><br><span class="line">Constraint: &lt;NSLayoutConstraint:0x7fb853f23910 YRViewOfUnlock:0x7fb853f218b0.leading == UIView:0x7fb853f12a70.leadingMargin&gt;</span><br><span class="line">Container hierarchy:</span><br><span class="line">&lt;YRViewOfUnlock: 0x7fb853f218b0; frame = (0 0; 0 0); layer = &lt;CALayer: 0x7fb853f21bd0&gt;&gt;</span><br><span class="line">View not found in container hierarchy: &lt;UIView: 0x7fb853f12a70; frame = (0 0; 375 667); autoresize = RM+BM; layer = &lt;CALayer: 0x7fb853f11d70&gt;&gt;</span><br><span class="line">That view&apos;s superview: NO SUPERVIEW</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x5982;&#x679C;&#x7EA6;&#x675F;&#x90FD;&#x6DFB;&#x52A0;&#x4E86;&#x800C;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x6548;&#x679C;&#xFF0C;&#x8981;&#x6CE8;&#x610F;&#x68C0;&#x67E5;<em>autoSize&#xFF08; translatesAutoresizingMaskIntoConstraints&#xFF09;</em>&#x662F;&#x5426;&#x5173;&#x95ED;&#x4E86;<br>&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x8FD9;&#x6837;&#x7684;&#x9519;&#x8BEF;&#xFF0C;&#x5C06;AutoLayout&#x7684;&#x4F7F;&#x7528;&#x6D41;&#x7A0B;&#x5316;&#xFF1A;</p>
<ol>
<li>&#x521B;&#x5EFA;&#x5143;&#x7D20;&#xFF0C;&#x5173;&#x95ED; translatesAutoresizingMaskIntoConstraints</li>
<li>&#x6DFB;&#x52A0;&#x5230;&#x7236;&#x7A7A;&#x95F4;</li>
<li>&#x8BBE;&#x7F6E;&#x7EA6;&#x675F;<br>&#x5426;&#x5219;&#x5C31;&#x662F;&#x8FD9;&#x6837;&#x7684;&#x9519;&#x8BEF;&#xFF1A;</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Terminating app due to uncaught exception &apos;NSInvalidArgumentException&apos;, reason: &apos;Unable to parse constraint format:</span><br><span class="line">Unable to interpret &apos;|&apos; character, because the related view doesn&apos;t have a superviewV:|-top-[btn(80)]    </span><br><span class="line">                        ^&apos;</span><br></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2015/03/13/CoreData-二/"><span>CoreData(二) - custom coredata stack programmlly</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2015/03/13/CoreData-二/" rel="bookmark">
        <time class="entry-date published" datetime="2015-03-13T09:28:07.000Z">
          2015-03-13
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h6 id="coredata-and-swift-by-yongsir"><a href="#CoreData-and-Swift-by-YongSir&#x1F1E8;&#x1F1F3;&#x1F1E8;&#x1F1F3;" class="headerlink" title="CoreData and Swift by YongSir&#x1F1E8;&#x1F1F3;&#x1F1E8;&#x1F1F3;"></a>CoreData and Swift by YongSir&#x1F1E8;&#x1F1F3;&#x1F1E8;&#x1F1F3;</h6><p>&#x4E0A;&#x4E00;&#x7BC7;&#x4E2D;&#xFF0C;&#x5DF2;&#x7ECF;&#x4F53;&#x9A8C;&#x4E86;CoreData&#x7684;&#x57FA;&#x672C;&#x4F7F;&#x7528;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;Xcode&#x8BBE;&#x8BA1;&#x6570;&#x636E;&#x6A21;&#x578B;&#xFF0C;&#x53EF;&#x4EE5;&#x5BF9;&#x6570;&#x636E;&#x67E5;&#x8BE2;&#xFF0C;&#x589E;&#x52A0;&#xFF0C;&#x66F4;&#x6539;&#xFF0C;&#x4F46;&#x8FD8;&#x4E0D;&#x77E5;&#x9053;&#x5B83;&#x7684;&#x771F;&#x6B63;&#x5DE5;&#x4F5C;&#x673A;&#x5236;&#xFF0C;&#x800C;&#x8FD9;&#x5C06;&#x662F;&#x8FD9;&#x4E00;&#x7BC7;&#x7684;&#x4E3B;&#x8981;&#x5185;&#x5BB9;</p>
<p>Core Data Stack&#xFF0C;the stack is made up of four Core Data Classes:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* NSManagedObjectModel - &#x6258;&#x7BA1;&#x5BF9;&#x8C61;&#x6A21;&#x578B;</span><br><span class="line">* NSPersistentStore &#xFF0D; &#x6301;&#x4E45;&#x5316;&#x5B58;&#x50A8;</span><br><span class="line">* NSPersistentStoreCoordinator &#xFF0D; &#x6301;&#x4E45;&#x5316;&#x5B58;&#x50A8;&#x534F;&#x8C03;&#x5668;</span><br><span class="line">* NSManagedObjectContext &#xFF0D; &#x6258;&#x7BA1;&#x5BF9;&#x8C61;&#x4E0A;&#x4E0B;&#x6587;</span><br></pre></td></tr></table></figure></p>
<p>&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x548C;&#x4E0A;&#x4E0B;&#x6587;NSManagedObjectContext&#x6253;&#x8FC7;&#x4EA4;&#x9053;&#x4E86;&#xFF0C;&#x53EF;&#x60F3;&#x800C;&#x77E5;&#x5176;&#x4ED6;3&#x4E2A;&#x662F;&#x76F8;&#x5BF9;&#x5E95;&#x5C42;&#x7684;&#x4F9D;&#x8D56;&#x5728;&#x652F;&#x63F4;&#x8005;&#x4E0A;&#x4E0B;&#x6587;&#xFF0C;&#x6240;&#x4EE5;&#x8FD8;&#x662F;&#x8001;&#x89C4;&#x77E9;&#x501F;&#x52A9;&#x4E00;&#x4E2A;Demo&#x5F00;&#x59CB;&#x5427;&#x3002;</p>
<p><strong>what we do later</strong></p>
<p>Rather than rely on the default starter template, you&#x2019;ll build your own Core Data stack: a customizable &#x201C;wrapper&#x201D; around these classes that works as a unit.</p>
<p>&#x4E00;&#x4E2A;&#x540D;&#x53EB;&#x201D;dog-walk&#x201D;&#x7684;&#x5C0F;Demo&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x4FDD;&#x5B58;&#x4F60;&#x905B;&#x72D7;&#x7684;&#x65F6;&#x95F4;&#x65E5;&#x671F;&#x5E76;&#x5C55;&#x793A;&#x5230;tableView&#x3002;&#x4E0D;&#x540C;&#x7684;&#x662F;&#xFF0C;&#x6211;&#x4EEC;&#x4E0D;&#x518D;&#x4F9D;&#x8D56;Xcode&#x7684;&#x81EA;&#x52A8;&#x6A21;&#x7248;&#x3002;</p>
<hr>
<p>&#x4E0D;&#x8FC7;&#x518D;&#x6B21;&#x4E4B;&#x524D;&#xFF0C;&#x5148;&#x8981;&#x9686;&#x91CD;&#x5BC4;&#x51FA;&#x8FD9;4&#x4E2A;<code>&#x5173;&#x952E;&#x7C7B;</code></p>
<ul>
<li><p><strong>the mamaged object model</strong></p>
<p>  NSManagedObjectModel represents each object type in your app&#x2019;s data model, the properties they can have, and the relationship between them. Other parts of the Core Data stack use the model to create objects, store properties and save data.<br>  NSManagedObjectModel&#x8868;&#x5F81;&#x5E94;&#x7528;&#x7684;&#x6570;&#x636E;&#x6A21;&#x578B;&#x4E2D;&#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x4EE5;&#x53CA;&#x5BF9;&#x8C61;&#x5305;&#x542B;&#x7684;&#x5C5E;&#x6027;&#x548C;&#x5404;&#x5BF9;&#x8C61;&#x7684;&#x5173;&#x8054;&#x5173;&#x7CFB;&#xFF0C;CoreData&#x7684;&#x5176;&#x4ED6;&#x90E8;&#x5206;&#x4F7F;&#x7528;model&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#xFF0C;&#x4FDD;&#x5B58;&#x5C5E;&#x6027;&#x548C;&#x6570;&#x636E;&#x3002;</p>
</li>
<li><p><strong>the persistent store</strong></p>
<p>  NSPersistentStore reads and writes data to whichever storage method you&#x2019;ve decided to use. Core Data provides four types of NSPersistentStore out of the box: three atomic and one non-atomic.</p>
<p>  NSPersistentStore&#x8BFB;&#x5199;&#x6570;&#x636E;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;coreData&#x63D0;&#x4F9B;&#x4E86;&#x56DB;&#x79CD;&#x65B9;&#x5F0F;&#xFF1A;</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">NSQLiteStoreType (default + nonatomic,backed by SQLite)</span><br><span class="line">NSXMLStoreType (readable + atomic, blacked by XML File, but have a large memory footprint, so available on OS X)</span><br><span class="line">NSBinaryStoreType (just like XML, large memory cost + atomic,blacked by a binary data file)</span><br><span class="line">NSInMemoryStoreType (in-memory not really persistent, terminate disappears)</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>the persistent store coordinator</strong></p>
<p>  NSPersistentStoreCoordinator is the bridge between the managed object model and the persistent store. It is responsible for using the model and the persistent stores to do most of the hard work in Core Data. It understands the NSManagedObjectModel and knows how to send information to, and fetch information from, the NSPersistentStore.<br>  NSPersistentStoreCoordinator also hides the implementation details of how your persistent store or stores are configured. This is useful for two reasons:</p>
<blockquote>
<p>NSManagedObjectContext (coming next!) doesn&#x2019;t have to know if it&#x2019;s saving to an SQLite database, XML file or even iCloud.<br>If you have multiple persistent stores, the persistent store coordinator presents a unified interface to the managed context. As far as the managed context is concerned, it always interacts with a single, aggregate persistent store.</p>
</blockquote>
<p>  <code>NSPersistentStoreCoordinator</code>&#x8D1F;&#x8D23;&#x6865;&#x63A5;&#x6258;&#x7BA1;&#x5BF9;&#x8C61;&#x6A21;&#x578B;&#x548C;&#x6301;&#x4E45;&#x5316;&#x50A8;&#x5B58;&#xFF0C;&#x8D1F;&#x8D23;model&#x7684;&#x4F7F;&#x7528;&#x548C;&#x56FA;&#x5316;&#x5B58;&#x50A8;&#x7B49;&#x8270;&#x96BE;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x63A8;&#x65AD;&#x51FA;&#x201C;&#x5411;NSPersistentStore&#x53D1;&#x9001;&#x4FE1;&#x606F;&#x201D;&#x6216;&#x8005;&#x201C;&#x4ECE;NSPersistentStore&#x83B7;&#x53D6;&#x4FE1;&#x606F;&#x201D;&#x7B49;&#x884C;&#x4E3A;&#x3002;NSPersistentStoreCoordinator&#x8FD8;&#x9690;&#x85CF;&#x4E86;&#x600E;&#x6837;&#x6301;&#x4E45;&#x5316;&#x5B58;&#x50A8;&#x7684;&#x914D;&#x7F6E;&#x7684;&#x5177;&#x4F53;&#x5B9E;&#x65BD;&#x7EC6;&#x5219;&#x3002;&#x8FD9;&#x6837;&#x4E00;&#x6765;</p>
<blockquote>
<p>&#x4E0A;&#x4E0B;&#x6587;&#x4E0D;&#x9700;&#x8981;&#x5173;&#x5FC3;&#x6570;&#x636E;&#x56FA;&#x5316;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x4E0D;&#x8BBA;&#x662F;SQLite&#xFF0C;XML&#x6216;&#x8005;&#x5176;&#x4ED6;&#x7C7B;&#x578B;<br>&#x5982;&#x679C;&#x662F;&#x591A;&#x79CD;&#x7C7B;&#x578B;&#x6DF7;&#x5408;&#x4F7F;&#x7528;&#xFF0C;&#x534F;&#x8C03;&#x5668;&#x5C31;&#x4E3A;&#x4E0A;&#x4E0B;&#x6587;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x4FBF;&#x4E8E;&#x7BA1;&#x7406;&#x7684;&#x7EDF;&#x4E00;&#x63A5;&#x53E3;</p>
</blockquote>
</li>
<li><p><strong>the managed object context</strong></p>
<p>  <img src="/img/CoreData2_001.png" alt=""></p>
<p>  <code>NSManagedObjectContext</code> is an in-memory &#x2018;scratchpad&#x2019;, do all works within it, and any changes won&#x2019;t affect the underlying data on disk until you call save() on the context.<br>  &#x4E0A;&#x4E0B;&#x6587;&#x662F;&#x4E00;&#x4E2A;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x6682;&#x5B58;&#x5668;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x5DE5;&#x4F5C;&#x90FD;&#x8981;&#x7528;&#x5230;&#x5B83;&#xFF0C;&#x4EFB;&#x4F55;&#x53D8;&#x52A8;&#x5728;save()&#x5230;&#x4E0A;&#x4E0B;&#x6587;&#x4E4B;&#x524D;&#x662F;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x5230;&#x786C;&#x76D8;&#x4E0A;&#x7684;&#x6570;&#x636E;&#x7684;&#x3002;&#x5B83;&#x662F;&#x5982;&#x6B64;&#x7684;&#x91CD;&#x8981;&#x8BF7;&#x52A1;&#x5FC5;&#x6CE8;&#x610F;&#x6240;&#x4EE5;&#x4E0B;&#x7279;&#x6027;&#xFF1A;</p>
<ol>
<li><p>The context manages the lifecycle of the objects that it creates or fetches. This lifecycle management includes powerful features such as faulting, inverse relationship handling and validation.<br>&#x4E0A;&#x4E0B;&#x6587;&#x7BA1;&#x7406;&#x7740;&#x5BF9;&#x8C61;&#x521B;&#x5EFA;&#x548C;&#x83B7;&#x53D6;&#x7684;&#x6574;&#x4E2A;&#x751F;&#x547D;&#x5468;&#x671F; &#xFF0D;&#x5305;&#x542B;&#x4E00;&#x4E9B;&#x5F3A;&#x5927;&#x7684;&#x7279;&#x6027;&#x5982;&#x9519;&#x8BEF;&#xFF0C;&#x9006;&#x5411;&#x5173;&#x7CFB;&#x4EE5;&#x53CA;&#x9A8C;&#x8BC1;&#x3002;</p>
</li>
<li><p>A managed object cannot exist without an associated context. In fact, a managed object and its context are so tightly coupled that every managed object keeps a reference to its context, which can be accessed like so:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> employeeContext = employee.managedObjectContext</span><br></pre></td></tr></table></figure>
<p>&#x6258;&#x7BA1;&#x5BF9;&#x8C61;&#x4E0D;&#x80FD;&#x72EC;&#x7ACB;&#x4E8E;&#x5176;&#x4E0A;&#x4E0B;&#x6587;&#x800C;&#x5355;&#x72EC;&#x5B58;&#x5728;&#xFF0C;&#x4ED6;&#x4EEC;&#x662F;&#x5982;&#x6B64;&#x7D27;&#x5BC6;&#x7684;&#x8026;&#x5408;&#xFF0C;&#x4EE5;&#x81F4;&#x4E8E;&#x6211;&#x4EEC;&#x7EA6;&#x5B9A;&#x4EE5;&#x8FD9;&#x6837;&#x7684;&#x547D;&#x540D;&#x548C;&#x4EE3;&#x7801;&#x6765;&#x83B7;&#x53D6;&#x5B83;&#x3002;</p>
</li>
<li><p>Contexts are very territorial; once a managed object has associated with a particular context, it will remain associated with the same context for the duration of its lifecycle.<br>&#x4E0A;&#x4E0B;&#x6587;&#x662F;&#x975E;&#x5E38;&#x81EA;&#x536B;&#x7684;&#xFF08;&#x9886;&#x571F;&#x7684;&#xFF0C;&#x771F;&#x4E0D;&#x597D;&#x7FFB;&#x8BD1;&#x1F613;&#xFF09;&#xFF0C;&#x4E00;&#x65E6;&#x6258;&#x7BA1;&#x5BF9;&#x8C61;&#x6307;&#x5B9A;&#x4E86;&#x4E00;&#x4E2A;&#x4E0A;&#x4E0B;&#x6587;&#xFF0C;&#x90A3;&#x4E48;&#x5728;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x6574;&#x4E2A;&#x751F;&#x547D;&#x5468;&#x671F;&#x90FD;&#x5C06;&#x548C;&#x5148;&#x524D;&#x6307;&#x5B9A;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x6346;&#x7ED1;&#x5173;&#x8054;&#x3002;</p>
</li>
<li><p>An application can use more than one context&#x2014;most non-trivial Core Data applications fall into this category. Since a context is an in-memory scratch pad for what&#x2019;s on disk, you can actually load the same Core Data object onto two different contexts simultaneously.<br>&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;&#x62E5;&#x6709;&#x4E0D;&#x6B62;&#x4E00;&#x4E2A;&#x4E0A;&#x4E0B;&#x6587;&#xFF0C;&#x8BB8;&#x591A;&#x4F18;&#x79C0;&#x7684;&#x5E94;&#x7528;&#x90FD;&#x4F7F;&#x7528;&#x8FD9;&#x4E00;&#x7279;&#x6027;&#x3002;&#x56E0;&#x4E3A;&#x5B83;&#x4EC5;&#x4EC5;&#x53EA;&#x662F;&#x78C1;&#x76D8;&#x4E0A;&#x5185;&#x5BB9;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x6682;&#x5B58;&#xFF0C;&#x6240;&#x4EE5;&#x4F60;&#x5927;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x901A;&#x8FC7;&#x4E0D;&#x540C;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x52A0;&#x8F7D;&#x540C;&#x4E00;&#x4EFD;CoreData&#x5BF9;&#x8C61;&#x3002;</p>
</li>
<li><p>A context is not thread safe. The same goes for a managed object&#x2014;you can only interact with contexts and managed objects on the same thread in which they were created. Apple has provided many ways to work with contexts in multithreaded applications. You&#x2019;ll read all about different concurrency models in Chapter 10, &#x201C;Multiple Managed Object Contexts.&#x201D;<br>&#x4E0A;&#x4E0B;&#x6587;&#x4E0D;&#x662F;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x7684;&#xFF0C;&#x540C;&#x6837;&#x6258;&#x7BA1;&#x5BF9;&#x8C61;&#x4E5F;&#x4E0D;&#x662F;&#xFF0C;&#x6240;&#x4EE5;&#x4F60;&#x6B63;&#x80FD;&#x5728;&#x521B;&#x5EFA;&#x5B83;&#x4EEC;&#x7684;&#x540C;&#x4E00;&#x7EBF;&#x7A0B;&#x4E2D;&#x4E0E;&#x4ED6;&#x4EEC;&#x4EA4;&#x4E92;&#x3002;Apple&#x4E5F;&#x63D0;&#x4F9B;&#x4E86;&#x5F88;&#x591A;&#x79CD;&#x4E0A;&#x4E0B;&#x6587;&#x5728;&#x4E0D;&#x540C;&#x7EBF;&#x7A0B;&#x5DE5;&#x4F5C;&#x7684;&#x673A;&#x5236;&#xFF0C;&#x540E;&#x9762;&#x4F1A;&#x4ECB;&#x7ECD;&#x5230;&#x3002;</p>
</li>
</ol>
</li>
</ul>
<p><strong>&#x603B;&#x4E4B;NSManagedObjectContext&#x662F;&#x4E00;&#x4E2A;&#x5F3A;&#x5927;&#xFF0C;&#x725B;&#x6C14;&#xFF0C;&#x4E13;&#x4E1A;&#xFF0C;&#x5FE0;&#x8BDA;&#x800C;&#x53C8;&#x8106;&#x5F31;&#x7684;&#x4E00;&#x7247;&#x5185;&#x5B58;&#x6682;&#x5B58;&#x3002;</strong></p>
<hr>
<p>Now it&#x2019;s time to return to Dog Walk and implement your own Core Data stack.</p>
<h4 id="&#x9996;&#x5148;&#x5EFA;&#x7ACB;&#x6A21;&#x578B;&#x548C;lazy-core-data-stack"><a href="#&#x9996;&#x5148;&#xFF0C;&#x5EFA;&#x7ACB;&#x6A21;&#x578B;&#x548C;lazy-Core-Data-Stack" class="headerlink" title="&#x9996;&#x5148;&#xFF0C;&#x5EFA;&#x7ACB;&#x6A21;&#x578B;&#x548C;lazy Core Data Stack"></a>&#x9996;&#x5148;&#xFF0C;&#x5EFA;&#x7ACB;&#x6A21;&#x578B;&#x548C;lazy Core Data Stack</h4><p>3&#x4E2A;&#x4E3B;&#x8981;&#x7684;&#x6B65;&#x9AA4; &#xFF0B; &#x8BBE;&#x7F6E;&#x78C1;&#x76D8;&#x56FA;&#x5316;&#x914D;&#x7F6E;NSPersistentStore&#xFF1A;</p>
<blockquote>
<p>&#x5173;&#x8054;<em> .momd&#xFF08;&#x4E5F;&#x5C31;&#x662F;.xcdatamodeld&#xFF09;</em>&#x6587;&#x4EF6;&#x7684;NSManagedObjectModel<br>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6258;&#x7BA1;&#x5BF9;&#x8C61;&#x7684;&#x534F;&#x8C03;&#x5668;NSPersistentStoreCoordinator<br>&#x521B;&#x5EFA;&#x4E0A;&#x4E0B;&#x6587;NSManagedObjectContext</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> CoreData</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CoreDataStack</span> </span>{</span><br><span class="line">  <span class="comment">// &#x56DB;&#x5927;&#x5173;&#x952E;&#x7C7B;</span></span><br><span class="line">  <span class="keyword">let</span> context: <span class="type">NSManagedObjectContext</span></span><br><span class="line">  <span class="keyword">let</span> psc: <span class="type">NSPersistentStoreCoordinator</span></span><br><span class="line">  <span class="keyword">let</span> model: <span class="type">NSManagedObjectModel</span></span><br><span class="line">  <span class="keyword">let</span> store: <span class="type">NSPersistentStore</span>?</span><br><span class="line"></span><br><span class="line">  <span class="comment">// &#x521D;&#x59CB;&#x5316;&#x548C;&#x914D;&#x7F6E;&#x6BCF;&#x4E2A;&#x7EC4;&#x4EF6;</span></span><br><span class="line">  <span class="keyword">init</span>() {</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1 &#x52A0;&#x8F7D;&#x201C;&#x78C1;&#x76D8;&#x4E0A;&#x7684;&#x88AB;&#x6258;&#x7BA1;&#x5BF9;&#x8C61;&#x7684;&#x6A21;&#x578B;&#xFF08;.momd&#x6587;&#x4EF6;&#xFF09;&#x201D;&#x5230;&#x201C;&#x6258;&#x7BA1;&#x5BF9;&#x8C61;&#x6A21;&#x578B;&#xFF08;NSManagedObjectModel&#xFF09;&#x201D;</span></span><br><span class="line">    <span class="comment">// &#x53EF;&#x4EE5;&#x7B80;&#x5355;&#x7684;&#x6BD4;&#x5BF9;&#x7406;&#x89E3;&#x4E3A;&#x4ECE; &#x201C;.xcdatamodeld&#xFF3B;xib&#xFF3D;&#x201D;&#x8BFB;&#x53D6;&#x201C;model...&#xFF3B;&#x89C6;&#x56FE;&#xFF3D;&#x201C;</span></span><br><span class="line">    <span class="keyword">let</span> bundle = <span class="type">NSBundle</span>.mainBundle()</span><br><span class="line">    <span class="keyword">let</span> modelURL = bundle.<span class="type">URLForResource</span>(<span class="string">&quot;Dog Walk&quot;</span>, withExtension: <span class="string">&quot;momd&quot;</span>)</span><br><span class="line">    model = <span class="type">NSManagedObjectModel</span>(contentsOfURL: modelURL!)!</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2 &#x4F7F;&#x7528;&#x6258;&#x7BA1;&#x5BF9;&#x8C61;&#x6A21;&#x578B;,&#x521B;&#x5EFA;&#x534F;&#x8C03;&#x5668;(NSPersistentStoreCoordinator)</span></span><br><span class="line">    psc = <span class="type">NSPersistentStoreCoordinator</span>(managedObjectModel: model)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3 &#x521B;&#x5EFA;&#x4E0A;&#x4E0B;&#x6587;(NSManagedObjectContext),&#x5173;&#x8054;&#x534F;&#x8C03;&#x5668;</span></span><br><span class="line">    context = <span class="type">NSManagedObjectContext</span>()</span><br><span class="line">    context.persistentStoreCoordinator = psc</span><br><span class="line"></span><br><span class="line">    <span class="comment">//4 &#x521B;&#x5EFA;&#x6301;&#x4E45;&#x5316;&#x65B9;&#x5F0F;&#xFF08;NSPersistentStore&#xFF09;&#xFF0C;&#x5E76;&#x4E0D;&#x662F;&#x76F4;&#x89C2;&#x521D;&#x59CB;&#x5316;&#x800C;&#x662F;&#x501F;&#x52A9;&#x534F;&#x8C03;&#x5668;&#x914D;&#x7F6E; &amp;&amp; &#x9519;&#x8BEF;&#x5904;&#x7406;</span></span><br><span class="line">    <span class="keyword">let</span> documentsURL = <span class="type">CoreDataStack</span>.applicationDocumentsDirectory()</span><br><span class="line">    <span class="keyword">let</span> storeURL = documentsURL.<span class="type">URLByAppendingPathComponent</span>(<span class="string">&quot;Dog Walk&quot;</span>)</span><br><span class="line">    <span class="keyword">let</span> options = [<span class="type">NSMigratePersistentStoresAutomaticallyOption</span>: <span class="literal">true</span>]</span><br><span class="line">    <span class="keyword">do</span> {</span><br><span class="line">      store = <span class="keyword">try</span> psc.addPersistentStoreWithType(<span class="type">NSSQLiteStoreType</span>, configuration:  <span class="literal">nil</span>, <span class="type">URL</span>: storeURL, options: options)</span><br><span class="line">    } <span class="keyword">catch</span> <span class="keyword">let</span> error <span class="keyword">as</span> <span class="type">NSError</span> {</span><br><span class="line">      <span class="built_in">print</span>(<span class="keyword">__FUNCTION__</span>  + <span class="string">&quot;&#x6301;&#x4E45;&#x5316;&#x6570;&#x636E;&#x51FA;&#x9519;\(error)&quot;</span>)</span><br><span class="line">      abort() <span class="comment">// C &#x5E93;&#x51FD;&#x6570; void abort(void) &#x4E2D;&#x6B62;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#xFF0C;&#x76F4;&#x63A5;&#x4ECE;&#x8C03;&#x7528;&#x7684;&#x5730;&#x65B9;&#x8DF3;&#x51FA;</span></span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="comment">// &#x4FDD;&#x5B58;&#x6DFB;&#x52A0;&#x5230;&#x4E0A;&#x4E0B;&#x6587;&#x7684;&#x66F4;&#x6539;  &amp;&amp; &#x9519;&#x8BEF;&#x5904;&#x7406;</span></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">saveContext</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="keyword">if</span> context.hasChanges {</span><br><span class="line">      <span class="keyword">do</span> {</span><br><span class="line">        <span class="keyword">try</span> context.save()</span><br><span class="line">      } <span class="keyword">catch</span> <span class="keyword">let</span> error <span class="keyword">as</span> <span class="type">NSError</span> {</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;&#x6CA1;&#x80FD;&#x4FDD;&#x5B58;&#xFF01;\(error)&quot;</span>)</span><br><span class="line">        abort()</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">applicationDocumentsDirectory</span>() -&gt; <span class="title">NSURL</span> </span>{</span><br><span class="line">    <span class="keyword">let</span> fileManager = <span class="type">NSFileManager</span>.defaultManager()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// returns a URL to your application&#x2019;s documents directory</span></span><br><span class="line">    <span class="comment">// &#x8FD4;&#x56DE;App&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x7684;url&#xFF0C;&#x6307;&#x5B9A;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x7684;&#x8DEF;&#x5F84;&#xFF0C;&#x4E0D;&#x7BA1;&#x4F60;&#x662F;&#x5426;&#x8981;&#x4F7F;&#x7528;CoreData&#x90FD;&#x662F;&#x5FC5;&#x987B;&#x7684;</span></span><br><span class="line">    <span class="keyword">let</span> urls = fileManager.<span class="type">URLsForDirectory</span>(<span class="type">NSSearchPathDirectory</span>.<span class="type">DocumentDirectory</span>, inDomains: <span class="type">NSSearchPathDomainMask</span>.<span class="type">UserDomainMask</span>)</span><br><span class="line">    <span class="keyword">return</span> urls[<span class="number">0</span>]</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#xFF0C;&#x5F53;&#x7136;&#x6700;&#x63A8;&#x8350;&#x7684;&#x8FD8;&#x662F;&#x5B98;&#x65B9;&#x6587;&#x6863;&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5BF9;&#x6BD4;&#x53EF;&#x660E;&#x663E;&#x770B;&#x51FA;&#x5B98;&#x65B9;&#x7248;&#x672C;&#x8981;&#x4E25;&#x8C28;&#x5F88;&#x591A;&#xFF0C;&#x751A;&#x81F3;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5957;&#x7528;&#x3002;</p>
<p>&#x7136;&#x540E;&#xFF1A;</p>
<ul>
<li>&#x5728;AppDelegate&#x4E2D;lazy coreData&#xFF0C;&#x7136;&#x540E;&#x83B7;&#x53D6;&#x4E0A;&#x4E0B;&#x6587;&#x4F20;&#x9012;&#x5230;VC&#x4E2D;&#x4EE5;&#x4FBF;&#x4E8E;&#x4F7F;&#x7528;&#x3002;</li>
<li>Xcode&#x521B;&#x5EFA;&#x201C;.xcdatamodeld&#x201D;,&#x6CE8;&#x610F;&#x6587;&#x4EF6;&#x547D;&#x540D;&#x8981;&#x548C;&#x4EE3;&#x7801;&#x4E2D;&#x4E00;&#x81F4;&#x3002;</li>
</ul>
<p>&#x6DFB;&#x52A0;entity&#xFF1A;Dog &#x548C; Walk&#xFF0C;&#x8BBE;&#x7F6E;&#x5C5E;&#x6027;&#x548C;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#xFF0C;It&#x2019;s OK to leave this relationship as a to-one relationship. A dog can have many walks, but a walk can only belong to one dog&#x2014;for the purposes of this app, at least. :]</p>
<p>&#x53E6;&#x5916;&#x53EF;&#x4EE5;&#x5230;graph editor&#x4E2D;&#x53BB;&#x770B;&#x770B;&#xFF0C;like this&#xFF1A;<br><img src="/img/CoreData2_002.png" alt=""></p>
<h4 id="&#x5176;&#x6B21;&#x6DFB;&#x52A0;&#x6A21;&#x578B;&#x5BF9;&#x8C61;&#x5B50;&#x7C7B;"><a href="#&#x5176;&#x6B21;&#xFF0C;&#x6DFB;&#x52A0;&#x6A21;&#x578B;&#x5BF9;&#x8C61;&#x5B50;&#x7C7B;" class="headerlink" title="&#x5176;&#x6B21;&#xFF0C;&#x6DFB;&#x52A0;&#x6A21;&#x578B;&#x5BF9;&#x8C61;&#x5B50;&#x7C7B;"></a>&#x5176;&#x6B21;&#xFF0C;&#x6DFB;&#x52A0;&#x6A21;&#x578B;&#x5BF9;&#x8C61;&#x5B50;&#x7C7B;</h4><p>&#x8FD8;&#x662F;&#x501F;&#x52A9;Xocde&#x5728;&#x4FDD;&#x8BC1;&#x6253;&#x5F00;cordite editor&#x7684;&#x57FA;&#x7840;&#x4E0A;&#xFF0C;&#x9009;&#x62E9;creat NSManagedOject SubClass&#x2026;2&#x4E2A;&#x90FD;&#x9009;&#xFF0C;&#x53D1;&#x73B0;&#x751F;&#x6210;4&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;Dog &#x548C; Dog+CoreDataProperties &#x548C; Walk&#x4E5F;&#x4E00;&#x6837;&#xFF08;Xcode7 &#xFF0B; swift2.0&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x539F;&#x6765;&#x7684;&#x8BDD;&#xFF0C;&#x8FD8;&#x6709;&#x5F88;&#x91CD;&#x8981;&#x7684;&#x4E00;&#x6B65;&#xFF0C;&#x8981;&#x5C06;&#x7C7B;&#x540D;&#x5173;&#x8054;&#xFF0C;&#x5C06;&#x7C7B;&#x540D;&#x5173;&#x8054;&#xFF0C;&#x5C06;&#x7C7B;&#x540D;&#x5173;&#x8054;&#xFF01;<br>&#x4F46;&#x662F;&#x90A3;&#x6837;&#x4F1A;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#xFF0C;<em>&#x56E0;&#x4E3A;Xcode7&#x4F1A;&#x81EA;&#x52A8;&#x5173;&#x8054;&#xFF0C;&#x8FD8;&#x6709;&#x6DFB;&#x52A0;@objc( XXX )&#x4EC0;&#x4E48;&#x7684;&#x4E5F;&#x4E0D;&#x5FC5;&#x4E86;</em></p>
<h4 id="&#x7136;&#x540E;&#x6211;&#x4EEC;&#x5C31;&#x5F00;&#x59CB;&#x6109;&#x5FEB;&#x7684;&#x4F7F;&#x7528;&#x5566;"><a href="#&#x7136;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x5F00;&#x59CB;&#x6109;&#x5FEB;&#x7684;&#x4F7F;&#x7528;&#x5566;" class="headerlink" title="&#x7136;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x5F00;&#x59CB;&#x6109;&#x5FEB;&#x7684;&#x4F7F;&#x7528;&#x5566;"></a>&#x7136;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x5F00;&#x59CB;&#x6109;&#x5FEB;&#x7684;&#x4F7F;&#x7528;&#x5566;</h4><ul>
<li><p>&#x57FA;&#x7840;&#x529F;&#x80FD;&#xFF1A;&#x9996;&#x5148;&#x662F;&#x5728; viewDidLoad() &#x4E2D;InsertDog&#x5B9E;&#x4F53;&#xFF0C;&#x601D;&#x8DEF;&#x5C31;&#x662F;&#x201C; &#x9996;&#x5148;&#x83B7;&#x53D6;&#x6240;&#x6709;&#x53EB;&#x201C;Fido&#x201D;&#x7684;&#x5B9E;&#x4F53;&#xFF0C;&#x5982;&#x679C;&#x5F97;&#x5230;&#x7A7A;&#x6570;&#x7EC4;&#xFF3B;&#xFF3D;&#xFF0C;&#x8868;&#x793A;&#x8FD9;&#x662F;&#x7B2C;&#x4E00;&#x6B21;&#x4F7F;&#x7528;App</p>
<p>&#x9996;&#x6B21;&#x4F7F;&#x7528;&#xFF0C;&#x9700;&#x8981;&#x7528;&#x6237;&#x6DFB;&#x7684;dog&#x547D;&#x540D;&#x4E3A;&#x201C;Fido&#x201D;&#x201D;&#xFF0C;&#x7136;&#x540E;&#x66FF;&#x6362;&#x58F0;&#x660E;currentDog&#x5C5E;&#x6027;&#xFF0C;<br>&#x5728;&#x6DFB;&#x52A0;BTN&#x6309;&#x4E0B;&#x4E4B;&#x540E;&#xFF0C;&#x4E3A;currentDog&#x6DFB;&#x52A0;Walk&#xFF0C;&#x7136;&#x540E;reloadData&#xFF1A;</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* &#x589E;&#x52A0;&#x6E9C;&#x72D7; */</span></span><br><span class="line"><span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(sender: AnyObject)</span></span> {</span><br><span class="line"></span><br><span class="line">   <span class="comment">// &#x6DFB;&#x52A0;Walk&#x5230;CoreData</span></span><br><span class="line">   <span class="keyword">let</span> walkEntity = <span class="type">NSEntityDescription</span>.entityForName(<span class="string">&quot;Walk&quot;</span>, inManagedObjectContext: managedContext)</span><br><span class="line">   <span class="keyword">let</span> walk = <span class="type">Walk</span>(entity: walkEntity!, insertIntoManagedObjectContext: managedContext)</span><br><span class="line">   walk.date = <span class="type">NSDate</span>()</span><br><span class="line"></span><br><span class="line">   <span class="comment">// &#x6DFB;&#x52A0;walk&#x5230;Dog&#x7684;walk&#x96C6;&#x5408;</span></span><br><span class="line">   <span class="keyword">let</span> walks = currentDog.walks?.mutableCopy() <span class="keyword">as</span>! <span class="type">NSMutableOrderedSet</span></span><br><span class="line">   walks.addObject(walk)</span><br><span class="line">   currentDog.walks = walks.copy() <span class="keyword">as</span>? <span class="type">NSOrderedSet</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// &#x4FDD;&#x5B58;&#x4E0A;&#x4E0B;&#x6587;</span></span><br><span class="line">   <span class="keyword">do</span> {</span><br><span class="line">     <span class="keyword">try</span> managedContext.save()</span><br><span class="line">     <span class="built_in">print</span>(<span class="string">&quot;ok&quot;</span>)</span><br><span class="line">   } <span class="keyword">catch</span> <span class="keyword">let</span> error <span class="keyword">as</span> <span class="type">NSError</span> {</span><br><span class="line">     <span class="built_in">print</span>(<span class="string">&quot;&#x6DFB;&#x52A0;walk&#x5931;&#x8D25;\(error)&quot;</span>)</span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line">   <span class="comment">// &#x5237;&#x65B0;UI</span></span><br><span class="line">   tableView.reloadData()</span><br><span class="line"> }</span><br></pre></td></tr></table></figure>
<p> &#x8FD9;&#x6837;&#x5C31;&#x57FA;&#x672C;&#x5B8C;&#x6210;&#x4E86;App&#x7684;&#x529F;&#x80FD;&#x3002;&#x8FD9;&#x5C31;&#x662F;CoreData&#x5173;&#x8054;&#x5BF9;&#x8C61;&#x5E26;&#x6765;&#x7684;&#x4FBF;&#x5229;&#x4E4B;&#x5904;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x5199;&#x590D;&#x6742;&#x7684;&#x5B57;&#x5178;&#x8F6C;&#x6A21;&#x578B;&#x4E4B;&#x7C7B;&#x7684;&#xFF0C;&#x800C;&#x662F;&#x501F;&#x52A9;&#x7CFB;&#x7EDF;&#x5B8C;&#x6210;</p>
</li>
<li><p>&#x5220;&#x9664;&#x6570;&#x636E;&#x3002;&#x622A;&#x6B62;&#x5230;&#x76EE;&#x524D;&#xFF0C;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x5B8C;&#x6210;&#x201C;&#x589E; &#x67E5; &#x6539;&#x201D;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x800C;&#x5220;&#x9664;&#x529F;&#x80FD;&#x81EA;&#x7136;&#x662F;&#x6CA1;&#x6709;&#x7406;&#x7531;&#x7F3A;&#x5931;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x770B;&#x770B;coreData&#x7684;&#x5220;&#x64CD;&#x4F5C;</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, canEditRowAtIndexPath indexPath: NSIndexPath)</span></span> -&gt; <span class="type">Bool</span> {</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, commitEditingStyle editingStyle: UITableViewCellEditingStyle, forRowAtIndexPath indexPath: NSIndexPath)</span></span> {</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> editingStyle == <span class="type">UITableViewCellEditingStyle</span>.<span class="type">Delete</span> {</span><br><span class="line"></span><br><span class="line">  <span class="comment">// &#x5F85;&#x5220;&#x9664;walk</span></span><br><span class="line">  <span class="keyword">let</span> walkToRemove = currentDog.walks![indexPath.row] <span class="keyword">as</span>! <span class="type">Walk</span>  <span class="comment">// &#x4ECE;&#x4E0A;&#x4E0B;&#x6587;&#x5220;&#x9664;</span></span><br><span class="line">  managedContext.deleteObject(walkToRemove)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// &#x4FDD;&#x5B58;&#x4E0A;&#x4E0B;&#x6587;</span></span><br><span class="line">  <span class="keyword">do</span> {</span><br><span class="line">    <span class="keyword">try</span> managedContext.save()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ok&quot;</span>)</span><br><span class="line">  } <span class="keyword">catch</span> <span class="keyword">let</span> error <span class="keyword">as</span> <span class="type">NSError</span> {</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&#x6DFB;&#x52A0;walk&#x5931;&#x8D25;\(error)&quot;</span>)</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="comment">// &#x5237;&#x65B0;UI</span></span><br><span class="line">  tableView.deleteRowsAtIndexPaths([indexPath], withRowAnimation: <span class="type">UITableViewRowAnimation</span>.<span class="type">Automatic</span>)</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x501F;&#x7528;tableView&#x7684;&#x5DE6;&#x5212;&#x51FA;delete&#xFF0C;&#x7136;&#x540E;commit&#x65F6;&#x5B8C;&#x6210;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#xFF0C;&#x6838;&#x5FC3;&#x65B9;&#x6CD5;&#x5728;&#x4E8E;    <code>managedContext.deleteObject(walkToRemove)</code>&#x5BF9;&#x4E0A;&#x4E0B;&#x6587;&#x7684;&#x64CD;&#x4F5C;</p>
<p>&#x81F3;&#x6B64; coreData&#x7684;&#x589E;&#x5220;&#x67E5;&#x6539;&#x90FD;&#x5DF2;&#x7ECF;&#x6709;&#x4E86;&#xFF0C;&#x4E0D;&#x7BA1;&#x662F;&#x5229;&#x7528;Xcode&#x8FD8;&#x662F;&#x624B;&#x52A8;&#x521B;&#x5EFA;stack&#x90FD;&#x641E;&#x5B9A;&#x4E86;&#xFF0C;&#x5982;&#x679C;&#x53EA;&#x662F;&#x7B80;&#x5355;&#x7684;&#x4F7F;&#x7528;&#x53EF;&#x4EE5;&#x5230;&#x6B64;&#x5C31;&#x544A;&#x4E00;&#x6BB5;&#x843D;&#x4E86;</p>
</li>
</ul>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2015/03/12/CoreData-一/"><span>CoreData(一) - 初试，人生若只如初见</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2015/03/12/CoreData-一/" rel="bookmark">
        <time class="entry-date published" datetime="2015-03-12T09:28:07.000Z">
          2015-03-12
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h6 id="coredata-and-swift-by-yongsir"><a href="#CoreData-and-Swift-by-YongSir&#x1F1E8;&#x1F1F3;&#x1F1E8;&#x1F1F3;" class="headerlink" title="CoreData and Swift by YongSir&#x1F1E8;&#x1F1F3;&#x1F1E8;&#x1F1F3;"></a>CoreData and Swift by YongSir&#x1F1E8;&#x1F1F3;&#x1F1E8;&#x1F1F3;</h6><p>&#x8FD9;&#x662F;&#x8FD9;&#x672C;&#x4E66;Core Data by Tutorials&#x7684;&#x8BFB;&#x4E66;&#x7B14;&#x8BB0;&#xFF0C;&#x5927;&#x5927;&#x7684;&#x5C01;&#x9762;<br><img src="/img/CoreData1_001_Top.png" alt="&#x5927;&#x5927;&#x7684;&#x5C01;&#x9762;"></p>
<h2 id="section-one"><a href="#section-one" class="headerlink" title="section one"></a>section one</h2><p>First,why we need coreData&#xFF1F;It matters data persistence.</p>
<p>&#x662F;&#x554A;&#xFF0C;&#x5E02;&#x573A;&#x4E0A;&#x6709;<code>SQL</code>&#x548C;<code>Realm</code>&#x8FD9;&#x4E9B;&#x7B80;&#x5355;&#x6613;&#x7528;&#x7684;&#x4E1C;&#x897F;&#xFF0C;&#x8C01;&#x8FD8;&#x9700;&#x8981;<code>coreData</code><br>&#x4F46;&#x662F;<code>coreData</code>&#x6BD4;&#x4F60;&#x60F3;&#x8C61;&#x7684;&#x5F3A;&#x5927;&#x5F97;&#x591A;&#xFF0C;&#x6700;&#x5927;&#x7684;&#x4F18;&#x52BF;&#x5728;&#x4E8E;&#x662F;&#x82F9;&#x679C;&#x7684;&#x4EB2;&#x513F;&#x5B50;&#xFF0C;&#x5168;&#x5E73;&#x53F0;&#x901A;&#x7528;&#xFF1B;&#x800C;&#x90A3;&#x4E9B;&#x52A8;&#x5219;&#x7528;&#x5176;&#x6548;&#x7387;&#x548C;&#x64CD;&#x4F5C;&#x7684;&#xFF0C;&#x6211;&#x5C31;&#x8865;&#x5145;&#x4E00;&#x6BB5;<code>Marcus Zarra</code>&#x5927;&#x795E;&#x7684;&#x56DE;&#x7B54;&#xFF1A;</p>
<blockquote>
<p>First, my opinion on third-party code is well known: all code sucks. I think Realm is trying to solve a problem that is the incorrect problem to solve. They&#x2019;re trying to be faster than Core Data, whereas Core Data is trying to be fast enough, but maintainable. In my playing and working with Realm, I find that the amount of code you write is about equal. &#x2026; As a project leader or a developer, I want maintainability and consistency. My big concern with third-party frameworks is that they go away. It happens over and over again. We don&#x2019;t know how long Realm&#x2019;s going to be here. I don&#x2019;t understand their business model. Core Data for me is good enough; it&#x2019;s mature, it&#x2019;s been around long enough, and it&#x2019;s fast enough. If it&#x2019;s not fast enough, I&#x2019;m probably doing something wrong because I&#x2019;m in object space anyway. There&#x2019;s a lot of unknowns about Realm.</p>
</blockquote>
<p>CoreData&#x7684;&#x610F;&#x4E49;&#x5728;&#x4E8E;&#x6570;&#x636E;&#x7684;&#x66F4;&#x7075;&#x6D3B;&#x66F4;&#x9AD8;&#x6548;&#x7684;&#x5B58;&#x50A8;&#x548C;&#x5904;&#x7406;&#xFF0C;&#x80FD;&#x591F;&#x5C06;&#x6570;&#x636E;&#x56FA;&#x5316;&#x65F6;&#x6700;&#x8D77;&#x7801;&#x7684;&#x9700;&#x6C42;&#x3002;&#x5E72;&#x5DF4;&#x5DF4;&#x7684;&#x5B66;&#x4E60;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x610F;&#x601D;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x4ECE;&#x8FD9;&#x4E2A;&#x57FA;&#x672C;&#x7684;&#x9700;&#x6C42;&#x5165;&#x624B;&#xFF0C;&#x4E00;&#x4E2A;&#x8054;&#x7CFB;&#x4EBA;&#x7684;Demo&#xFF0C;&#x5229;&#x7528;coreData&#x5B9E;&#x73B0;&#x4FE1;&#x606F;&#x4ECE;&#x5185;&#x5B58;&#x5230;&#x672C;&#x5730;&#x7684;&#x56FA;&#x5316;&#xFF0C;&#x5E76;&#x4ECE;&#x672C;&#x5730;&#x8BFB;&#x53D6;&#x3002;&#x5F15;&#x8FF0;&#x4E66;&#x4E2D;&#x7684;&#x8981;&#x6C42;&#xFF1A;</p>
<p>When you tap the Home button, the app that&#x2019;s currently in the foreground goes to the background. When this happens, the operating system flash-freezes everything currently in memory, including the strings in the names array. Similarly, when it&#x2019;s time to wake up and return to the foreground, the operating system restores what used to be in memory as if you&#x2019;d never left.</p>
<p>what we really want?<br>     to persist the names you enter so they&#x2019;re available for viewing after a fresh app launch.</p>
<h4 id="-the-first-step-is-to-create-a-managed-object-model"><a href="#&#xFF0D;-The-first-step-is-to-create-a-managed-object-model" class="headerlink" title="&#xFF0D; The first step is to create a managed object model"></a>&#xFF0D; The first step is to create a managed object model</h4><p>Since you elected to use Core Data when you created the HitList project, Xcode automatically created a data model file for you and named it HitList.xcdatamodeld.</p>
<ul>
<li><p>An entity is a class definition in Core Data. The classic example is an Employee or a Company. In a relational database, an entity corresponds to a table.</p>
</li>
<li><p>An attribute is a piece of information attached to a particular entity. For example, an Employee entity could have attributes for the employee&#x2019;s name, position and salary. In a database, an attribute corresponds to a particular field in a table.</p>
</li>
<li><p>A relationship is a link between multiple entities. In Core Data, relationships between two entities are called to-one relationships, while those between one and many entities are called to-many relationships. For example, a Manager can have a to-many relationship with a set of employees, whereas an individual Employee will have a to-one relationship with his manager.</p>
</li>
</ul>
<p>As you&#x2019;ve probably noticed, entities sound a lot like a classes. Likewise, attributes/relationships sound a lot like properties. What&#x2019;s the difference? You can think of a Core Data entity as a class &#x201C;definition&#x201D; and the managed object as an instance of that class.</p>
<p>&#x9996;&#x5148;&#xFF0C;&#x9700;&#x8981;&#x521B;&#x5EFA;&#x6258;&#x7BA1;&#x5BF9;&#x8C61;&#x6A21;&#x578B;NSManagedObjectModel&#xFF0C;&#x5C31;&#x662F;&#x6307;&#x5B9A;&#x4E49;&#x5728;.mom&#x4E2D;&#x7684;&#x6240;&#x6709;&#x5B9E;&#x4F53;&#xFF0C;&#x64CD;&#x4F5C;&#x4E2D;&#x5C06;&#x6211;&#x4EEC;&#x7684;&#x6570;&#x636E;&#x6A21;&#x578B;&#x6DFB;&#x52A0;&#x5230;&#x5B83;&#x4E4B;&#x4E2D;</p>
<p>&#x57FA;&#x672C;&#x7684;&#x6982;&#x5FF5;&#xFF1A;<br><em>entity&#x5B9E;&#x4F53;</em>     &#xFF1A; &#x7406;&#x89E3;&#x4E3A;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x8868;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x4E00;&#x79CD;&#x7C7B;&#xFF0C;&#x5982;&#x4E00;&#x4E2A;Class Employee&#x6216;&#x8005;Class Company<br><em>attribute&#x5C5E;&#x6027;</em> &#xFF1A; &#x7406;&#x89E3;&#x4E3A;&#x6570;&#x636E;&#x5E93;&#x8868;&#x4E2D;&#x7684;&#x5B57;&#x6BB5;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x7279;&#x5B9A;&#x5B9E;&#x4F53;&#x7684;&#x5177;&#x4F53;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x4E00;&#x4E2A;Employee&#x5B9E;&#x4F53;&#x5305;&#x542B;name&#xFF0C;position&#xFF0C;salary&#x7B49;&#x5C5E;&#x6027;<br><em>relationship&#x5173;&#x7CFB;</em>&#xFF1A; &#x5C31;&#x662F;&#x4E0D;&#x540C;&#x5B9E;&#x4F53;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x5728;coreData&#x4E2D;&#xFF0C;&#x4E24;&#x4E2A;&#x5B9E;&#x4F53;&#x95F4;&#x53EB;&#x6709;&#x4E00;&#x5BF9;&#x4E00;&#x5173;&#x7CFB;&#xFF0C;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x5B9E;&#x4F53;&#x548C;&#x591A;&#x4E2A;&#x5B9E;&#x4F53;&#x4E4B;&#x95F4;&#xFF0C;&#x5C31;&#x79F0;&#x4E4B;&#x4E3A;&#x591A;&#x5BF9;&#x4E00;&#x5173;&#x7CFB;&#x3002;&#x6BD4;&#x5982;&#x4E00;&#x4E2A;manager&#x548C;employee&#x4E4B;&#x95F4;&#x5C31;&#x662F;&#x5BF9;&#x591A;&#x5173;&#x7CFB;&#xFF0C;&#x800C;&#x4E00;&#x4E2A;employee &#x548C;manager&#x5C31;&#x662F;&#x5BF9;&#x4E00;&#x7684;&#x5173;&#x7CFB;&#x3002;</p>
<h4 id="-next-replace-the-table-views-model"><a href="#&#xFF0D;-Next-replace-the-table-view&#x2019;s-model" class="headerlink" title="&#xFF0D; Next, replace the table view&#x2019;s model"></a>&#xFF0D; Next, replace the table view&#x2019;s model</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// var names = [String]()</span></span><br><span class="line"><span class="comment">// Change &#x201C;names&#x201D; to &#x201C;people&#x201D; and [String] to [NSManagedObject]</span></span><br><span class="line"><span class="comment">// &#x4F7F;&#x7528;&#x5F3A;&#x5927;&#x7684;NSManagedObject&#x5B9E;&#x4F8B;&#xFF0C;&#x6765;&#x66FF;&#x4EE3;&#x7B80;&#x5355;&#x7684;string</span></span><br><span class="line"><span class="keyword">var</span> people = [<span class="type">NSManagedObject</span>]()</span><br></pre></td></tr></table></figure>
<p><strong>NSManagedObject</strong> represents a single object stored in Core Data&#x2014;you must use it to create, edit, save and delete from your Core Data persistent store. As you&#x2019;ll see shortly, NSManagedObject is a shape-shifter. It can take the form of any entity in your data model, appropriating whatever attributes and relationships you defined.</p>
<ol>
<li>Before you can save or retrieve anything from your Core Data store, you first need to get your hands on an NSManagedObjectContext. You can think of a managed object context as an in-memory &#x201C;scratchpad&#x201D; for working with managed objects.</li>
<li>You create a new managed object and insert it into the managed object context. You can do this in one step with NSManagedObject&#x2019;s designated initializer: init(entity:insertIntoManagedObjectContext:).</li>
<li>With an NSManagedObject in hand, you set the name attribute using key-value coding. You have to spell the KVC key (&#x201C;name&#x201D; in this case) exactly as it appears on your data model, otherwise your app will crash at runtime.</li>
<li>You commit your changes to person and save to disk by calling save on the managed object context. Note that save takes one parameter, which is a pointer to an NSError; if there is ever an error with the save operation, you can inspect the error and alert the user if necessary.</li>
<li>Congratulations! Your new managed object is now safely ensconced in your Core Data persistent store. Insert the new managed object into the people array so that it shows up in the table view when it reloads.</li>
</ol>
<p>&#x5176;&#x6B21;&#xFF0C;&#x4F7F;&#x7528;&#x6258;&#x7BA1;&#x5BF9;&#x8C61; <em>&#xFF3B;NSManagedObject&#xFF3D;</em> &#x96C6;&#x5408;&#x6765;&#x66FF;&#x6362;tableView&#x6570;&#x636E;&#x6A21;&#x578B;&#xFF08;&#x8FD9;&#x91CC;&#x7684;names&#xFF09;<br>&#x6258;&#x7BA1;&#x5BF9;&#x8C61;NSManagedObject&#xFF0C;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x62FF;&#x6765;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x7684;&#x57FA;&#x672C;&#x5355;&#x4F4D;&#x3002;&#x5BF9;&#x5E94;&#x4E0B;&#x6765;&#xFF1A;</p>
<ul>
<li>&#x589E;&#x52A0;&#x4E00;&#x6761;&#x6570;&#x636E;&#x662F;&#x5728;NSManagedObjectContext&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;NSManagedObject&#x3002;</li>
<li>&#x67E5;&#x627E;&#x6570;&#x636E;&#x662F;&#x67E5;&#x627E;NSManagedObject&#x3002;</li>
<li>&#x4FEE;&#x6539;&#x662F;&#x4FEE;&#x6539;NSManagedObject&#x7C7B;&#x7684;&#x5C5E;&#x6027;&#x3002;</li>
<li>&#x5220;&#x9664;&#x662F;&#x4ECE;NSManagedObjectContext&#x91CC;&#x9762;&#x5220;&#x9664;NSManagedObject&#x7C7B;&#x3002;</li>
</ul>
<p>&#x6700;&#x540E;&#x6211;&#x4EEC;&#x4FDD;&#x5B58;NSManagedObjectContext&#xFF0C;&#x7136;&#x540E;&#x4E00;&#x76F4;&#x5411;&#x4E0A;&#x4F20;&#x9012;&#x5230;&#x78C1;&#x76D8;&#x4E0A;&#x9762;&#x53BB;&#xFF0C;&#x624D;&#x662F;&#x6301;&#x4E45;&#x5316;&#x7684;&#x4FEE;&#x6539;&#x3002;&#x603B;&#x4E4B;&#xFF0C;&#x6A21;&#x578B;&#x5BF9;&#x8C61;&#x7684;&#x6570;&#x636E;&#x88AB;&#x6301;&#x6709;&#x5728;NSManagedObject&#x5BF9;&#x8C61;&#x4E2D;&#x3002;&#x6BCF;&#x4E00;&#x4E2A;NSManagedObject&#x5BF9;&#x8C61;&#x90FD;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x5B9E;&#x4F53;&#xFF08;&#x5C31;&#x50CF;&#x6BCF;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x7C7B;&#xFF09;&#x3002;</p>
<p>&#x800C;&#x5BF9;&#x4E8E;NSManagedObject&#x7684;&#x64CD;&#x4F5C;&#x53C8;&#x5F15;&#x51FA;&#x4E00;&#x4E2A;&#x53EB;NSManagedObjectContext&#x7684;&#x4E1C;&#x4E1C;&#xFF0C;&#x8FD9;&#x662F;&#x662F;&#x6211;&#x4EEC;&#x7ECF;&#x5E38;&#x4F7F;&#x7528;&#x5230;&#x7684;&#x4E00;&#x4E2A;&#x7C7B;&#x3002;&#x5BF9;&#x4E8E;&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x6709;&#x8FD9;&#x4E2A;&#x7C7B;&#xFF0C;&#x56E0;&#x4E3A;&#x6570;&#x636E;&#x5E93;&#x7684;IO&#x64CD;&#x4F5C;&#x662F;&#x5F88;&#x8D39;&#x65F6;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x628A;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x64CD;&#x4F5C;&#x7F13;&#x5B58;&#x5230;&#x4E86;&#x4E00;&#x4E2A;&#x5185;&#x5B58;&#x533A;&#x57DF;&#xFF0C;&#x7B49;&#x5F85;&#x5408;&#x9002;&#x7684;&#x5B9E;&#x9645;&#x5728;&#x53BB;&#x5199;&#x5165;&#x771F;&#x5B9E;&#x7684;&#x78C1;&#x76D8;&#x4E2D;&#x3002;&#x8FD9;&#x6837;&#x5927;&#x5927;&#x7684;&#x63D0;&#x9AD8;&#x6548;&#x7387;&#x3002;&#x6BD4;&#x5982;&#x63D2;&#x5165;&#x4E00;&#x6761;&#x6570;&#x636E;&#xFF0C;&#x7136;&#x540E;&#x4FEE;&#x6539;&#x6570;&#x636E;&#xFF0C;&#x6700;&#x540E;&#x5220;&#x9664;&#x6389;&#x8FD9;&#x6761;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x6BCF;&#x6B21;&#x90FD;&#x6267;&#x884C;commit&#x7684;&#x8BDD;&#x662F;&#x64CD;&#x4F5C;&#x4E09;&#x6B21;IO&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x628A;&#x8FD9;&#x4E09;&#x6761;&#x5408;&#x5E76;&#x5728;&#x4E00;&#x8D77;commit&#x7684;&#x8BDD;&#x5C31;&#x53EA;&#x6709;&#x4E00;&#x6B21;commit&#x3002;&#x8FD9;&#x6837;&#x80FD;&#x6709;&#x6548;&#x7684;&#x63D0;&#x9AD8;&#x6574;&#x4E2A;&#x7CFB;&#x7EDF;&#x7684;&#x6548;&#x7387;&#x3002;NSManagedObjectContext&#x5C31;&#x662F;&#x4E3A;&#x63D0;&#x4F9B;IO&#x6548;&#x7387;&#x800C;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x201C;&#x6682;&#x5B58;&#x201D;&#x3002;&#x540C;&#x65F6;&#x63D0;&#x524D;&#x6307;&#x51FA;&#x4F7F;&#x7528;Core Data&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF1A;NSManagedObjectContext&#x5E76;&#x4E0D;&#x662F;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x7684;&#xFF0C;&#x66F4;&#x591A;&#x76F8;&#x5173;&#x8BA8;&#x8BBA;&#x5148;&#x5F80;&#x540E;&#x653E;&#x3002;</p>
<h4 id="-fetching-from-coredata"><a href="#&#xFF0D;-Fetching-from-CoreData" class="headerlink" title="&#xFF0D; Fetching from CoreData"></a>&#xFF0D; Fetching from CoreData</h4><p>LoadData from coreData</p>
<ol>
<li>before you can do anything with Core Data, you need a managed object context. Fetching is no different!</li>
<li>Setting a fetch request&#x2019;s entity property, or alternatively initializing it with init(entityName:), fetches all objects of a particular entity. This is what you do here to fetch all Person entities.<br>NSFetchRequest is the class responsible for fetching from Core Data.<br>Fetch requests have several qualifiers that refine the set of results they return.</li>
<li>You hand the fetch request over to the managed object context to do the heavy lifting. executeFetchRequest(_:error:) returns an optional array of managed objects that meets the criteria specified by the fetch request.</li>
</ol>
<p>&#x83B7;&#x53D6;&#x5DF2;&#x4FDD;&#x5B58;&#x7684;&#x6570;&#x636E;&#xFF1A;</p>
<ul>
<li>&#x5148;&#x8981;&#x5F97;&#x5230;&#x4E0A;&#x4E0B;&#x6587;</li>
<li>&#x8BBE;&#x7F6E;fetchRequest</li>
<li>&#x6839;&#x636E;&#x8BF7;&#x6C42;&#x4ECE;&#x4E0A;&#x4E0B;&#x6587;&#x83B7;&#x53D6;&#x6570;&#x636E;&#x5E76;&#x505A;&#x6570;&#x636E;&#x5904;&#x7406;<br><img src="/img/CoreData1_002.png" alt=""></li>
</ul>
<h2 id="section-two"><a href="#section-two" class="headerlink" title="section two"></a>section two</h2><p>&#x5C31;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5C0F;&#x5C0F;&#x7684;BowTie&#x7BA1;&#x7406;&#x7684;demo&#xFF0C;&#x5C31;&#x662F;&#x7BA1;&#x7406;&#x4F60;&#x7684;&#x4E0D;&#x540C;&#x989C;&#x8272;&#x7684;&#x9886;&#x7ED3;&#xFF0C;UI&#x548C;&#x529F;&#x80FD;&#x5982;&#x4E0B;&#xFF1A;<br>     segumentController &#xFF0D; &#x53EF;&#x9009;&#x989C;&#x8272;<br>     name  &#xFF0D; &#x540D;&#x79F0;<br>     rante &#xFF0D; &#x8BC4;&#x5206;&#xFF0C;&#x4ECE;0-5<br>     times &#xFF0D; &#x4F69;&#x6234;&#x6B21;&#x6570;<br>     lastWorn &#xFF0D; &#x4E0A;&#x6B21;&#x4F69;&#x6234;&#x7684;&#x65E5;&#x671F;<br>     Favorite &#xFF0D; &#x662F;&#x5426;&#x6700;&#x7231;<br>     wear &#xFF0D; &#x589E;&#x52A0;&#x4F69;&#x6234;&#x6B21;&#x6570;&#x548C;&#x66F4;&#x65B0;&#x4F69;&#x6234;&#x65E5;&#x671F;<br>     rate &#xFF0D; &#x8BC4;&#x5206;&#x5141;&#x8BB8;&#x4F60;&#x91CD;&#x65B0;&#x8BC4;&#x5206;</p>
<p>OK&#xFF0C;What you have to do now is take this sample data, store it in Core Data and use it to implement the bow tie management functionality.</p>
<h4 id="firstly-create-your-data-model"><a href="#Firstly-create-your-data-model" class="headerlink" title="Firstly ,create your data model"></a>Firstly ,create your data model</h4><p>&#x5728;Bow<em>Ties.xcdatamodeld&#x4E2D;&#x64CD;&#x4F5C;&#xFF0C;&#x6DFB;&#x52A0;Bowtie&#x5B9E;&#x4F53;&#xFF0C;&#x540C;&#x65F6;&#x914D;&#x7F6E;&#x5C5E;&#x6027;&#xFF0C;&#x4E3A;&#x5C5E;&#x6027;&#x9009;&#x53D6;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;&#x4FBF;&#x5229;&#x7684;&#x53EF;&#x89C6;&#x5316;&#x64CD;&#x4F5C;&#x95EE;&#x4EC0;&#x4E48;&#x4E0D;&#x5462;&#x2026;&#x2026;^</em>^</p>
<p><img src="/img/CoreData1_003.png" alt=""><br>Core Data also provides the option of storing arbitrary blobs of binary data directly in your data model. These could be anything from images to PDF files, or anything else that can be serialized into zeroes and ones.</p>
<p>&#x5982;&#x679C;&#x6CE8;&#x610F;&#x5230;&#x6BCF;&#x4E2A;&#x9886;&#x7ED3;&#x90FD;&#x662F;&#x6709;&#x5BF9;&#x5E94;image &#x7684;&#xFF0C;&#x4E8B;&#x5B9E;&#x4E0A;coreData&#x4E5F;&#x652F;&#x6301;&#x5B9A;&#x4E49;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x636E;&#xFF0C;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;photoData&#x5C5E;&#x6027;&#xFF0C;&#x7C7B;&#x578B;&#x9009;&#x4E3A;BinaryData&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x6837;&#x4FBF;&#x5229;&#x7684;&#x7ED3;&#x679C;&#x5C31;&#x662F;&#x4F1A;&#x5E26;&#x6765;&#x6025;&#x5267;&#x7684;&#x6D88;&#x8017;&#xFF0C;&#x6839;&#x636E;SQLite&#x4E2D;&#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x5373;&#x4FBF;&#x53EA;&#x60F3;&#x8981;&#x4E00;&#x4E2A;name&#xFF0C;&#x5185;&#x5B58;&#x4E2D;&#x4E5F;&#x4F1A;&#x5168;&#x90E8;&#x52A0;&#x8F7D;database&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x6D88;&#x8017;&#x662F;&#x4E0D;&#x53EF;&#x63A5;&#x53D7;&#x7684;&#x3002;</p>
<p>Luckily, Core Data anticipates this problem.&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x8981;&#x5BF9;photoData&#x5C5E;&#x6027;&#x8FDB;&#x884C;&#x914D;&#x7F6E;Allows External Storage&#xFF0C;&#x5982;&#x56FE;&#xFF1A;<br><img src="/img/CoreData1_004.png" alt=""></p>
<blockquote>
<p>The Allows External Storage option is only available for the binary data attribute type.</p>
</blockquote>
<p>When you enable Allows External Storage, Core Data heuristically decides on a per-value basis if it should save the data directly in the database or store a URI that points to a separate file.&#x5F53;&#x9009;&#x53D6;&#x5141;&#x8BB8;&#x5916;&#x90E8;&#x5B58;&#x50A8;&#x65F6;&#xFF0C;CoreData&#x76F4;&#x63A5;&#x9884;&#x5224;&#x662F;&#x5426;&#x5E94;&#x8BE5;&#x4FDD;&#x5B58;&#x6570;&#x636E;&#x5230;database&#x4EA6;&#x6216;&#x662F;&#x8F6C;&#x800C;&#x50A8;&#x5B58;&#x4E00;&#x4E2A;&#x6307;&#x5411;&#x7279;&#x5B9A;&#x6587;&#x4EF6;&#x7684;URL&#x3002;</p>
<p>&#x6240;&#x4EE5;&#xFF0C;&#x76EE;&#x524D;&#x8BF4;&#x6765; coreData &#x652F;&#x6301;&#x5E38;&#x89C1;&#x7684;&#x6240;&#x6709;&#x57FA;&#x672C;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF1A;In sum, besides strings, integers, doubles, Booleans and dates, Core Data can also save binary data, and it can do so efficiently and intelligently.</p>
<p>&#x4F46;&#x4EC5;&#x4EC5;&#x662F;&#x8FD9;&#x6837;&#x8FD8;&#x4E0D;&#x591F;&#xFF0C;&#x56E0;&#x4E3A;&#x66F4;&#x591A;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x80FD;&#x591F;&#x5B58;&#x50A8;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x4E00;&#x822C;&#x5C31;&#x662F;&#x81EA;&#x5B9A;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x6BD4;&#x5982;Demo&#x4E2D;&#x6BCF;&#x4E2A;&#x9886;&#x7ED3;&#x90FD;&#x6709;&#x989C;&#x8272;&#xFF0C;&#x800C;&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x4E2D;&#x662F;&#x6CA1;&#x6709;UIColor&#x7684;&#xFF0C;Once again, Core Data has your back&#xFF0C;&#x5728;Attributes&#x7684;Type&#x4E2D;&#x6709;&#x4E2A;Transformable&#x7C7B;&#x578B;&#xFF0C;CoreData&#x5141;&#x8BB8;&#x6240;&#x6709;&#x9075;&#x5FAA;NSCoding&#x534F;&#x8BAE;&#x7684;&#x5BF9;&#x8C61;&#x90FD;&#x53EF;&#x4EE5;&#x5B58;&#x50A8;&#x3002;&#x6B63;&#x5982;UIColor (UIColor conforms to NSSecureCoding, which inherits from NSCoding, so it can use the transformable type out of the box)&#xFF0C;&#x6DFB;&#x52A0;tintColor&#xFF1A;<br><img src="/img/CoreData1_005.png" alt=""></p>
<p>New, data model is now complete. The Bowtie entity has the eight attributes it needs to store all the information in SampleData.plist.</p>
<h4 id="secondly-managed-object-subclasses"><a href="#secondly-managed-object-subclasses" class="headerlink" title="secondly, managed object subclasses"></a>secondly, managed object subclasses</h4><p>&#x5728;section1&#x4E2D;&#x7684;demo&#x4E2D;&#xFF0C;&#x6258;&#x7BA1;&#x5BF9;&#x8C61;&#x4F7F;&#x7528;&#x7684;&#x662F;KVC&#x7ED9;Person&#x5B9E;&#x4F53;&#x7684;name&#x5C5E;&#x6027;&#x8D4B;&#x503C;&#xFF0C;like this&#xFF1A;</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x4F7F;&#x7528;KVC&#x5411;&#x5C5E;&#x6027;&#xFF08;attribute&#xFF09;&#x8D4B;&#x503C;</span></span><br><span class="line">person.setValue(name, forKey: <span class="string">&quot;name&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;KVC&#x4F46;&#x5E76;&#x4E0D;&#x610F;&#x5473;&#x7740;&#x5E94;&#x8BE5;&#x7528;&#x5B83;&#xFF0C;&#x56E0;&#x4E3A;KVC&#x7684;&#x7F3A;&#x70B9;&#x4E5F;&#x5F88;&#x660E;&#x663E;&#xFF0C;&#x5C31;&#x662F;&#x5B83;&#x7684;&#x4E00;&#x5207;&#x90FD;&#x4F9D;&#x8D56;&#x4E8E;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;The biggest problem with key-value coding is the fact that you&#x2019;re accessing of data using strings instead of strongly-typed classes. This is often jokingly referred to as writing stringly typed code.</p>
<p>As you probably know from experience, &#x201C;stringly typed&#x201D; code is vulnerable to silly human errors such as mistyping and misspelling. Key-value coding also doesn&#x2019;t take full advantage of Swift&#x2019;s type-checking and Xcode&#x2019;s auto-completion. :]</p>
<p>&#x6700;&#x597D;&#x7684;&#x66FF;&#x4EE3;&#x65B9;&#x5F0F;&#x5C31;&#x662F;&#x5728;&#x6570;&#x636E;&#x6A21;&#x578B;&#x4E2D;&#x4E3A;&#x6BCF;&#x4E2A;&#x5B9E;&#x4F53;&#x521B;&#x5EFA;NSManagedObject&#x5B50;&#x7C7B;&#xFF0C;&#x8FD9;&#x5C31;&#x610F;&#x5473;&#x4F1A;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x7740;&#x5305;&#x542B;&#x6240;&#x6709;&#x5BF9;&#x5E94;&#x5C5E;&#x6027;&#x7684;Bowtie&#x7C7B;&#xFF0C;&#x4F7F;&#x7528;Xcode&#x6765;&#x751F;&#x6210;&#x5427;</p>
<p>Make sure you still have Bow_Ties.xcdatamodeld open, and go to Editor\Create NSManagedObject Subclass&#x2026;. Select the data model and then the Bowtie entity in the next two dialog boxes, then select Swift as the language option in the final box. If you&#x2019;re asked, say No to creating an Objective-C bridging header. Click Create to save the file.</p>
<p>Bowtie&#x770B;&#x8D77;&#x6765;&#x5C31;&#x662F;&#x8FD9;&#x6837;&#xFF1A;<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> CoreData</span><br><span class="line"><span class="comment">/*</span><br><span class="line">Similar to @dynamic in Objective-C, the @NSManaged attribute informs</span><br><span class="line">the Swift compiler that the backing store and implementation of a property</span><br><span class="line">will be provided at runtime instead of at compile time.</span><br><span class="line"></span><br><span class="line">The normal pattern is for a property to be backed by an instance variable</span><br><span class="line">in memory. A property on a managed object is different: It&#x2019;s backed by the</span><br><span class="line">managed object context, so the source of the data is not known at compile time.</span><br><span class="line">*/</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bowtie</span>: <span class="title">NSManagedObject</span> </span>{</span><br><span class="line">    <span class="comment">// bool,double,int -&gt; NSNumber</span></span><br><span class="line">    <span class="meta">@NSManaged</span> <span class="keyword">var</span> isFavorite: <span class="type">NSNumber</span></span><br><span class="line">    <span class="meta">@NSManaged</span> <span class="keyword">var</span> lastWorn: <span class="type">NSDate</span></span><br><span class="line">    <span class="meta">@NSManaged</span> <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">    <span class="meta">@NSManaged</span> <span class="keyword">var</span> rating: <span class="type">NSNumber</span></span><br><span class="line">    <span class="meta">@NSManaged</span> <span class="keyword">var</span> searchKey: <span class="type">String</span></span><br><span class="line">    <span class="meta">@NSManaged</span> <span class="keyword">var</span> timesWorn: <span class="type">NSNumber</span></span><br><span class="line">    <span class="meta">@NSManaged</span> <span class="keyword">var</span> photoData: <span class="type">NSData</span> <span class="comment">// &#x4E8C;&#x8FDB;&#x5236;&#xFF0D;&gt; NSData</span></span><br><span class="line">    <span class="meta">@NSManaged</span> <span class="keyword">var</span> tintColor: <span class="type">AnyObject</span> <span class="comment">// &#x53EF;&#x53D8;&#x7C7B;&#x578B;&#xFF0D;&gt; AnyObject</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<p>&#x5982;&#x679C;&#x4E0D;&#x60F3;&#x4F7F;&#x7528;NSNumber&#xFF0C;&#x66F4;&#x52A0;&#x7D27;&#x51C6;&#x7684;&#x7C7B;&#x578B;&#x6620;&#x5C04;&#x9700;&#x8981;&#x5728;&#x521B;&#x5EFA;&#x7C7B;&#x65F6;&#x52FE;&#x9009;Use scalar properties for primitive data types in the last dialog&#xFF0C;&#x867D;&#x7136;&#x8FD9;&#x91CC;&#x6682;&#x65F6;&#x4E0D;&#x52FE;&#x9009;<br><img src="/img/CoreData1_006.png" alt=""></p>
<p>&#x8FD8;&#x6709;&#x5F88;&#x91CD;&#x8981;&#x7684;&#x4E00;&#x70B9;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x94FE;&#x63A5;Bowtie&#x5230;&#x6570;&#x636E;&#x6A21;&#x578B;&#x7F16;&#x8F91;&#x5668;&#x7684;Bowtie&#x5B9E;&#x4F53;&#x3002;&#xFF08;&#x8111;&#x8865;StoryBoard &#x4E0E; view&#x7684;&#x94FE;&#x63A5;&#xFF09;<br><img src="/img/CoreData1_007.png" alt=""></p>
<p>Next to Class, replace Bowtie with Bow_Ties.Bowtie. This is the fully specified class name for Bowtie.swift. This last step links the runtime Bowtie class to the Bowtie entity in the data model editor.</p>
<p>Congratulations, you&#x2019;ve just made your first managed object subclass in Swift! Compared with key-value coding, this is a much better way of working with Core Data entities. There are two main benefits:</p>
<ol>
<li><p>Managed object subclasses unleash the syntactic power of Swift properties. By accessing attributes using properties instead of key-value coding, you again befriend Xcode and the compiler.</p>
</li>
<li><p>You gain the ability to override existing methods or to add your own convenience methods. Note that there are some NSManagedObject methods you must never override. Check Apple&#x2019;s documentation of NSManagedObject for a complete list.</p>
</li>
</ol>
<h4 id="third-propagating-a-managed-context"><a href="#Third-propagating-a-managed-context" class="headerlink" title="Third ,propagating a managed context"></a>Third ,propagating a managed context</h4><p>&#x4F20;&#x9012;&#x4E0A;&#x4E0B;&#x6587;&#x5230;&#x63A7;&#x5236;&#x5668;&#xFF0C;&#x6BD5;&#x7ADF;&#x8001;&#x662F;&#x7528;appdelegat&#x662F;&#x6BD4;&#x8F83;&#x70E6;&#x7684;&#xFF0C;so pass the managed context from class to class via a property.</p>
<p>&#x5728;&#x63A7;&#x5236;&#x5668;&#x4E2D;&#xFF0C;&#x4ECE;plist&#x4E2D;&#x83B7;&#x53D6;&#x6570;&#x636E;&#xFF0C;and insert all the bow tie data you had in SampleData.plist into Core Data<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x4ECE;plist&#x83B7;&#x53D6;&#x6570;&#x636E;&#xFF0C;&#x7136;&#x540E;&#x63D2;&#x5165;&#x5230;data</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">insertSampleData</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure></p>
<p>&#x60F3;&#x770B;&#x770B;&#x8FD9;&#x4E24;&#x79CD;&#x7279;&#x6B8A;&#x7C7B;&#x578B;&#x662F;&#x600E;&#x4E48;&#x4FDD;&#x5B58;&#x7684;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// image&#x8F6C;&#x53D8;&#x4E3A;NSData&#x4FDD;&#x5B58;</span></span><br><span class="line"><span class="keyword">let</span> photoData = <span class="type">UIImagePNGRepresentation</span>(image)</span><br><span class="line"><span class="comment">// &#x989C;&#x8272;&#x76F4;&#x63A5;&#x7528;UIColor&#x4FDD;&#x5B58; &#xFF0D; &#x4E00;&#x4E2A;&#x4E13;&#x95E8;&#x7531;RGB&#x8FD4;&#x56DE;&#x989C;&#x8272;&#x7684;&#x65B9;&#x6CD5;</span></span><br><span class="line">bowtie.tintColor = colorFromDict(tintColotDict)</span><br></pre></td></tr></table></figure></p>
<p>&#x8FD9;&#x91CC;&#x6D89;&#x53CA;&#x5230;&#x4E00;&#x4E2A;&#x7C7B;&#x4F3C;SQL&#x4E2D;WHERE&#x8BED;&#x53E5;&#x7684;&#x67E5;&#x627E;&#x7684;&#x7C7B;&#xFF0C;NSPredicate&#xFF0C;&#x7528;&#x6CD5;&#x7B80;&#x5355;&#x907F;&#x514D;&#x4E86;&#x4F60;&#x53BB;&#x5B66;&#x4E60;&#x706B;&#x661F;&#x7684;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x6BD4;&#x5982;&#x8981;&#x5728;firstName&#x4E2D;&#x67E5;&#x627E;&#x2019;Bob&#x2019;&#xFF1A;<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">NSPredicate</span> predicateWithFormat:@<span class="string">&quot;firstName = &apos;Bob&apos;&quot;</span>];</span><br></pre></td></tr></table></figure></p>
<p>&#x5F53;&#x7136;&#x8FD9;&#x91CC;&#x4EC5;&#x4EC5;&#x53EA;&#x662F;&#x67E5;&#x8BE2;&#x6EE1;&#x8DB3;&#x201C; searchKey ! = nil&#x201D;&#xFF08;&#x62E5;&#x6709;searchKey&#xFF09;&#x7684;&#x6570;&#x91CF;&#xFF0C;&#x6CA1;&#x6709;&#x7528;&#x5230;&#x7B5B;&#x9009;&#x529F;&#x80FD;&#xFF1A;<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// &#x83B7;&#x53D6;data&#x4E2D;&#x5DF2;&#x5B58;&#x5728;&#x6570;&#x636E;&#x7684;&#x6570;&#x91CF;</span></span><br><span class="line"><span class="keyword">let</span> fetchRequset = <span class="type">NSFetchRequest</span>(entityName: <span class="string">&quot;Bowtie&quot;</span>)</span><br><span class="line">fetchRequset.predicate = <span class="type">NSPredicate</span>(format: <span class="string">&quot;searchKey ! = nil&quot;</span>)</span><br><span class="line"><span class="keyword">let</span> <span class="built_in">count</span> = managedContest.countForFetchRequest(fetchRequset, error: <span class="literal">nil</span>)</span><br></pre></td></tr></table></figure></p>
<p>ok&#xFF0C;&#x4FDD;&#x5B58;&#x641E;&#x5B9A;&#x4E86;&#xFF0C;Now you need to access the data from somewhere&#xFF01;</p>
<p>&#x6240;&#x4EE5;&#x5F00;&#x59CB;&#x83B7;&#x53D6;&#x521D;&#x59CB;&#x6570;&#x636E;&#x5427;&#xFF01;&#x8FD9;&#x4E00;&#x6B65;&#x6211;&#x4EEC;&#x8981;&#x5B8C;&#x6210;<br>This is where you fetch the Bowties from Core Data and populate the UI. &#x5728;ViewDidLoad&#x4E2D;&#x6DFB;&#x52A0;&#x83B7;&#x53D6;&#x7684;&#x4EE3;&#x7801;&#xFF1A;<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 2 &#x4ECE;coreData&#x83B7;&#x53D6;&#x6570;&#x636E;</span></span><br><span class="line"><span class="keyword">let</span> request = <span class="type">NSFetchRequest</span>(entityName: <span class="string">&quot;Bowtie&quot;</span>)</span><br><span class="line"><span class="keyword">let</span> firstTitle = segmentedControl.titleForSegmentAtIndex(<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&#x8981;&#x67E5;&#x627E;seg&#x7684;title&#xFF3B;0&#xFF3D;&#xFF1A; \(firstTitle)&quot;</span>)</span><br><span class="line"><span class="comment">// 3 &#x6839;&#x636E;segment&#x7684;tilte&#x914D;&#x7F6E;&#x8BF7;&#x6C42;&#xFF0C;&#x7136;&#x540E;&#x6267;&#x884C;&#x67E5;&#x627E;&#x76F8;&#x5E94;&#x6570;&#x636E;</span></span><br><span class="line">request.predicate = <span class="type">NSPredicate</span>(format: <span class="string">&quot;searchKey == %@&quot;</span>,      firstTitle!)</span><br><span class="line"><span class="keyword">var</span> error: <span class="type">NSError</span>? = <span class="literal">nil</span></span><br><span class="line"><span class="keyword">var</span> results = managedContest.executeFetchRequest(request, error: &amp;error) <span class="keyword">as</span>! [<span class="type">Bowtie</span>]?</span><br><span class="line"><span class="comment">// 4 &#x6839;&#x636E;&#x83B7;&#x53D6;&#x7ED3;&#x679C;&#x7684;&#xFF3B;Bowtie&#xFF3D;&#x96C6;&#x5408;&#xFF0C;&#x5C55;&#x793A;UI   &amp;   &#x9519;&#x8BEF;&#x5904;&#x7406;</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> bowties = results {</span><br><span class="line">     populate(bowties[<span class="number">0</span>])</span><br><span class="line">}<span class="keyword">else</span> {</span><br><span class="line">     <span class="built_in">print</span>(<span class="string">&quot;&#x672A;&#x80FD;&#x83B7;&#x53D6;\(error),\(error!.userInfo)&quot;</span>)</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<p>populate&#x65B9;&#x6CD5;&#x5C31;&#x662F;&#x5C06;&#x6309;&#x7167;searchKey&#x83B7;&#x53D6;&#x5230;&#x7684;&#x6570;&#x636E;&#x653E;&#x5165;&#xFF3B;Bowtie&#xFF3D;&#x96C6;&#x5408;&#x540E;&#xFF0C;&#x8D1F;&#x8D23;&#x5C55;&#x793A;&#x5230;UI&#x4E0A;&#xFF0C;&#x5C31;&#x662F;&#x628A;&#x8BE5;&#x663E;&#x793A;&#x7684;UI&#x7684;&#x6570;&#x636E;&#x88C5;&#x8FDB;&#x53BB;&#xFF0C;&#x5927;&#x90E8;&#x5206;&#x6CA1;&#x6709;&#x6280;&#x672F;&#x542B;&#x91CF;&#xFF0C;&#x53EA;&#x6311;&#x9009;&#x4EE5;&#x4E0B;&#x51E0;&#x70B9;&#xFF0C;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#x6570;&#x636E;&#x7684;&#x683C;&#x5F0F;&#x9700;&#x8981;&#x8F6C;&#x5316;&#xFF0C;&#x5982;NSNumber&#x5230;Bool&#xFF1A;<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x56FE;&#x7247; &#xFF0D; &#x7531;&#x4E8C;&#x8FDB;&#x5236;&#x63D0;&#x4F9B;</span></span><br><span class="line">imageView.image = <span class="type">UIImage</span>(data: bowtie.photoData)</span><br><span class="line"><span class="comment">// &#x989C;&#x8272;&#x4F9D;&#x65E7;&#x662F;&#x989C;&#x8272;</span></span><br><span class="line">view.tintColor = bowtie.tintColor <span class="keyword">as</span>! <span class="type">UIColor</span></span><br><span class="line"><span class="comment">// NSNumber -&gt; bool</span></span><br><span class="line">favoriteLabel.hidden = !bowtie.isFavorite.boolValue</span><br></pre></td></tr></table></figure></p>
<p>&#x7136;&#x540E;&#x8FD0;&#x884C;&#xFF0C;&#x770B;&#x5230;&#x8FD9;&#x6837;&#xFF1A;<br><img src="/img/CoreData1_008.png" alt=""><br>&#x73B0;&#x5728;&#x5145;&#x5206;&#x8BC1;&#x660E;&#x6211;&#x4EEC;&#x5BF9;CoreData&#x6570;&#x636E;&#x7684;&#x5B58;&#xFF0C;&#x53D6;&#xFF0C;&#x67E5;&#x90FD;&#x662F;&#x6210;&#x529F;&#x7684;&#xFF0C;&#x4E0B;&#x9762;&#x6765;&#x5B8C;&#x5584;&#x5176;&#x4ED6;&#x529F;&#x80FD;&#xFF0C;&#x4E3A;&#x4E86;&#x80FD;&#x7ED9;&#x5F53;&#x524D;&#x663E;&#x793A;&#x7684;&#x9886;&#x7ED3;&#x8FDB;&#x884C;&#x8BC4;&#x5206;&#x7B49;&#x64CD;&#x4F5C;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#x7528;&#x4EE5;&#x7EAA;&#x5F55;&#x5F53;&#x524D;&#x9886;&#x7ED3;&#xFF0C;so&#xFF1A;<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x5F53;&#x524D;&#x663E;&#x793A;&#x9886;&#x7ED3;</span></span><br><span class="line"><span class="keyword">var</span> currentBowtie: <span class="type">Bowtie</span>!</span><br></pre></td></tr></table></figure></p>
<p>&#x7136;&#x540E;&#x5C31;&#x662F;&#x5B9E;&#x73B0;&#x548C;&#x6DFB;&#x52A0;wear&#x548C;rate&#x529F;&#x80FD;&#x4E86;&#xFF0C;&#x5B8C;&#x6210;&#x4E4B;&#x540E;&#x53D1;&#x73B0;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x5C31;&#x662F;rate&#x6211;&#x4EEC;&#x60F3;&#x89C4;&#x5B9A;&#x4E2D;0-5&#xFF0C;&#x4F46;&#x662F;&#x76F4;&#x63A5;&#x8DD1;&#x5230;&#x4E86;6&#xFF0C;&#x901A;&#x5E38;&#x90FD;&#x662F;&#x8003;&#x8651;&#x5728;&#x4EE3;&#x7801;&#x4E2D;&#x8F93;&#x5165;&#x65F6;&#x53BB;&#x63D0;&#x793A;&#x9650;&#x5B9A;&#xFF0C;&#x4F46;&#x6709;&#x4E2A;&#x66F4;&#x7B80;&#x5355;&#x7684;&#x529E;&#x6CD5;&#xFF0C;&#x5C31;&#x662F;&#x5229;&#x7528;Xcode&#x5BF9;rate&#x505A;&#x4E9B;&#x9650;&#x5B9A;&#x5904;&#x7406;&#xFF1A;<br><img src="/img/CoreData1_009.png" alt=""></p>
<p>&#x9700;&#x8981;&#x989D;&#x5916;&#x8BF4;&#x660E;&#x7684;&#x662F;&#xFF0C;&#x7EDD;&#x5BF9;&#x4E0D;&#x8981;&#x8F7B;&#x6613;version &#x6A21;&#x578B;&#x8BBE;&#x7F6E;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x5728;&#x4F60;&#x5DF2;&#x7ECF;&#x53D1;&#x5E03;&#x7248;&#x672C;&#x4E4B;&#x540E;&#xFF0C;&#x56E0;&#x4E3A;&#x66F4;&#x65B0;&#x65F6;&#x5F88;&#x53EF;&#x80FD;&#x4F1A;&#x5E26;&#x6765;&#x4E25;&#x91CD;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x4F46;Attribute validation is one of the few exceptions.&#x66F4;&#x591A;&#x76F8;&#x5173;&#x8BA8;&#x8BBA;&#x5148;&#x5F80;&#x540E;&#x653E;&#x3002;<br>&#x5F53;&#x518D;&#x6B21;&#x8F93;&#x5165;&#x4E0D;&#x518D;&#x8303;&#x56F4;&#x7684;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x5C31;&#x4F1A;&#x6709;&#x9519;&#x8BEF;&#x63D0;&#x5347;&#xFF1A;</p>
<blockquote>
<p>Optional(&#x201C;R&#x201D;)currentBowtie&#x66F4;&#x65B0;rate&#x540E;&#xFF0C;&#x672A;&#x80FD;&#x4FDD;&#x5B58;Optional(Error Domain=NSCocoaErrorDomain Code=1610<br>&#x201C;The operation couldn&#x2019;t be completed. (Cocoa error 1610.)&#x201D;</p>
</blockquote>
<p>&#x6839;&#x636E;&#x9519;&#x8BEF;&#x5BF9;&#x5E94;&#x7684;&#x5904;&#x7406;&#x4E5F;&#x662F;&#x5FC5;&#x987B;&#x7684;&#xFF1A;<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> error: <span class="type">NSError</span>?</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> !managedContest.save(&amp;error) {</span><br><span class="line"><span class="comment">/*</span><br><span class="line">&#x5982;&#x679C;&#x8F93;&#x5165;&#x7684;&#x8BC4;&#x5206;&#x8FC7;&#x5927;&#x6216;&#x8FC7;&#x5C0F;&#xFF0C;&#x8BC4;&#x5206;&#x65E0;&#x6548;</span><br><span class="line"></span><br><span class="line">*/</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;currentBowtie&#x66F4;&#x65B0;rate&#x540E;&#xFF0C;&#x672A;&#x80FD;&#x4FDD;&#x5B58;\(error),\(error!.userInfo)&quot;</span>)</span><br><span class="line">     <span class="keyword">if</span> error!.code == <span class="type">NSValidationDateTooLateError</span> || error!.code ==      <span class="type">NSValidationDateTooSoonError</span> {</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">          rate(currentBowtie)</span><br><span class="line"></span><br><span class="line">     }</span><br><span class="line">}<span class="keyword">else</span> {</span><br><span class="line">     populate(currentBowtie)</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<p>&#x8FD9;&#x6837;&#x5982;&#x679C;&#x8F93;&#x5165;&#x7684;&#x8BC4;&#x5206;&#x4E0D;&#x7B26;&#x5408;&#x9884;&#x671F;&#xFF0C;&#x8FC7;&#x5927;&#x6216;&#x8005;&#x8FC7;&#x5C0F;&#x8BC4;&#x5206;&#x65E0;&#x6548;&#x5C31;&#x662F;&#x4E86;</p>
<p>&#x8FD8;&#x5269;&#x4E0B;&#x4E00;&#x70B9;&#x513F;&#x6839;&#x636E;&#x4E0D;&#x540C;segumentTitle&#x5339;&#x914D;&#x4E0D;&#x540C;&#x6570;&#x636E;&#x7684;&#x529F;&#x80FD;&#x5C31;&#x4E0D;&#x518D;&#x8D58;&#x8FF0;&#x4E86;&#xFF0C;&#x7559;&#x4E00;&#x70B9;&#x513F;&#x7EC3;&#x624B;&#x7684;&#x673A;&#x4F1A;&#x81EA;&#x5DF1;&#x6162;&#x6162;&#x73A9;&#x513F;&#x5427;&#x2026;</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2015/03/10/scrollView的一些经验（二）-自动布局的正确姿势/"><span>scrollView的一些经验（二）--自动布局的正确姿势</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2015/03/10/scrollView的一些经验（二）-自动布局的正确姿势/" rel="bookmark">
        <time class="entry-date published" datetime="2015-03-10T09:03:03.000Z">
          2015-03-10
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h3 id="&#x5229;&#x7528;storyboard&#x5C1D;&#x8BD5;&#x81EA;&#x52A8;&#x5E03;&#x5C40;scrollview"><a href="#&#x5229;&#x7528;storyBoard&#x5C1D;&#x8BD5;&#x81EA;&#x52A8;&#x5E03;&#x5C40;ScrollView" class="headerlink" title="&#x5229;&#x7528;storyBoard&#x5C1D;&#x8BD5;&#x81EA;&#x52A8;&#x5E03;&#x5C40;ScrollView"></a>&#x5229;&#x7528;<code>storyBoard</code>&#x5C1D;&#x8BD5;&#x81EA;&#x52A8;&#x5E03;&#x5C40;ScrollView</h3><p>&#x5B9E;&#x9645;&#x6D4B;&#x8BD5;&#x5982;&#x4E0B;&#xFF1A;</p>
<h4 id="1-scrollview-imageviewsizefit"><a href="#1-scrollView-imageView&#xFF08;Sizefit&#xFF09;" class="headerlink" title="1 scrollView + imageView&#xFF08;Sizefit&#xFF09;"></a>1 scrollView + imageView&#xFF08;Sizefit&#xFF09;</h4><p><img src="/img/ScrollView2_001.png" alt=""><br><img src="/img/ScrollView2_002.png" alt=""></p>
<p><strong>&#x5931;&#x8D25;&#xFF01;</strong></p>
<h4 id="2-imageview&#x4FEE;&#x6539;&#x53EA;&#x6709;leading&#x548C;topspace&#x7136;&#x540E;&#x518D;&#x4EE3;&#x7801;&#x4E2D;&#x6DFB;&#x52A0;&#x6253;&#x5370;"><a href="#2-imageView&#x4FEE;&#x6539;&#xFF1A;&#x53EA;&#x6709;leading&#x548C;TopSpace-&#x7136;&#x540E;&#x518D;&#x4EE3;&#x7801;&#x4E2D;&#x6DFB;&#x52A0;&#x6253;&#x5370;&#xFF1A;" class="headerlink" title="2 imageView&#x4FEE;&#x6539;&#xFF1A;&#x53EA;&#x6709;leading&#x548C;TopSpace,&#x7136;&#x540E;&#x518D;&#x4EE3;&#x7801;&#x4E2D;&#x6DFB;&#x52A0;&#x6253;&#x5370;&#xFF1A;"></a>2 imageView&#x4FEE;&#x6539;&#xFF1A;&#x53EA;&#x6709;leading&#x548C;TopSpace,&#x7136;&#x540E;&#x518D;&#x4EE3;&#x7801;&#x4E2D;&#x6DFB;&#x52A0;&#x6253;&#x5370;&#xFF1A;</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">self</span>.view layoutIfNeeded]; <span class="comment">// &#x6B64;&#x884C;&#x4E4B;&#x524D;&#x7684;layout&#x88AB;&#x8BA1;&#x7B97;</span></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@&quot;&#x8BBE;&#x7F6E;&#x4E86;imageView&#x540E; %@&quot;</span>, <span class="keyword">self</span>.scrollView);</span><br></pre></td></tr></table></figure>
<p><img src="/img/ScrollView2_003.png" alt=""></p>
<p><strong>&#x5931;&#x8D25;&#xFF01;again</strong></p>
<p>&#x539F;&#x56E0;&#x5206;&#x6790;&#xFF1A;&#x901A;&#x8FC7;&#x6253;&#x5370;&#x53EF;&#x770B;&#x51FA;&#xFF0C;&#x4E0A;&#x8FF0;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x90FD;&#x65E0;&#x6CD5;&#x7ED9;&#x51FA;contentSize</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2015-03-11 11:27:32.577 ScrollTagDemo[2393:259138] &#x53EA;&#x662F;&#x8BBE;&#x7F6E;&#x4E86;scrollView&#x7684;&#x7EA6;&#x675F;&#xFF0C;&lt;UIScrollView: 0x7aaf1a00; frame = (190 190; 220 220); clipsToBounds = YES; autoresize = RM+BM; gestureRecognizers = &lt;NSArray: 0x788a1750&gt;; layer = &lt;CALayer: 0x78689bb0&gt;; contentOffset: {0, 0}; contentSize: {0, 0}&gt;</span><br><span class="line">2015-03-11 11:27:32.579 ScrollTagDemo[2393:259138] &#x8BBE;&#x7F6E;&#x4E86;imageView&#x540E; &lt;UIScrollView: 0x7aaf1a00; frame = (50 130; 220 220); clipsToBounds = YES; autoresize = RM+BM; gestureRecognizers = &lt;NSArray: 0x788a1750&gt;; layer = &lt;CALayer: 0x78689bb0&gt;; contentOffset: {0, 0}; contentSize: {0, 0}&gt;</span><br></pre></td></tr></table></figure>
<h4 id="3-imageview&#x518D;&#x4FEE;&#x6539;&#x5148;&#x4F7F;&#x7528;&#x4EE3;&#x7801;"><a href="#3-imageView&#x518D;&#x4FEE;&#x6539;&#xFF0C;&#x5148;&#x4F7F;&#x7528;&#x4EE3;&#x7801;&#xFF1A;" class="headerlink" title="3 imageView&#x518D;&#x4FEE;&#x6539;&#xFF0C;&#x5148;&#x4F7F;&#x7528;&#x4EE3;&#x7801;&#xFF1A;"></a>3 imageView&#x518D;&#x4FEE;&#x6539;&#xFF0C;&#x5148;&#x4F7F;&#x7528;&#x4EE3;&#x7801;&#xFF1A;</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">self</span>.scrollView.contentSize = <span class="keyword">self</span>.imageView.bounds.size;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@&quot;&#x8BBE;&#x7F6E;&#x4E86;contentSize&#x7684;frame&#x4E4B;&#x540E;&#xFF0C;%@&quot;</span>, <span class="keyword">self</span>.scrollView);</span><br></pre></td></tr></table></figure>
<p><strong>success&#xFF01;</strong></p>
<p>&#x6B64;&#x65F6;&#x7684;&#x6253;&#x5370;contentSize&#xFF1A;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2015-03-11 11:52:11.289 ScrollTagDemo[2460:266559] &#x8BBE;&#x7F6E;&#x4E86;contentSize&#x7684;frame&#x4E4B;&#x540E;&#xFF0C;&lt;UIScrollView: 0x7b885c00; frame = (190 190; 220 220); clipsToBounds = YES; autoresize = RM+BM; gestureRecognizers = &lt;NSArray: 0x7b06a2e0&gt;; layer = &lt;CALayer: 0x7b064680&gt;; contentOffset: {0, 0}; contentSize: {759, 966}&gt;</span><br></pre></td></tr></table></figure></p>
<p>&#x6240;&#x4EE5;&#x539F;&#x56E0;&#x7684;&#x786E;&#x662F;contentSize&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x5C31;&#x662F;&#x5B98;&#x65B9;&#x7ED9;&#x51FA;&#x7684;&#x6240;&#x8C13;&#x6DF7;&#x5408;&#x89E3;&#x51B3;&#x65B9;&#x5F0F;&#xFF0C;&#x4F46;&#x5728;layout&#x4E2D;&#x8BBE;&#x7F6E;frame&#x53EF;&#x662F;&#x4E0D;&#x5E38;&#x89C1;&#x7684;&#xFF0C;&#x5728;&#x6211;&#x770B;&#x6765;&#x8FD9;&#x6709;&#x6096;&#x4E8E;layout&#x7684;&#x5B9E;&#x8D28;&#xFF0C;&#x53EF;&#x7528;&#x4F46;&#x503C;&#x5F97;&#x5546;&#x69B7;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x7EE7;&#x7EED;&#x63A2;&#x7D22;&#x80FD;&#x591F;&#x4F7F;&#x7528;&#x7EA6;&#x675F;&#x7ED9;&#x51FA;contentSize&#x7684;&#x65B9;&#x6CD5;&#x3002;<br>&#x518D;&#x6B21;&#x4FEE;&#x6539;imageView&#xFF1A;</p>
<p><img src="/img/ScrollView2_004.png" alt=""></p>
<p><strong>&#x5931;&#x8D25;&#xFF0C;again&#xFF01;</strong></p>
<p>&#x6309;&#x7406;&#x8BF4;&#xFF0C;&#x7ED9;&#x5B9A;img&#x7684;&#x5BBD;&#x9AD8;&#xFF0C;&#x5C31;&#x5E94;&#x8BE5;&#x6709;contentSize&#x4E86;&#xFF0C;&#x4F46;&#x9057;&#x61BE;&#x7684;&#x662F;&#x6728;&#x6709;&#x1F622;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2015-03-11 12:01:10.255 ScrollTagDemo[2525:271602] &#x8BBE;&#x7F6E;&#x4E86;contentSize&#x7684;frame&#x4E4B;&#x540E;&#xFF0C;&lt;UIScrollView: 0x7ca72600; frame = (190 190; 220 220); clipsToBounds = YES; autoresize = RM+BM; gestureRecognizers = &lt;NSArray: 0x7c1926d0&gt;; layer = &lt;CALayer: 0x7c18cd80&gt;; contentOffset: {0, 0}; contentSize: {0, 0}&gt;</span><br></pre></td></tr></table></figure></p>
<h4 id="4-imageview&#x518D;&#x4FEE;&#x6539;&#x8FD9;&#x6B21;&#x5728;&#x7B2C;&#x4E8C;&#x6B21;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x5C1D;&#x8BD5;"><a href="#4-imageView&#x518D;&#x4FEE;&#x6539;&#xFF0C;&#x8FD9;&#x6B21;&#x5728;&#x7B2C;&#x4E8C;&#x6B21;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x5C1D;&#x8BD5;&#xFF1A;" class="headerlink" title="4 imageView&#x518D;&#x4FEE;&#x6539;&#xFF0C;&#x8FD9;&#x6B21;&#x5728;&#x7B2C;&#x4E8C;&#x6B21;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x5C1D;&#x8BD5;&#xFF1A;"></a>4 imageView&#x518D;&#x4FEE;&#x6539;&#xFF0C;&#x8FD9;&#x6B21;&#x5728;&#x7B2C;&#x4E8C;&#x6B21;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x5C1D;&#x8BD5;&#xFF1A;</h4><p><img src="/img/ScrollView2_005.png" alt=""></p>
<p><strong>success&#xFF01;it works&#xFF01;</strong></p>
<p>&#x4F46;&#x662F;&#x5BF9;&#x6BD4;&#x5148;&#x524D;&#x7684;<br><img src="/img/ScrollView2_006.png" alt=""></p>
<p>&#x4EC5;&#x4EC5;&#x662F;&#x628A;Trainling&#x8DDF;Bottom&#x53D8;&#x6210;&#x4E86;0&#xFF0C;0&#x800C;&#x5DF2;&#xFF0C;<strong>it works&#xFF01;</strong></p>
<p>&#x7531;&#x6B64;&#x53EF;&#x89C1;&#xFF1A;subView&#x7684;&#x7EA6;&#x675F;&#x662F;&#x6839;&#x636E;contentSize&#x8BA1;&#x7B97;&#x800C;&#x6765;&#x7684;&#xFF0C;&#x800C;&#x4E0D;&#x662F;scroll&#x81EA;&#x5DF1;&#xFF01;<br>&#x4F46;&#x662F;&#x4F46;&#x662F;&#xFF0C;&#x6253;&#x5370;&#x7684;&#x7ED3;&#x679C;&#x4ECD;&#x7136;&#x662F;&#xFF1A;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2015-03-11 12:10:35.446 ScrollTagDemo[2556:281194] &#x8BBE;&#x7F6E;&#x4E86;contentSize&#x7684;frame&#x4E4B;&#x540E;&#xFF0C;&lt;UIScrollView: 0x7b075600; frame = (190 190; 220 220); clipsToBounds = YES; autoresize = RM+BM; gestureRecognizers = &lt;NSArray: 0x7aa2a2f0&gt;; layer = &lt;CALayer: 0x7a8795f0&gt;; contentOffset: {0, 0}; contentSize: {0, 0}&gt;</span><br></pre></td></tr></table></figure></p>
<p>&#x80AF;&#x5B9A;&#x662F;&#x6253;&#x5370;&#x7684;&#x5730;&#x65B9;&#x4E0D;&#x5BF9;&#xFF0C;&#x5230;&#x5E95;&#x5728;&#x54EA;&#x513F;&#x5462;&#xFF1F;&#x518D;&#x8BD5;&#x8BD5;&#xFF0C;&#x901A;&#x8FC7;&#x81EA;&#x5B9A;&#x4E49;view&#xFF0C;&#x731C;&#x6D4B;&#x662F;laySubViews&#xFF0C;&#x91CD;&#x5199;&#x4E4B;&#x540E;&#x7ED3;&#x679C;&#x9A8C;&#x8BC1;&#x5982;&#x4E0B;&#xFF1A;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">2015-03-11 13:49:47.407 ScrollTagDemo[2846:353070] &#x8BBE;&#x7F6E;&#x4E86;imageView&#x540E; &lt;UIScrollView: 0x7bbaf000; frame = (190 190; 220 220); clipsToBounds = YES; autoresize = RM+BM; gestureRecognizers = &lt;NSArray: 0x7c145be0&gt;; layer = &lt;CALayer: 0x7b62da80&gt;; contentOffset: {0, 0}; contentSize: {0, 0}&gt;</span><br><span class="line">2015-03-11 13:49:47.407 ScrollTagDemo[2846:353070] &#x8BBE;&#x7F6E;&#x4E86;contentSize&#x7684;frame&#x4E4B;&#x540E;&#xFF0C;&lt;UIScrollView: 0x7bbaf000; frame = (190 190; 220 220); clipsToBounds = YES; autoresize = RM+BM; gestureRecognizers = &lt;NSArray: 0x7c145be0&gt;; layer = &lt;CALayer: 0x7b62da80&gt;; contentOffset: {0, 0}; contentSize: {0, 0}&gt;</span><br><span class="line">2015-03-11 13:49:47.412 ScrollTagDemo[2846:353070] --------------&gt;</span><br><span class="line">2015-03-11 13:49:47.413 ScrollTagDemo[2846:353070] timeOfLayout 1</span><br><span class="line">2015-03-11 13:49:47.413 ScrollTagDemo[2846:353070] scrollView.contentSize:{0, 0}</span><br><span class="line">&lt;!-- 2015-03-11 13:49:47.413 ScrollTagDemo[2846:353070] --------------&gt; --&gt;</span><br><span class="line">2015-03-11 13:49:47.413 ScrollTagDemo[2846:353070] timeOfLayout 2</span><br><span class="line">2015-03-11 13:49:47.413 ScrollTagDemo[2846:353070] scrollView.contentSize:{759, 966}</span><br></pre></td></tr></table></figure></p>
<p>&#x5728;&#x6574;&#x4E2A;viewDidLoad&#x4E2D;&#x90FD;&#x6CA1;&#x6709;&#x8BA1;&#x7B97;contentSize&#xFF0C;&#x800C;&#x662F;&#x5728;&#x7ED3;&#x675F;&#x4E4B;&#x540E;&#x7531;&#x7CFB;&#x7EDF;&#x53BB;view&#x7684; layoutSubviews&#x65B9;&#x6CD5;&#x4E2D;&#x8BA1;&#x7B97;&#x7684;&lt;&#x5728;iOS8&#x4E4B;&#x524D;&#x662F;&#x8981;&#x81EA;&#x5DF1;&#x53BB;&#x52A0;&#x4E0A;&#x4E00;&#x53E5;&#x7684;&gt;&#xFF01;</p>
<h4 id="5-&#x518D;&#x6D4B;&#x8BD5;"><a href="#5-&#x518D;&#x6D4B;&#x8BD5;&#xFF1A;" class="headerlink" title="5 &#x518D;&#x6D4B;&#x8BD5;&#xFF1A;"></a>5 &#x518D;&#x6D4B;&#x8BD5;&#xFF1A;</h4><p>imageView&#x518D;&#x6DFB;&#x52A0;&#x7EA6;&#x675F;&#xFF0C;&#x8BA9;&#x5176;&#x7684;w&#x548C;h &#x8DDF; scrollView&#x7684;w&#x548C;h &#x76F8;&#x7B49;</p>
<p><img src="/img/ScrollView2_007.png" alt=""></p>
<p><strong>also worked!</strong><br>&#x6253;&#x5370;&#x8F93;&#x51FA;&#xFF1A;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">2015-03-11 15:52:42.841 ScrollTagDemo[3154:467930] --------------&gt;</span><br><span class="line">2015-03-11 15:52:42.841 ScrollTagDemo[3154:467930] timeOfLayout 1</span><br><span class="line">2015-03-11 15:52:42.884 ScrollTagDemo[3154:467930] scrollView.frame:{{250, 190}, {100, 220}}</span><br><span class="line">2015-03-11 15:52:42.884 ScrollTagDemo[3154:467930] scrollView.contentSize:{0, 0}</span><br><span class="line">2015-03-11 15:52:42.885 ScrollTagDemo[3154:467930] --------------&gt;</span><br><span class="line">2015-03-11 15:52:42.885 ScrollTagDemo[3154:467930] timeOfLayout 2</span><br><span class="line">2015-03-11 15:52:42.885 ScrollTagDemo[3154:467930] scrollView.frame:{{250, 190}, {100, 220}}</span><br><span class="line">2015-03-11 15:52:42.885 ScrollTagDemo[3154:467930] scrollView.contentSize:{759, 966}</span><br></pre></td></tr></table></figure></p>
<p>&#x53D1;&#x73B0;&#x6839;&#x672C; scrollView.frame&#x5C31;&#x6CA1;&#x6709;&#x53D8;&#x5316;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x660E;&#x663E;&#x4E0E;&#x901A;&#x5E38;&#x7406;&#x89E3;&#x7684;&#x77DB;&#x76FE;&#xFF0C;&#x660E;&#x660E;&#x5DF2;&#x7ECF;&#x76F8;&#x7B49;&#x800C;&#x6570;&#x503C;&#x4E0D;&#x540C;&#xFF0C;&#x5176;&#x5B9E;&#x8FD9;&#x5C31;&#x662F;&#x7CFB;&#x7EDF;&#x9488;&#x5BF9;scrollView&#x505A;&#x7684;&#x7279;&#x6B8A;&#x5904;&#x7406;&#xFF0C;&#x5176;&#x5B9E;&#x5E76;&#x6CA1;&#x6709;&#x771F;&#x6B63;&#x53BB;&#x52A0;&#x4E0A;&#x8FD9;&#x4E2A;&#x7EA6;&#x675F;&#xFF0C;&#x52A0;&#x7684;&#x5176;&#x5B9E;&#x662F;&#xFF1A;</p>
<h4 id="finally"><a href="#finally" class="headerlink" title="finally"></a>finally</h4><p><img src="/img/ScrollView2_008.png" alt=""></p>
<p>&#x8FD9;&#x5C31;&#x662F;scrollView&#x7684;&#x5B8C;&#x6574;&#x7EA6;&#x675F;&#xFF01;&#x8FD9;&#x4E5F;&#x5C31;&#x662F;&#x5728;&#x5B98;&#x65B9;&#x6587;&#x6863;&#x4E2D;&#x6240;&#x63D0;&#x5230;&#x7684;<strong>&#x201C;by creating constraints between the view and a view outside the scroll view&#x2019;s subtree, such as the scroll view&#x2019;s superview&#x201D;</strong></p>
<p><img src="/img/ScrollView2_009.png" alt=""></p>
<p>&#x5C06;&#x8FD9;&#x4E2A;&#x6240;&#x8C13;&#x76F8;&#x7B49;&#x7684;&#x7EA6;&#x675F;&#x5F15;&#x7528;&#x66F4;&#x6539;&#xFF0C;&#x5C31;&#x80FD;&#x7ED3;&#x5408;&#x4EE3;&#x7801;&#x66F4;&#x6539;contentSize</p>
<p>&#x8111;&#x6D1E;&#xFF1A;&#x65E2;&#x7136;&#x7ED3;&#x679C;&#x663E;&#x793A;w&#x548C;h&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E3A;&#x201C;&gt;=&#x201D;&#xFF0C;&#x662F;&#x5426;&#x610F;&#x5473;&#x7740;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x6765;&#x8BBE;&#x7F6E;&#x8FD9;&#x6837;&#x7684;&#x7EA6;&#x675F;&#x5BF9;&#x65B9;&#xFF0C;&#x6CA1;&#x5B9E;&#x9A8C;&#xFF0C;&#x4E0D;&#x8FC7;&#x4F30;&#x8BA1;&#x5373;&#x4FBF;&#x53EF;&#x4EE5;&#x4E5F;&#x4E0D;&#x4F1A;&#x6709;&#x4EBA;&#x53BB;&#x8FD9;&#x6837;&#x8BBE;&#x7F6E;&#x7684;&#x1F44C;&#xFF01;&#x2026;&#x2026;^_^</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2015/03/08/about/"><span>scrollView的一些经验（一）</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2015/03/08/about/" rel="bookmark">
        <time class="entry-date published" datetime="2015-03-08T12:38:03.000Z">
          2015-03-08
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="scrollview&#x7684;&#x4E00;&#x4E9B;&#x7ECF;&#x9A8C;&#x4E00;"><a href="#scrollView&#x7684;&#x4E00;&#x4E9B;&#x7ECF;&#x9A8C;&#xFF08;&#x4E00;&#xFF09;" class="headerlink" title="scrollView&#x7684;&#x4E00;&#x4E9B;&#x7ECF;&#x9A8C;&#xFF08;&#x4E00;&#xFF09;"></a>scrollView&#x7684;&#x4E00;&#x4E9B;&#x7ECF;&#x9A8C;&#xFF08;&#x4E00;&#xFF09;</h2><h4 id="scrollview&#x9ED8;&#x8BA4;&#x4E0D;&#x4F1A;&#x6EDA;&#x52A8;"><a href="#scrollView&#xFF0C;&#x9ED8;&#x8BA4;&#x4E0D;&#x4F1A;&#x6EDA;&#x52A8;" class="headerlink" title="scrollView&#xFF0C;&#x9ED8;&#x8BA4;&#x4E0D;&#x4F1A;&#x6EDA;&#x52A8;"></a>scrollView&#xFF0C;&#x9ED8;&#x8BA4;&#x4E0D;&#x4F1A;&#x6EDA;&#x52A8;</h4><p>&#x56E0;&#x4E3A;&#xFF1A;</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> contentOffset: <span class="type">CGPoint</span> <span class="comment">// default CGPointZero</span></span><br><span class="line"><span class="keyword">var</span> contentSize: <span class="type">CGSize</span>    <span class="comment">// default CGSizeZero</span></span><br></pre></td></tr></table></figure>
<h4 id="scrollview&#x7684;layout"><a href="#scrollView&#x7684;layout" class="headerlink" title="scrollView&#x7684;layout"></a>scrollView&#x7684;layout</h4><p>scrollView&#x7684;layout&#xFF0C;&#x5982;&#x679C;&#x53EA;&#x8BBE;&#x7F6E;&#x5176;subViews&#x4E3A;<code>leading/trailing/top/bottom</code>&#x7684;&#x8BDD;&#xFF0C;&#x662F;&#x6CA1;&#x6709;&#x6548;&#x679C;&#x7684;&#x4E5F;&#x4E0D;&#x4F1A;&#x6EDA;&#x52A8;&#xFF0C;&#x56E0;&#x4E3A;&#x9ED8;&#x8BA4;&#x662F;&#x6CA1;&#x6709;contentSize&#x7684;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x7528;&#x7EAF;sb&#x7684;&#x8BDD;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x5236;&#x5B9A;&#x4E00;&#x4E2A;&#x786E;&#x5B9A;&#x5927;&#x5C0F;&#x7684;&#x8F85;&#x52A9;&#x6027;view&#xFF08;&#x6709;width&#x548C;height&#xFF09;&#xFF0C;&#x53EA;&#x6709;&#x8FD9;&#x6837;&#x624D;&#x80FD;&#x81EA;&#x52A8;&#x8BA1;&#x7B97;contentSize&#xFF0C;&#x6B63;&#x5982;&#xFF1A;</p>
<blockquote>
<p>&#x7528; UIScrollView &#x548C;&#x5B83; subview &#x7684; leading/trailing/top/bottom &#x6765;&#x4E92;&#x76F8;&#x51B3;&#x5B9A;&#x5927;&#x5C0F;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x51FA;&#x73B0;&#x300C;Has ambiguous scrollable content width/height&#x300D;&#x7684; warning&#x6B63;&#x786E;&#x7684;&#x59FF;&#x52BF;&#x662F;&#x7528; UIScrollView &#x5916;&#x90E8;&#x7684; view &#x6216; UIScrollView &#x672C;&#x8EAB;&#x7684; width/height &#x786E;&#x5B9A; subview &#x7684;&#x5C3A;&#x5BF8;&#xFF0C;&#x8FDB;&#x800C;&#x786E;&#x5B9A; contentSize&#x3002;&#x56E0;&#x4E3A; UIScrollView &#x672C;&#x8EAB;&#x7684; leading/trailing/top/bottom &#x53D8;&#x5F97;&#x4E0D;&#x597D;&#x7528;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4E60;&#x60EF;&#x7684;&#x505A;&#x6CD5;&#x662F;&#x5728; UIScrollView &#x548C;&#x5B83;&#x539F;&#x6765;&#x7684; subviews &#x4E4B;&#x95F4;&#x589E;&#x52A0;&#x4E00;&#x4E2A; content view&#x3002;</p>
</blockquote>
<h4 id="&#x5176;&#x5B9E;&#x5B98;&#x65B9;&#x5BF9;&#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#x5DF2;&#x505A;&#x4E86;&#x8BF4;&#x660E;"><a href="#&#x5176;&#x5B9E;&#x5B98;&#x65B9;&#x5BF9;&#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#x5DF2;&#x505A;&#x4E86;&#x8BF4;&#x660E;&#xFF1A;" class="headerlink" title="&#x5176;&#x5B9E;&#x5B98;&#x65B9;&#x5BF9;&#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#x5DF2;&#x505A;&#x4E86;&#x8BF4;&#x660E;&#xFF1A;"></a>&#x5176;&#x5B9E;&#x5B98;&#x65B9;&#x5BF9;&#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#x5DF2;&#x505A;&#x4E86;&#x8BF4;&#x660E;&#xFF1A;</h4><p><img src="/img/ScrollView1_001.png" alt=""></p>
<p>&#x8BBE;&#x8BA1;scrollView&#x7684;&#x6838;&#x5FC3;&#x4FBF;&#x662F;&#x5BF9;&#x4E8E;content &#x7684;scroll&#x65B9;&#x5F0F;&#x7684;&#x5C55;&#x793A;&#xFF0C;&#x8FD9;&#x5C31;&#x610F;&#x5473;&#x7740;content size&#x662F;&#x6700;&#x91CD;&#x8981;&#x7684;&#xFF0C;&#x800C;&#x81EA;&#x5DF1;&#x672C;&#x8EAB;&#x7684;bounds&#x4E0E;content size&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x5173;&#x7CFB;&#x3002;&#x6240;&#x4EE5;&#x7406;&#x8BBA;&#x4E0A;&#xFF0C;&#x53EA;&#x8981;&#x6240;&#x52A0;&#x7684;&#x7EA6;&#x675F;&#x80FD;&#x6700;&#x7EC8;&#x8BA1;&#x7B97;&#x51FA;content size&#x5C31;&#x6CA1;&#x6709;&#x95EE;&#x9898;&#x3002;</p>
<p><img src="/img/ScrollView1_002.png" alt=""></p>
<p>&#x6240;&#x4EE5;&#x5E38;&#x5E38;&#x5728;scrollView&#x4E2D;&#x7387;&#x5148;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x8F85;&#x52A9;&#x6027;&#x7684;contentView&#xFF0C;&#x7136;&#x540E;&#x518D;&#x5728;&#x8F85;&#x52A9;&#x6027;&#x7684;&#x89C6;&#x56FE;&#x4E0A;&#x6DFB;&#x52A0;&#x4E0B;&#x4E00;&#x5C42;&#x7EA7;&#x7684;&#x89C6;&#x56FE;&#xFF0C;&#x5BF9;&#x6BD4;&#x884D;&#x751F;&#x81EA;scrollView&#x7684;tableView&#x548C;collectionView&#xFF0C;&#x6211;&#x4EEC;&#x751A;&#x81F3;&#x53EF;&#x4EE5;&#x63A8;&#x65AD;&#x4E00;&#x6761;&#x8FD9;&#x6837;&#x7684;&#x7ED3;&#x8BBA;&#xFF1A;&#x5BF9;&#x4E8E;scrollView &#x7684;&#x76F4;&#x63A5;&#x5B50;&#x8BD5;&#x56FE;&#x6700;&#x597D;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#xFF01;<br>&#x5B98;&#x65B9;&#x7684;&#x5C0F;demo&#xFF1A;</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)viewDidLoad {</span><br><span class="line"></span><br><span class="line">    <span class="built_in">UIScrollView</span> *scrollView;</span><br><span class="line">    <span class="built_in">UIImageView</span> *imageView;</span><br><span class="line">    <span class="built_in">NSDictionary</span> *viewsDictionary;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Create the scroll view and the image view.</span></span><br><span class="line">    scrollView  = [[<span class="built_in">UIScrollView</span> alloc] init];</span><br><span class="line">    imageView = [[<span class="built_in">UIImageView</span> alloc] init];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Add an image to the image view.</span></span><br><span class="line">    [imageView setImage:[<span class="built_in">UIImage</span> imageNamed:<span class="string">&quot;MyReallyBigImage&quot;</span>]];</span><br><span class="line">    <span class="comment">// Add the scroll view to our view.</span></span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:scrollView];</span><br><span class="line">    <span class="comment">// Add the image view to the scroll view.</span></span><br><span class="line">    [scrollView addSubview:imageView];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Set the translatesAutoresizingMaskIntoConstraints to NO so that the views autoresizing mask is not translated into auto layout constraints.</span></span><br><span class="line">    scrollView.translatesAutoresizingMaskIntoConstraints  = <span class="literal">NO</span>;</span><br><span class="line">    imageView.translatesAutoresizingMaskIntoConstraints = <span class="literal">NO</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Set the constraints for the scroll view and the image view.</span></span><br><span class="line">    viewsDictionary = <span class="built_in">NSDictionaryOfVariableBindings</span>(scrollView, imageView);</span><br><span class="line"></span><br><span class="line">    [<span class="keyword">self</span>.view addConstraints:[<span class="built_in">NSLayoutConstraint</span> constraintsWithVisualFormat:<span class="string">@&quot;H:|[scrollView]|&quot;</span> options:<span class="number">0</span> metrics: <span class="number">0</span> views:viewsDictionary]];</span><br><span class="line"></span><br><span class="line">    [<span class="keyword">self</span>.view addConstraints:[<span class="built_in">NSLayoutConstraint</span> constraintsWithVisualFormat:<span class="string">@&quot;V:|[scrollView]|&quot;</span> options:<span class="number">0</span> metrics: <span class="number">0</span> views:viewsDictionary]];</span><br><span class="line"></span><br><span class="line">    [scrollView addConstraints:[<span class="built_in">NSLayoutConstraint</span> constraintsWithVisualFormat:<span class="string">@&quot;H:|[imageView]|&quot;</span> options:<span class="number">0</span> metrics: <span class="number">0</span> views:viewsDictionary]];</span><br><span class="line"></span><br><span class="line">    [scrollView addConstraints:[<span class="built_in">NSLayoutConstraint</span> constraintsWithVisualFormat:<span class="string">@&quot;V:|[imageView]|&quot;</span> options:<span class="number">0</span> metrics: <span class="number">0</span> views:viewsDictionary]];</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* the rest of your code here... */</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x731C;&#x6D4B;&#x662F;&#xFF1A;&#x901A;&#x8FC7;img&#x7ED9;&#x51FA;&#x4E86;imgV&#x7684;W&#x548C;H&#xFF0C;&#x4E0B;&#x4E00;&#x7BC7;&#x5C31;&#x7528;<code>storyboard</code>&#x6765;&#x8BD5;&#x8BD5;</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>




<nav class="pagination">
  
  
</nav>
    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2017 13hoop
    
  </p>
</footer>
    
  </div>
</div>
</body>
</html>